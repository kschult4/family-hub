var xx=Object.defineProperty,Sx=Object.defineProperties;var Cx=Object.getOwnPropertyDescriptors;var _a=Object.getOwnPropertySymbols;var jp=Object.prototype.hasOwnProperty,Fp=Object.prototype.propertyIsEnumerable;var Du=Math.pow,Lp=(t,e,n)=>e in t?xx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ee=(t,e)=>{for(var n in e||(e={}))jp.call(e,n)&&Lp(t,n,e[n]);if(_a)for(var n of _a(e))Fp.call(e,n)&&Lp(t,n,e[n]);return t},be=(t,e)=>Sx(t,Cx(e));var dn=(t,e)=>{var n={};for(var r in t)jp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_a)for(var r of _a(t))e.indexOf(r)<0&&Fp.call(t,r)&&(n[r]=t[r]);return n};var ft=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{l(n.next(u))}catch(d){i(d)}},o=u=>{try{l(n.throw(u))}catch(d){i(d)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);l((n=n.apply(t,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ex=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function bx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iv={exports:{}},Xl={},sv={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Symbol.for("react.element"),Tx=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),Ix=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),Dx=Symbol.for("react.context"),Ax=Symbol.for("react.forward_ref"),Rx=Symbol.for("react.suspense"),Mx=Symbol.for("react.memo"),Ox=Symbol.for("react.lazy"),Bp=Symbol.iterator;function Lx(t){return t===null||typeof t!="object"?null:(t=Bp&&t[Bp]||t["@@iterator"],typeof t=="function"?t:null)}var ov={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},av=Object.assign,lv={};function Es(t,e,n){this.props=t,this.context=e,this.refs=lv,this.updater=n||ov}Es.prototype.isReactComponent={};Es.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Es.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uv(){}uv.prototype=Es.prototype;function gf(t,e,n){this.props=t,this.context=e,this.refs=lv,this.updater=n||ov}var yf=gf.prototype=new uv;yf.constructor=gf;av(yf,Es.prototype);yf.isPureReactComponent=!0;var Vp=Array.isArray,cv=Object.prototype.hasOwnProperty,vf={current:null},dv={key:!0,ref:!0,__self:!0,__source:!0};function fv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)cv.call(e,r)&&!dv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ia,type:t,key:s,ref:o,props:i,_owner:vf.current}}function jx(t,e){return{$$typeof:ia,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _f(t){return typeof t=="object"&&t!==null&&t.$$typeof===ia}function Fx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Up=/\/+/g;function Au(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fx(""+t.key):e.toString(36)}function Wa(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ia:case Tx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Au(o,0):r,Vp(i)?(n="",t!=null&&(n=t.replace(Up,"$&/")+"/"),Wa(i,e,n,"",function(d){return d})):i!=null&&(_f(i)&&(i=jx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Up,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vp(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Au(s,l);o+=Wa(s,e,n,u,i)}else if(u=Lx(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Au(s,l++),o+=Wa(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wa(t,e,n){if(t==null)return t;var r=[],i=0;return Wa(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Bx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Ha={transition:null},Vx={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Ha,ReactCurrentOwner:vf};function hv(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:wa,forEach:function(t,e,n){wa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wa(t,function(){e++}),e},toArray:function(t){return wa(t,function(e){return e})||[]},only:function(t){if(!_f(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Es;Ae.Fragment=kx;Ae.Profiler=Px;Ae.PureComponent=gf;Ae.StrictMode=Ix;Ae.Suspense=Rx;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vx;Ae.act=hv;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=av({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)cv.call(e,u)&&!dv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ia,type:t.type,key:i,ref:s,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:Dx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nx,_context:t},t.Consumer=t};Ae.createElement=fv;Ae.createFactory=function(t){var e=fv.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:Ax,render:t}};Ae.isValidElement=_f;Ae.lazy=function(t){return{$$typeof:Ox,_payload:{_status:-1,_result:t},_init:Bx}};Ae.memo=function(t,e){return{$$typeof:Mx,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Ha.transition;Ha.transition={};try{t()}finally{Ha.transition=e}};Ae.unstable_act=hv;Ae.useCallback=function(t,e){return Ht.current.useCallback(t,e)};Ae.useContext=function(t){return Ht.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Ht.current.useEffect(t,e)};Ae.useId=function(){return Ht.current.useId()};Ae.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Ht.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};Ae.useRef=function(t){return Ht.current.useRef(t)};Ae.useState=function(t){return Ht.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return Ht.current.useTransition()};Ae.version="18.3.1";sv.exports=Ae;var Q=sv.exports;const Ux=bx(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=Q,Wx=Symbol.for("react.element"),Hx=Symbol.for("react.fragment"),$x=Object.prototype.hasOwnProperty,Kx=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gx={key:!0,ref:!0,__self:!0,__source:!0};function pv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$x.call(e,r)&&!Gx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Wx,type:t,key:s,ref:o,props:i,_owner:Kx.current}}Xl.Fragment=Hx;Xl.jsx=pv;Xl.jsxs=pv;iv.exports=Xl;var M=iv.exports,Rc={},mv={exports:{}},on={},gv={exports:{}},yv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,pe){var ge=re.length;re.push(pe);e:for(;0<ge;){var fe=ge-1>>>1,lt=re[fe];if(0<i(lt,pe))re[fe]=pe,re[ge]=lt,ge=fe;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var pe=re[0],ge=re.pop();if(ge!==pe){re[0]=ge;e:for(var fe=0,lt=re.length,ki=lt>>>1;fe<ki;){var jn=2*(fe+1)-1,Os=re[jn],v=jn+1,x=re[v];if(0>i(Os,ge))v<lt&&0>i(x,Os)?(re[fe]=x,re[v]=ge,fe=v):(re[fe]=Os,re[jn]=ge,fe=jn);else if(v<lt&&0>i(x,ge))re[fe]=x,re[v]=ge,fe=v;else break e}}return pe}function i(re,pe){var ge=re.sortIndex-pe.sortIndex;return ge!==0?ge:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],h=1,g=null,y=3,w=!1,I=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(re){for(var pe=n(d);pe!==null;){if(pe.callback===null)r(d);else if(pe.startTime<=re)r(d),pe.sortIndex=pe.expirationTime,e(u,pe);else break;pe=n(d)}}function L(re){if(k=!1,P(re),!I)if(n(u)!==null)I=!0,un(F);else{var pe=n(d);pe!==null&&Ye(L,pe.startTime-re)}}function F(re,pe){I=!1,k&&(k=!1,b(Y),Y=-1),w=!0;var ge=y;try{for(P(pe),g=n(u);g!==null&&(!(g.expirationTime>pe)||re&&!ze());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,y=g.priorityLevel;var lt=fe(g.expirationTime<=pe);pe=t.unstable_now(),typeof lt=="function"?g.callback=lt:g===n(u)&&r(u),P(pe)}else r(u);g=n(u)}if(g!==null)var ki=!0;else{var jn=n(d);jn!==null&&Ye(L,jn.startTime-pe),ki=!1}return ki}finally{g=null,y=ge,w=!1}}var H=!1,K=null,Y=-1,me=5,ue=-1;function ze(){return!(t.unstable_now()-ue<me)}function mt(){if(K!==null){var re=t.unstable_now();ue=re;var pe=!0;try{pe=K(!0,re)}finally{pe?ln():(H=!1,K=null)}}else H=!1}var ln;if(typeof T=="function")ln=function(){T(mt)};else if(typeof MessageChannel!="undefined"){var Ln=new MessageChannel,Yn=Ln.port2;Ln.port1.onmessage=mt,ln=function(){Yn.postMessage(null)}}else ln=function(){B(mt,0)};function un(re){K=re,H||(H=!0,ln())}function Ye(re,pe){Y=B(function(){re(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){I||w||(I=!0,un(F))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(re){switch(y){case 1:case 2:case 3:var pe=3;break;default:pe=y}var ge=y;y=pe;try{return re()}finally{y=ge}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=y;y=re;try{return pe()}finally{y=ge}},t.unstable_scheduleCallback=function(re,pe,ge){var fe=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?fe+ge:fe):ge=fe,re){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=ge+lt,re={id:h++,callback:pe,priorityLevel:re,startTime:ge,expirationTime:lt,sortIndex:-1},ge>fe?(re.sortIndex=ge,e(d,re),n(u)===null&&re===n(d)&&(k?(b(Y),Y=-1):k=!0,Ye(L,ge-fe))):(re.sortIndex=lt,e(u,re),I||w||(I=!0,un(F))),re},t.unstable_shouldYield=ze,t.unstable_wrapCallback=function(re){var pe=y;return function(){var ge=y;y=pe;try{return re.apply(this,arguments)}finally{y=ge}}}})(yv);gv.exports=yv;var Yx=gv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=Q,sn=Yx;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vv=new Set,Eo={};function Ci(t,e){ls(t,e),ls(t+"Capture",e)}function ls(t,e){for(Eo[t]=e,t=0;t<e.length;t++)vv.add(e[t])}var ar=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Mc=Object.prototype.hasOwnProperty,qx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zp={},Wp={};function Xx(t){return Mc.call(Wp,t)?!0:Mc.call(zp,t)?!1:qx.test(t)?Wp[t]=!0:(zp[t]=!0,!1)}function Zx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Jx(t,e,n,r){if(e===null||typeof e=="undefined"||Zx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var wf=/[\-:]([a-z])/g;function xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wf,xf);Dt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wf,xf);Dt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wf,xf);Dt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sf(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Jx(e,n,i,r)&&(n=null),r||i===null?Xx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mr=Qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xa=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),Cf=Symbol.for("react.strict_mode"),Oc=Symbol.for("react.profiler"),_v=Symbol.for("react.provider"),wv=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),Lc=Symbol.for("react.suspense"),jc=Symbol.for("react.suspense_list"),bf=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),xv=Symbol.for("react.offscreen"),Hp=Symbol.iterator;function js(t){return t===null||typeof t!="object"?null:(t=Hp&&t[Hp]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,Ru;function Zs(t){if(Ru===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ru=e&&e[1]||""}return`
`+Ru+t}var Mu=!1;function Ou(t,e){if(!t||Mu)return"";Mu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Mu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Zs(t):""}function eS(t){switch(t.tag){case 5:return Zs(t.type);case 16:return Zs("Lazy");case 13:return Zs("Suspense");case 19:return Zs("SuspenseList");case 0:case 2:case 15:return t=Ou(t.type,!1),t;case 11:return t=Ou(t.type.render,!1),t;case 1:return t=Ou(t.type,!0),t;default:return""}}function Fc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ri:return"Fragment";case Ai:return"Portal";case Oc:return"Profiler";case Cf:return"StrictMode";case Lc:return"Suspense";case jc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wv:return(t.displayName||"Context")+".Consumer";case _v:return(t._context.displayName||"Context")+".Provider";case Ef:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bf:return e=t.displayName||null,e!==null?e:Fc(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return Fc(t(e))}catch(n){}}return null}function tS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fc(e);case 8:return e===Cf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nS(t){var e=Sv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sa(t){t._valueTracker||(t._valueTracker=nS(t))}function Cv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Sv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sl(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Bc(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function $p(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ev(t,e){e=e.checked,e!=null&&Sf(t,"checked",e,!1)}function Vc(t,e){Ev(t,e);var n=Vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uc(t,e.type,Vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uc(t,e,n){(e!=="number"||sl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Js=Array.isArray;function qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Js(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vr(n)}}function bv(t,e){var n=Vr(e.value),r=Vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ca,kv=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ca=Ca||document.createElement("div"),Ca.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ca.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rS=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(t){rS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),io[e]=io[t]})});function Iv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||io.hasOwnProperty(t)&&io[t]?(""+e).trim():e+"px"}function Pv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Iv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iS=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hc(t,e){if(e){if(iS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function $c(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=null;function Tf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gc=null,Xi=null,Zi=null;function Qp(t){if(t=aa(t)){if(typeof Gc!="function")throw Error(J(280));var e=t.stateNode;e&&(e=nu(e),Gc(t.stateNode,t.type,e))}}function Nv(t){Xi?Zi?Zi.push(t):Zi=[t]:Xi=t}function Dv(){if(Xi){var t=Xi,e=Zi;if(Zi=Xi=null,Qp(t),e)for(t=0;t<e.length;t++)Qp(e[t])}}function Av(t,e){return t(e)}function Rv(){}var Lu=!1;function Mv(t,e,n){if(Lu)return t(e,n);Lu=!0;try{return Av(t,e,n)}finally{Lu=!1,(Xi!==null||Zi!==null)&&(Rv(),Dv())}}function To(t,e){var n=t.stateNode;if(n===null)return null;var r=nu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Yc=!1;if(ar)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch(t){Yc=!1}function sS(t,e,n,r,i,s,o,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var so=!1,ol=null,al=!1,Qc=null,oS={onError:function(t){so=!0,ol=t}};function aS(t,e,n,r,i,s,o,l,u){so=!1,ol=null,sS.apply(oS,arguments)}function lS(t,e,n,r,i,s,o,l,u){if(aS.apply(this,arguments),so){if(so){var d=ol;so=!1,ol=null}else throw Error(J(198));al||(al=!0,Qc=d)}}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ov(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qp(t){if(Ei(t)!==t)throw Error(J(188))}function uS(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qp(i),t;if(s===r)return qp(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Lv(t){return t=uS(t),t!==null?jv(t):null}function jv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jv(t);if(e!==null)return e;t=t.sibling}return null}var Fv=sn.unstable_scheduleCallback,Xp=sn.unstable_cancelCallback,cS=sn.unstable_shouldYield,dS=sn.unstable_requestPaint,ct=sn.unstable_now,fS=sn.unstable_getCurrentPriorityLevel,kf=sn.unstable_ImmediatePriority,Bv=sn.unstable_UserBlockingPriority,ll=sn.unstable_NormalPriority,hS=sn.unstable_LowPriority,Vv=sn.unstable_IdlePriority,Zl=null,zn=null;function pS(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Zl,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Dn=Math.clz32?Math.clz32:yS,mS=Math.log,gS=Math.LN2;function yS(t){return t>>>=0,t===0?32:31-(mS(t)/gS|0)|0}var Ea=64,ba=4194304;function eo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ul(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=eo(l):(s&=o,s!==0&&(r=eo(s)))}else o=n&~i,o!==0?r=eo(o):s!==0&&(r=eo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dn(e),i=1<<n,r|=t[n],e&=~i;return r}function vS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _S(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=vS(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function qc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uv(){var t=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),t}function ju(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function wS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function If(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function zv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wv,Pf,Hv,$v,Kv,Xc=!1,Ta=[],Pr=null,Nr=null,Dr=null,ko=new Map,Io=new Map,Er=[],xS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zp(t,e){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ko.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(e.pointerId)}}function Bs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=aa(e),e!==null&&Pf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SS(t,e,n,r,i){switch(e){case"focusin":return Pr=Bs(Pr,t,e,n,r,i),!0;case"dragenter":return Nr=Bs(Nr,t,e,n,r,i),!0;case"mouseover":return Dr=Bs(Dr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ko.set(s,Bs(ko.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Io.set(s,Bs(Io.get(s)||null,t,e,n,r,i)),!0}return!1}function Gv(t){var e=ni(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=Ov(n),e!==null){t.blockedOn=e,Kv(t.priority,function(){Hv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $a(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kc=r,n.target.dispatchEvent(r),Kc=null}else return e=aa(n),e!==null&&Pf(e),t.blockedOn=n,!1;e.shift()}return!0}function Jp(t,e,n){$a(t)&&n.delete(e)}function CS(){Xc=!1,Pr!==null&&$a(Pr)&&(Pr=null),Nr!==null&&$a(Nr)&&(Nr=null),Dr!==null&&$a(Dr)&&(Dr=null),ko.forEach(Jp),Io.forEach(Jp)}function Vs(t,e){t.blockedOn===e&&(t.blockedOn=null,Xc||(Xc=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,CS)))}function Po(t){function e(i){return Vs(i,t)}if(0<Ta.length){Vs(Ta[0],t);for(var n=1;n<Ta.length;n++){var r=Ta[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pr!==null&&Vs(Pr,t),Nr!==null&&Vs(Nr,t),Dr!==null&&Vs(Dr,t),ko.forEach(e),Io.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)Gv(n),n.blockedOn===null&&Er.shift()}var Ji=mr.ReactCurrentBatchConfig,cl=!0;function ES(t,e,n,r){var i=Be,s=Ji.transition;Ji.transition=null;try{Be=1,Nf(t,e,n,r)}finally{Be=i,Ji.transition=s}}function bS(t,e,n,r){var i=Be,s=Ji.transition;Ji.transition=null;try{Be=4,Nf(t,e,n,r)}finally{Be=i,Ji.transition=s}}function Nf(t,e,n,r){if(cl){var i=Zc(t,e,n,r);if(i===null)Gu(t,e,r,dl,n),Zp(t,r);else if(SS(i,t,e,n,r))r.stopPropagation();else if(Zp(t,r),e&4&&-1<xS.indexOf(t)){for(;i!==null;){var s=aa(i);if(s!==null&&Wv(s),s=Zc(t,e,n,r),s===null&&Gu(t,e,r,dl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gu(t,e,r,null,n)}}var dl=null;function Zc(t,e,n,r){if(dl=null,t=Tf(r),t=ni(t),t!==null)if(e=Ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ov(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dl=t,null}function Yv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fS()){case kf:return 1;case Bv:return 4;case ll:case hS:return 16;case Vv:return 536870912;default:return 16}default:return 16}}var Tr=null,Df=null,Ka=null;function Qv(){if(Ka)return Ka;var t,e=Df,n=e.length,r,i="value"in Tr?Tr.value:Tr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ka=i.slice(t,1<r?1-r:void 0)}function Ga(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ka(){return!0}function em(){return!1}function an(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ka:em,this.isPropagationStopped=em,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),e}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Af=an(bs),oa=nt({},bs,{view:0,detail:0}),TS=an(oa),Fu,Bu,Us,Jl=nt({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Us&&(Us&&t.type==="mousemove"?(Fu=t.screenX-Us.screenX,Bu=t.screenY-Us.screenY):Bu=Fu=0,Us=t),Fu)},movementY:function(t){return"movementY"in t?t.movementY:Bu}}),tm=an(Jl),kS=nt({},Jl,{dataTransfer:0}),IS=an(kS),PS=nt({},oa,{relatedTarget:0}),Vu=an(PS),NS=nt({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),DS=an(NS),AS=nt({},bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RS=an(AS),MS=nt({},bs,{data:0}),nm=an(MS),OS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jS[t])?!!e[t]:!1}function Rf(){return FS}var BS=nt({},oa,{key:function(t){if(t.key){var e=OS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(t){return t.type==="keypress"?Ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VS=an(BS),US=nt({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rm=an(US),zS=nt({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),WS=an(zS),HS=nt({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$S=an(HS),KS=nt({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GS=an(KS),YS=[9,13,27,32],Mf=ar&&"CompositionEvent"in window,oo=null;ar&&"documentMode"in document&&(oo=document.documentMode);var QS=ar&&"TextEvent"in window&&!oo,qv=ar&&(!Mf||oo&&8<oo&&11>=oo),im=String.fromCharCode(32),sm=!1;function Xv(t,e){switch(t){case"keyup":return YS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mi=!1;function qS(t,e){switch(t){case"compositionend":return Zv(e);case"keypress":return e.which!==32?null:(sm=!0,im);case"textInput":return t=e.data,t===im&&sm?null:t;default:return null}}function XS(t,e){if(Mi)return t==="compositionend"||!Mf&&Xv(t,e)?(t=Qv(),Ka=Df=Tr=null,Mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qv&&e.locale!=="ko"?null:e.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function om(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZS[t.type]:e==="textarea"}function Jv(t,e,n,r){Nv(r),e=fl(e,"onChange"),0<e.length&&(n=new Af("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ao=null,No=null;function JS(t){c0(t,0)}function eu(t){var e=ji(t);if(Cv(e))return t}function eC(t,e){if(t==="change")return e}var e0=!1;if(ar){var Uu;if(ar){var zu="oninput"in document;if(!zu){var am=document.createElement("div");am.setAttribute("oninput","return;"),zu=typeof am.oninput=="function"}Uu=zu}else Uu=!1;e0=Uu&&(!document.documentMode||9<document.documentMode)}function lm(){ao&&(ao.detachEvent("onpropertychange",t0),No=ao=null)}function t0(t){if(t.propertyName==="value"&&eu(No)){var e=[];Jv(e,No,t,Tf(t)),Mv(JS,e)}}function tC(t,e,n){t==="focusin"?(lm(),ao=e,No=n,ao.attachEvent("onpropertychange",t0)):t==="focusout"&&lm()}function nC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(No)}function rC(t,e){if(t==="click")return eu(e)}function iC(t,e){if(t==="input"||t==="change")return eu(e)}function sC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:sC;function Do(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mc.call(e,i)||!Mn(t[i],e[i]))return!1}return!0}function um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cm(t,e){var n=um(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=um(n)}}function n0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r0(){for(var t=window,e=sl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(r){n=!1}if(n)t=e.contentWindow;else break;e=sl(t.document)}return e}function Of(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oC(t){var e=r0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n0(n.ownerDocument.documentElement,n)){if(r!==null&&Of(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cm(n,s);var o=cm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aC=ar&&"documentMode"in document&&11>=document.documentMode,Oi=null,Jc=null,lo=null,ed=!1;function dm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ed||Oi==null||Oi!==sl(r)||(r=Oi,"selectionStart"in r&&Of(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lo&&Do(lo,r)||(lo=r,r=fl(Jc,"onSelect"),0<r.length&&(e=new Af("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Oi)))}function Ia(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionend:Ia("Transition","TransitionEnd")},Wu={},i0={};ar&&(i0=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function tu(t){if(Wu[t])return Wu[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i0)return Wu[t]=e[n];return t}var s0=tu("animationend"),o0=tu("animationiteration"),a0=tu("animationstart"),l0=tu("transitionend"),u0=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(t,e){u0.set(t,e),Ci(e,[t])}for(var Hu=0;Hu<fm.length;Hu++){var $u=fm[Hu],lC=$u.toLowerCase(),uC=$u[0].toUpperCase()+$u.slice(1);Kr(lC,"on"+uC)}Kr(s0,"onAnimationEnd");Kr(o0,"onAnimationIteration");Kr(a0,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(l0,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cC=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function hm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lS(r,e,void 0,t),t.currentTarget=null}function c0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;hm(i,l,d),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,d=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;hm(i,l,d),s=u}}}if(al)throw t=Qc,al=!1,Qc=null,t}function Qe(t,e){var n=e[sd];n===void 0&&(n=e[sd]=new Set);var r=t+"__bubble";n.has(r)||(d0(e,t,2,!1),n.add(r))}function Ku(t,e,n){var r=0;e&&(r|=4),d0(n,t,r,e)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[Pa]){t[Pa]=!0,vv.forEach(function(n){n!=="selectionchange"&&(cC.has(n)||Ku(n,!1,t),Ku(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pa]||(e[Pa]=!0,Ku("selectionchange",!1,e))}}function d0(t,e,n,r){switch(Yv(e)){case 1:var i=ES;break;case 4:i=bS;break;default:i=Nf}n=i.bind(null,e,n,t),i=void 0,!Yc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ni(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Mv(function(){var d=s,h=Tf(n),g=[];e:{var y=u0.get(t);if(y!==void 0){var w=Af,I=t;switch(t){case"keypress":if(Ga(n)===0)break e;case"keydown":case"keyup":w=VS;break;case"focusin":I="focus",w=Vu;break;case"focusout":I="blur",w=Vu;break;case"beforeblur":case"afterblur":w=Vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=IS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=WS;break;case s0:case o0:case a0:w=DS;break;case l0:w=$S;break;case"scroll":w=TS;break;case"wheel":w=GS;break;case"copy":case"cut":case"paste":w=RS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=rm}var k=(e&4)!==0,B=!k&&t==="scroll",b=k?y!==null?y+"Capture":null:y;k=[];for(var T=d,P;T!==null;){P=T;var L=P.stateNode;if(P.tag===5&&L!==null&&(P=L,b!==null&&(L=To(T,b),L!=null&&k.push(Ro(T,L,P)))),B)break;T=T.return}0<k.length&&(y=new w(y,I,null,n,h),g.push({event:y,listeners:k}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",y&&n!==Kc&&(I=n.relatedTarget||n.fromElement)&&(ni(I)||I[lr]))break e;if((w||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,w?(I=n.relatedTarget||n.toElement,w=d,I=I?ni(I):null,I!==null&&(B=Ei(I),I!==B||I.tag!==5&&I.tag!==6)&&(I=null)):(w=null,I=d),w!==I)){if(k=tm,L="onMouseLeave",b="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(k=rm,L="onPointerLeave",b="onPointerEnter",T="pointer"),B=w==null?y:ji(w),P=I==null?y:ji(I),y=new k(L,T+"leave",w,n,h),y.target=B,y.relatedTarget=P,L=null,ni(h)===d&&(k=new k(b,T+"enter",I,n,h),k.target=P,k.relatedTarget=B,L=k),B=L,w&&I)t:{for(k=w,b=I,T=0,P=k;P;P=Ni(P))T++;for(P=0,L=b;L;L=Ni(L))P++;for(;0<T-P;)k=Ni(k),T--;for(;0<P-T;)b=Ni(b),P--;for(;T--;){if(k===b||b!==null&&k===b.alternate)break t;k=Ni(k),b=Ni(b)}k=null}else k=null;w!==null&&pm(g,y,w,k,!1),I!==null&&B!==null&&pm(g,B,I,k,!0)}}e:{if(y=d?ji(d):window,w=y.nodeName&&y.nodeName.toLowerCase(),w==="select"||w==="input"&&y.type==="file")var F=eC;else if(om(y))if(e0)F=iC;else{F=nC;var H=tC}else(w=y.nodeName)&&w.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=rC);if(F&&(F=F(t,d))){Jv(g,F,n,h);break e}H&&H(t,y,d),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&Uc(y,"number",y.value)}switch(H=d?ji(d):window,t){case"focusin":(om(H)||H.contentEditable==="true")&&(Oi=H,Jc=d,lo=null);break;case"focusout":lo=Jc=Oi=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,dm(g,n,h);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":dm(g,n,h)}var K;if(Mf)e:{switch(t){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else Mi?Xv(t,n)&&(Y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Y="onCompositionStart");Y&&(qv&&n.locale!=="ko"&&(Mi||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&Mi&&(K=Qv()):(Tr=h,Df="value"in Tr?Tr.value:Tr.textContent,Mi=!0)),H=fl(d,Y),0<H.length&&(Y=new nm(Y,t,null,n,h),g.push({event:Y,listeners:H}),K?Y.data=K:(K=Zv(n),K!==null&&(Y.data=K)))),(K=QS?qS(t,n):XS(t,n))&&(d=fl(d,"onBeforeInput"),0<d.length&&(h=new nm("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:d}),h.data=K))}c0(g,e)})}function Ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=To(t,n),s!=null&&r.unshift(Ro(t,s,i)),s=To(t,e),s!=null&&r.push(Ro(t,s,i))),t=t.return}return r}function Ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=To(n,s),u!=null&&o.unshift(Ro(n,u,l))):i||(u=To(n,s),u!=null&&o.push(Ro(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dC=/\r\n?/g,fC=/\u0000|\uFFFD/g;function mm(t){return(typeof t=="string"?t:""+t).replace(dC,`
`).replace(fC,"")}function Na(t,e,n){if(e=mm(e),mm(t)!==e&&n)throw Error(J(425))}function hl(){}var td=null,nd=null;function rd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var id=typeof setTimeout=="function"?setTimeout:void 0,hC=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,pC=typeof queueMicrotask=="function"?queueMicrotask:typeof gm!="undefined"?function(t){return gm.resolve(null).then(t).catch(mC)}:id;function mC(t){setTimeout(function(){throw t})}function Yu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Po(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Po(e)}function Ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ym(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),Un="__reactFiber$"+Ts,Mo="__reactProps$"+Ts,lr="__reactContainer$"+Ts,sd="__reactEvents$"+Ts,gC="__reactListeners$"+Ts,yC="__reactHandles$"+Ts;function ni(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ym(t);t!==null;){if(n=t[Un])return n;t=ym(t)}return e}t=n,n=t.parentNode}return null}function aa(t){return t=t[Un]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ji(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function nu(t){return t[Mo]||null}var od=[],Fi=-1;function Gr(t){return{current:t}}function qe(t){0>Fi||(t.current=od[Fi],od[Fi]=null,Fi--)}function Ge(t,e){Fi++,od[Fi]=t.current,t.current=e}var Ur={},Ft=Gr(Ur),Zt=Gr(!1),pi=Ur;function us(t,e){var n=t.type.contextTypes;if(!n)return Ur;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function pl(){qe(Zt),qe(Ft)}function vm(t,e,n){if(Ft.current!==Ur)throw Error(J(168));Ge(Ft,e),Ge(Zt,n)}function f0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,tS(t)||"Unknown",i));return nt({},n,r)}function ml(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ur,pi=Ft.current,Ge(Ft,t),Ge(Zt,Zt.current),!0}function _m(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=f0(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,qe(Zt),qe(Ft),Ge(Ft,t)):qe(Zt),Ge(Zt,n)}var tr=null,ru=!1,Qu=!1;function h0(t){tr===null?tr=[t]:tr.push(t)}function vC(t){ru=!0,h0(t)}function Yr(){if(!Qu&&tr!==null){Qu=!0;var t=0,e=Be;try{var n=tr;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tr=null,ru=!1}catch(i){throw tr!==null&&(tr=tr.slice(t+1)),Fv(kf,Yr),i}finally{Be=e,Qu=!1}}return null}var Bi=[],Vi=0,gl=null,yl=0,pn=[],mn=0,mi=null,nr=1,rr="";function Xr(t,e){Bi[Vi++]=yl,Bi[Vi++]=gl,gl=t,yl=e}function p0(t,e,n){pn[mn++]=nr,pn[mn++]=rr,pn[mn++]=mi,mi=t;var r=nr;t=rr;var i=32-Dn(r)-1;r&=~(1<<i),n+=1;var s=32-Dn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,nr=1<<32-Dn(e)+i|n<<i|r,rr=s+t}else nr=1<<s|n<<i|r,rr=t}function Lf(t){t.return!==null&&(Xr(t,1),p0(t,1,0))}function jf(t){for(;t===gl;)gl=Bi[--Vi],Bi[Vi]=null,yl=Bi[--Vi],Bi[Vi]=null;for(;t===mi;)mi=pn[--mn],pn[mn]=null,rr=pn[--mn],pn[mn]=null,nr=pn[--mn],pn[mn]=null}var rn=null,nn=null,Xe=!1,In=null;function m0(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,nn=Ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mi!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,nn=null,!0):!1;default:return!1}}function ad(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ld(t){if(Xe){var e=nn;if(e){var n=e;if(!wm(t,e)){if(ad(t))throw Error(J(418));e=Ar(n.nextSibling);var r=rn;e&&wm(t,e)?m0(r,n):(t.flags=t.flags&-4097|2,Xe=!1,rn=t)}}else{if(ad(t))throw Error(J(418));t.flags=t.flags&-4097|2,Xe=!1,rn=t}}}function xm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Da(t){if(t!==rn)return!1;if(!Xe)return xm(t),Xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rd(t.type,t.memoizedProps)),e&&(e=nn)){if(ad(t))throw g0(),Error(J(418));for(;e;)m0(t,e),e=Ar(e.nextSibling)}if(xm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=Ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=rn?Ar(t.stateNode.nextSibling):null;return!0}function g0(){for(var t=nn;t;)t=Ar(t.nextSibling)}function cs(){nn=rn=null,Xe=!1}function Ff(t){In===null?In=[t]:In.push(t)}var _C=mr.ReactCurrentBatchConfig;function zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Aa(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sm(t){var e=t._init;return e(t._payload)}function y0(t){function e(b,T){if(t){var P=b.deletions;P===null?(b.deletions=[T],b.flags|=16):P.push(T)}}function n(b,T){if(!t)return null;for(;T!==null;)e(b,T),T=T.sibling;return null}function r(b,T){for(b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function i(b,T){return b=Lr(b,T),b.index=0,b.sibling=null,b}function s(b,T,P){return b.index=P,t?(P=b.alternate,P!==null?(P=P.index,P<T?(b.flags|=2,T):P):(b.flags|=2,T)):(b.flags|=1048576,T)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,T,P,L){return T===null||T.tag!==6?(T=nc(P,b.mode,L),T.return=b,T):(T=i(T,P),T.return=b,T)}function u(b,T,P,L){var F=P.type;return F===Ri?h(b,T,P.props.children,L,P.key):T!==null&&(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Sr&&Sm(F)===T.type)?(L=i(T,P.props),L.ref=zs(b,T,P),L.return=b,L):(L=el(P.type,P.key,P.props,null,b.mode,L),L.ref=zs(b,T,P),L.return=b,L)}function d(b,T,P,L){return T===null||T.tag!==4||T.stateNode.containerInfo!==P.containerInfo||T.stateNode.implementation!==P.implementation?(T=rc(P,b.mode,L),T.return=b,T):(T=i(T,P.children||[]),T.return=b,T)}function h(b,T,P,L,F){return T===null||T.tag!==7?(T=ci(P,b.mode,L,F),T.return=b,T):(T=i(T,P),T.return=b,T)}function g(b,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return T=nc(""+T,b.mode,P),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case xa:return P=el(T.type,T.key,T.props,null,b.mode,P),P.ref=zs(b,null,T),P.return=b,P;case Ai:return T=rc(T,b.mode,P),T.return=b,T;case Sr:var L=T._init;return g(b,L(T._payload),P)}if(Js(T)||js(T))return T=ci(T,b.mode,P,null),T.return=b,T;Aa(b,T)}return null}function y(b,T,P,L){var F=T!==null?T.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return F!==null?null:l(b,T,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case xa:return P.key===F?u(b,T,P,L):null;case Ai:return P.key===F?d(b,T,P,L):null;case Sr:return F=P._init,y(b,T,F(P._payload),L)}if(Js(P)||js(P))return F!==null?null:h(b,T,P,L,null);Aa(b,P)}return null}function w(b,T,P,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return b=b.get(P)||null,l(T,b,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case xa:return b=b.get(L.key===null?P:L.key)||null,u(T,b,L,F);case Ai:return b=b.get(L.key===null?P:L.key)||null,d(T,b,L,F);case Sr:var H=L._init;return w(b,T,P,H(L._payload),F)}if(Js(L)||js(L))return b=b.get(P)||null,h(T,b,L,F,null);Aa(T,L)}return null}function I(b,T,P,L){for(var F=null,H=null,K=T,Y=T=0,me=null;K!==null&&Y<P.length;Y++){K.index>Y?(me=K,K=null):me=K.sibling;var ue=y(b,K,P[Y],L);if(ue===null){K===null&&(K=me);break}t&&K&&ue.alternate===null&&e(b,K),T=s(ue,T,Y),H===null?F=ue:H.sibling=ue,H=ue,K=me}if(Y===P.length)return n(b,K),Xe&&Xr(b,Y),F;if(K===null){for(;Y<P.length;Y++)K=g(b,P[Y],L),K!==null&&(T=s(K,T,Y),H===null?F=K:H.sibling=K,H=K);return Xe&&Xr(b,Y),F}for(K=r(b,K);Y<P.length;Y++)me=w(K,b,Y,P[Y],L),me!==null&&(t&&me.alternate!==null&&K.delete(me.key===null?Y:me.key),T=s(me,T,Y),H===null?F=me:H.sibling=me,H=me);return t&&K.forEach(function(ze){return e(b,ze)}),Xe&&Xr(b,Y),F}function k(b,T,P,L){var F=js(P);if(typeof F!="function")throw Error(J(150));if(P=F.call(P),P==null)throw Error(J(151));for(var H=F=null,K=T,Y=T=0,me=null,ue=P.next();K!==null&&!ue.done;Y++,ue=P.next()){K.index>Y?(me=K,K=null):me=K.sibling;var ze=y(b,K,ue.value,L);if(ze===null){K===null&&(K=me);break}t&&K&&ze.alternate===null&&e(b,K),T=s(ze,T,Y),H===null?F=ze:H.sibling=ze,H=ze,K=me}if(ue.done)return n(b,K),Xe&&Xr(b,Y),F;if(K===null){for(;!ue.done;Y++,ue=P.next())ue=g(b,ue.value,L),ue!==null&&(T=s(ue,T,Y),H===null?F=ue:H.sibling=ue,H=ue);return Xe&&Xr(b,Y),F}for(K=r(b,K);!ue.done;Y++,ue=P.next())ue=w(K,b,Y,ue.value,L),ue!==null&&(t&&ue.alternate!==null&&K.delete(ue.key===null?Y:ue.key),T=s(ue,T,Y),H===null?F=ue:H.sibling=ue,H=ue);return t&&K.forEach(function(mt){return e(b,mt)}),Xe&&Xr(b,Y),F}function B(b,T,P,L){if(typeof P=="object"&&P!==null&&P.type===Ri&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case xa:e:{for(var F=P.key,H=T;H!==null;){if(H.key===F){if(F=P.type,F===Ri){if(H.tag===7){n(b,H.sibling),T=i(H,P.props.children),T.return=b,b=T;break e}}else if(H.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Sr&&Sm(F)===H.type){n(b,H.sibling),T=i(H,P.props),T.ref=zs(b,H,P),T.return=b,b=T;break e}n(b,H);break}else e(b,H);H=H.sibling}P.type===Ri?(T=ci(P.props.children,b.mode,L,P.key),T.return=b,b=T):(L=el(P.type,P.key,P.props,null,b.mode,L),L.ref=zs(b,T,P),L.return=b,b=L)}return o(b);case Ai:e:{for(H=P.key;T!==null;){if(T.key===H)if(T.tag===4&&T.stateNode.containerInfo===P.containerInfo&&T.stateNode.implementation===P.implementation){n(b,T.sibling),T=i(T,P.children||[]),T.return=b,b=T;break e}else{n(b,T);break}else e(b,T);T=T.sibling}T=rc(P,b.mode,L),T.return=b,b=T}return o(b);case Sr:return H=P._init,B(b,T,H(P._payload),L)}if(Js(P))return I(b,T,P,L);if(js(P))return k(b,T,P,L);Aa(b,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,T!==null&&T.tag===6?(n(b,T.sibling),T=i(T,P),T.return=b,b=T):(n(b,T),T=nc(P,b.mode,L),T.return=b,b=T),o(b)):n(b,T)}return B}var ds=y0(!0),v0=y0(!1),vl=Gr(null),_l=null,Ui=null,Bf=null;function Vf(){Bf=Ui=_l=null}function Uf(t){var e=vl.current;qe(vl),t._currentValue=e}function ud(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function es(t,e){_l=t,Bf=Ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Bf!==t)if(t={context:t,memoizedValue:e,next:null},Ui===null){if(_l===null)throw Error(J(308));Ui=t,_l.dependencies={lanes:0,firstContext:t}}else Ui=Ui.next=t;return e}var ri=null;function zf(t){ri===null?ri=[t]:ri.push(t)}function _0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zf(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cr=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,zf(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function Ya(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,If(t,n)}}function Cm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wl(t,e,n,r){var i=t.updateQueue;Cr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,o===null?s=d:o.next=d,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;o=0,h=d=u=null,l=s;do{var y=l.lane,w=l.eventTime;if((r&y)===y){h!==null&&(h=h.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=t,k=l;switch(y=e,w=n,k.tag){case 1:if(I=k.payload,typeof I=="function"){g=I.call(w,g,y);break e}g=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=k.payload,y=typeof I=="function"?I.call(w,g,y):I,y==null)break e;g=nt({},g,y);break e;case 2:Cr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[l]:y.push(l))}else w={eventTime:w,lane:y,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=w,u=g):h=h.next=w,o|=y;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(h===null&&(u=g),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yi|=o,t.lanes=o,t.memoizedState=g}}function Em(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var la={},Wn=Gr(la),Oo=Gr(la),Lo=Gr(la);function ii(t){if(t===la)throw Error(J(174));return t}function Hf(t,e){switch(Ge(Lo,e),Ge(Oo,t),Ge(Wn,la),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wc(e,t)}qe(Wn),Ge(Wn,e)}function fs(){qe(Wn),qe(Oo),qe(Lo)}function x0(t){ii(Lo.current);var e=ii(Wn.current),n=Wc(e,t.type);e!==n&&(Ge(Oo,t),Ge(Wn,n))}function $f(t){Oo.current===t&&(qe(Wn),qe(Oo))}var Je=Gr(0);function xl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qu=[];function Kf(){for(var t=0;t<qu.length;t++)qu[t]._workInProgressVersionPrimary=null;qu.length=0}var Qa=mr.ReactCurrentDispatcher,Xu=mr.ReactCurrentBatchConfig,gi=0,tt=null,gt=null,xt=null,Sl=!1,uo=!1,jo=0,wC=0;function Mt(){throw Error(J(321))}function Gf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function Yf(t,e,n,r,i,s){if(gi=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qa.current=t===null||t.memoizedState===null?EC:bC,t=n(r,i),uo){s=0;do{if(uo=!1,jo=0,25<=s)throw Error(J(301));s+=1,xt=gt=null,e.updateQueue=null,Qa.current=TC,t=n(r,i)}while(uo)}if(Qa.current=Cl,e=gt!==null&&gt.next!==null,gi=0,xt=gt=tt=null,Sl=!1,e)throw Error(J(300));return t}function Qf(){var t=jo!==0;return jo=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?tt.memoizedState=xt=t:xt=xt.next=t,xt}function xn(){if(gt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=xt===null?tt.memoizedState:xt.next;if(e!==null)xt=e,gt=t;else{if(t===null)throw Error(J(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},xt===null?tt.memoizedState=xt=t:xt=xt.next=t}return xt}function Fo(t,e){return typeof e=="function"?e(t):e}function Zu(t){var e=xn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,d=s;do{var h=d.lane;if((gi&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var g={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=g,o=r):u=u.next=g,tt.lanes|=h,yi|=h}d=d.next}while(d!==null&&d!==s);u===null?o=r:u.next=l,Mn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,yi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ju(t){var e=xn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mn(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function S0(){}function C0(t,e){var n=tt,r=xn(),i=e(),s=!Mn(r.memoizedState,i);if(s&&(r.memoizedState=i,Yt=!0),r=r.queue,qf(T0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Bo(9,b0.bind(null,n,r,i,e),void 0,null),bt===null)throw Error(J(349));gi&30||E0(n,e,i)}return i}function E0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function b0(t,e,n,r){e.value=n,e.getSnapshot=r,k0(e)&&I0(t)}function T0(t,e,n){return n(function(){k0(e)&&I0(t)})}function k0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch(r){return!0}}function I0(t){var e=ur(t,1);e!==null&&An(e,t,1,-1)}function bm(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},e.queue=t,t=t.dispatch=CC.bind(null,tt,t),[e.memoizedState,t]}function Bo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P0(){return xn().memoizedState}function qa(t,e,n,r){var i=Vn();tt.flags|=t,i.memoizedState=Bo(1|e,n,void 0,r===void 0?null:r)}function iu(t,e,n,r){var i=xn();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&Gf(r,o.deps)){i.memoizedState=Bo(e,n,s,r);return}}tt.flags|=t,i.memoizedState=Bo(1|e,n,s,r)}function Tm(t,e){return qa(8390656,8,t,e)}function qf(t,e){return iu(2048,8,t,e)}function N0(t,e){return iu(4,2,t,e)}function D0(t,e){return iu(4,4,t,e)}function A0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R0(t,e,n){return n=n!=null?n.concat([t]):null,iu(4,4,A0.bind(null,e,t),n)}function Xf(){}function M0(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function O0(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L0(t,e,n){return gi&21?(Mn(n,e)||(n=Uv(),tt.lanes|=n,yi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function xC(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=Xu.transition;Xu.transition={};try{t(!1),e()}finally{Be=n,Xu.transition=r}}function j0(){return xn().memoizedState}function SC(t,e,n){var r=Or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},F0(t))B0(e,n);else if(n=_0(t,e,n,r),n!==null){var i=zt();An(n,t,r,i),V0(n,e,r)}}function CC(t,e,n){var r=Or(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(F0(t))B0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Mn(l,o)){var u=e.interleaved;u===null?(i.next=i,zf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch(d){}finally{}n=_0(t,e,i,r),n!==null&&(i=zt(),An(n,t,r,i),V0(n,e,r))}}function F0(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function B0(t,e){uo=Sl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function V0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,If(t,n)}}var Cl={readContext:wn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},EC={readContext:wn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:Tm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qa(4194308,4,A0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qa(4194308,4,t,e)},useInsertionEffect:function(t,e){return qa(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SC.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:bm,useDebugValue:Xf,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=bm(!1),e=t[0];return t=xC.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=Vn();if(Xe){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),bt===null)throw Error(J(349));gi&30||E0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Tm(T0.bind(null,r,s,t),[t]),r.flags|=2048,Bo(9,b0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vn(),e=bt.identifierPrefix;if(Xe){var n=rr,r=nr;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bC={readContext:wn,useCallback:M0,useContext:wn,useEffect:qf,useImperativeHandle:R0,useInsertionEffect:N0,useLayoutEffect:D0,useMemo:O0,useReducer:Zu,useRef:P0,useState:function(){return Zu(Fo)},useDebugValue:Xf,useDeferredValue:function(t){var e=xn();return L0(e,gt.memoizedState,t)},useTransition:function(){var t=Zu(Fo)[0],e=xn().memoizedState;return[t,e]},useMutableSource:S0,useSyncExternalStore:C0,useId:j0,unstable_isNewReconciler:!1},TC={readContext:wn,useCallback:M0,useContext:wn,useEffect:qf,useImperativeHandle:R0,useInsertionEffect:N0,useLayoutEffect:D0,useMemo:O0,useReducer:Ju,useRef:P0,useState:function(){return Ju(Fo)},useDebugValue:Xf,useDeferredValue:function(t){var e=xn();return gt===null?e.memoizedState=t:L0(e,gt.memoizedState,t)},useTransition:function(){var t=Ju(Fo)[0],e=xn().memoizedState;return[t,e]},useMutableSource:S0,useSyncExternalStore:C0,useId:j0,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var su={isMounted:function(t){return(t=t._reactInternals)?Ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=zt(),i=Or(t),s=sr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Rr(t,s,i),e!==null&&(An(e,t,i,r),Ya(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=zt(),i=Or(t),s=sr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Rr(t,s,i),e!==null&&(An(e,t,i,r),Ya(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=zt(),r=Or(t),i=sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rr(t,i,r),e!==null&&(An(e,t,r,n),Ya(e,t,r))}};function km(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Do(n,r)||!Do(i,s):!0}function U0(t,e,n){var r=!1,i=Ur,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(i=Jt(e)?pi:Ft.current,r=e.contextTypes,s=(r=r!=null)?us(t,i):Ur),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=su,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Im(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&su.enqueueReplaceState(e,e.state,null)}function dd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Wf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=wn(s):(s=Jt(e)?pi:Ft.current,i.context=us(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&su.enqueueReplaceState(i,i.state,null),wl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hs(t,e){try{var n="",r=e;do n+=eS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ec(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function fd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kC=typeof WeakMap=="function"?WeakMap:Map;function z0(t,e,n){n=sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bl||(bl=!0,Sd=r),fd(t,e)},n}function W0(t,e,n){n=sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fd(t,e),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Pm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UC.bind(null,t,e,n),e.then(t,t))}function Nm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sr(-1,1),e.tag=2,Rr(n,e,1))),n.lanes|=1),t)}var IC=mr.ReactCurrentOwner,Yt=!1;function Vt(t,e,n,r){e.child=t===null?v0(e,null,n,r):ds(e,t.child,n,r)}function Am(t,e,n,r,i){n=n.render;var s=e.ref;return es(e,i),r=Yf(t,e,n,r,s,i),n=Qf(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(Xe&&n&&Lf(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Rm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,H0(t,e,s,r,i)):(t=el(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Do,n(o,r)&&t.ref===e.ref)return cr(t,e,i)}return e.flags|=1,t=Lr(s,r),t.ref=e.ref,t.return=e,e.child=t}function H0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Do(s,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,cr(t,e,i)}return hd(t,e,n,r,i)}function $0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Wi,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(Wi,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ge(Wi,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ge(Wi,tn),tn|=r;return Vt(t,e,i,n),e.child}function K0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hd(t,e,n,r,i){var s=Jt(n)?pi:Ft.current;return s=us(e,s),es(e,i),n=Yf(t,e,n,r,s,i),r=Qf(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(Xe&&r&&Lf(e),e.flags|=1,Vt(t,e,n,i),e.child)}function Mm(t,e,n,r,i){if(Jt(n)){var s=!0;ml(e)}else s=!1;if(es(e,i),e.stateNode===null)Xa(t,e),U0(e,n,r),dd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=wn(d):(d=Jt(n)?pi:Ft.current,d=us(e,d));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==d)&&Im(e,o,r,d),Cr=!1;var y=e.memoizedState;o.state=y,wl(e,r,o,i),u=e.memoizedState,l!==r||y!==u||Zt.current||Cr?(typeof h=="function"&&(cd(e,n,h,r),u=e.memoizedState),(l=Cr||km(e,n,l,r,y,u,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,w0(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Tn(e.type,l),o.props=d,g=e.pendingProps,y=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=wn(u):(u=Jt(n)?pi:Ft.current,u=us(e,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==g||y!==u)&&Im(e,o,r,u),Cr=!1,y=e.memoizedState,o.state=y,wl(e,r,o,i);var I=e.memoizedState;l!==g||y!==I||Zt.current||Cr?(typeof w=="function"&&(cd(e,n,w,r),I=e.memoizedState),(d=Cr||km(e,n,d,r,y,I,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return pd(t,e,n,r,s,i)}function pd(t,e,n,r,i,s){K0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_m(e,n,!1),cr(t,e,s);r=e.stateNode,IC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ds(e,t.child,null,s),e.child=ds(e,null,l,s)):Vt(t,e,l,s),e.memoizedState=r.state,i&&_m(e,n,!0),e.child}function G0(t){var e=t.stateNode;e.pendingContext?vm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vm(t,e.context,!1),Hf(t,e.containerInfo)}function Om(t,e,n,r,i){return cs(),Ff(i),e.flags|=256,Vt(t,e,n,r),e.child}var md={dehydrated:null,treeContext:null,retryLane:0};function gd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y0(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(Je,i&1),t===null)return ld(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lu(o,r,0,null),t=ci(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=gd(n),e.memoizedState=md,t):Zf(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return PC(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Lr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Lr(l,s):(s=ci(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?gd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=md,r}return s=t.child,t=s.sibling,r=Lr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zf(t,e){return e=lu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ra(t,e,n,r){return r!==null&&Ff(r),ds(e,t.child,null,n),t=Zf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ec(Error(J(422))),Ra(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lu({mode:"visible",children:r.children},i,0,null),s=ci(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ds(e,t.child,null,o),e.child.memoizedState=gd(o),e.memoizedState=md,s);if(!(e.mode&1))return Ra(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(J(419)),r=ec(s,r,void 0),Ra(t,e,o,r)}if(l=(o&t.childLanes)!==0,Yt||l){if(r=bt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(t,i),An(r,t,i,-1))}return ih(),r=ec(Error(J(421))),Ra(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=Ar(i.nextSibling),rn=e,Xe=!0,In=null,t!==null&&(pn[mn++]=nr,pn[mn++]=rr,pn[mn++]=mi,nr=t.id,rr=t.overflow,mi=e),e=Zf(e,r.children),e.flags|=4096,e)}function Lm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ud(t.return,e,n)}function tc(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Q0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lm(t,n,e);else if(t.tag===19)Lm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tc(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tc(e,!0,n,null,s);break;case"together":tc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=Lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NC(t,e,n){switch(e.tag){case 3:G0(e),cs();break;case 5:x0(e);break;case 1:Jt(e.type)&&ml(e);break;case 4:Hf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(vl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?Y0(t,e,n):(Ge(Je,Je.current&1),t=cr(t,e,n),t!==null?t.sibling:null);Ge(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Q0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,$0(t,e,n)}return cr(t,e,n)}var q0,yd,X0,Z0;q0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yd=function(){};X0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ii(Wn.current);var s=null;switch(n){case"input":i=Bc(t,i),r=Bc(t,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=zc(t,i),r=zc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hl)}Hc(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Eo.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Qe("scroll",t),s||l===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};Z0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ws(t,e){if(!Xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DC(t,e,n){var r=e.pendingProps;switch(jf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return Jt(e.type)&&pl(),Ot(e),null;case 3:return r=e.stateNode,fs(),qe(Zt),qe(Ft),Kf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Da(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(bd(In),In=null))),yd(t,e),Ot(e),null;case 5:$f(e);var i=ii(Lo.current);if(n=e.type,t!==null&&e.stateNode!=null)X0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Ot(e),null}if(t=ii(Wn.current),Da(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Un]=e,r[Mo]=s,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<to.length;i++)Qe(to[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":$p(r,s),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qe("invalid",r);break;case"textarea":Gp(r,s),Qe("invalid",r)}Hc(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Na(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Na(r.textContent,l,t),i=["children",""+l]):Eo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Sa(r),Kp(r,s,!0);break;case"textarea":Sa(r),Yp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Un]=e,t[Mo]=r,q0(t,e,!1,!1),e.stateNode=t;e:{switch(o=$c(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<to.length;i++)Qe(to[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":$p(t,r),i=Bc(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":Gp(t,r),i=zc(t,r),Qe("invalid",t);break;default:i=r}Hc(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Pv(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&kv(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&bo(t,u):typeof u=="number"&&bo(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Qe("scroll",t):u!=null&&Sf(t,s,u,o))}switch(n){case"input":Sa(t),Kp(t,r,!1);break;case"textarea":Sa(t),Yp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qi(t,!!r.multiple,s,!1):r.defaultValue!=null&&qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)Z0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ii(Lo.current),ii(Wn.current),Da(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:Na(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Na(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return Ot(e),null;case 13:if(qe(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xe&&nn!==null&&e.mode&1&&!(e.flags&128))g0(),cs(),e.flags|=98560,s=!1;else if(s=Da(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Un]=e}else cs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else In!==null&&(bd(In),In=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?yt===0&&(yt=3):ih())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return fs(),yd(t,e),t===null&&Ao(e.stateNode.containerInfo),Ot(e),null;case 10:return Uf(e.type._context),Ot(e),null;case 17:return Jt(e.type)&&pl(),Ot(e),null;case 19:if(qe(Je),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ws(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xl(t),o!==null){for(e.flags|=128,Ws(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&ct()>ps&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304)}else{if(!r)if(t=xl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xe)return Ot(e),null}else 2*ct()-s.renderingStartTime>ps&&n!==1073741824&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ct(),e.sibling=null,n=Je.current,Ge(Je,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return rh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function AC(t,e){switch(jf(e),e.tag){case 1:return Jt(e.type)&&pl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fs(),qe(Zt),qe(Ft),Kf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $f(e),null;case 13:if(qe(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(Je),null;case 4:return fs(),null;case 10:return Uf(e.type._context),null;case 22:case 23:return rh(),null;case 24:return null;default:return null}}var Ma=!1,Lt=!1,RC=typeof WeakSet=="function"?WeakSet:Set,ae=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function vd(t,e,n){try{n()}catch(r){st(t,e,r)}}var jm=!1;function MC(t,e){if(td=cl,t=r0(),Of(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(L){n=null;break e}var o=0,l=-1,u=-1,d=0,h=0,g=t,y=null;t:for(;;){for(var w;g!==n||i!==0&&g.nodeType!==3||(l=o+i),g!==s||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(w=g.firstChild)!==null;)y=g,g=w;for(;;){if(g===t)break t;if(y===n&&++d===i&&(l=o),y===s&&++h===r&&(u=o),(w=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:t,selectionRange:n},cl=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var k=I.memoizedProps,B=I.memoizedState,b=e.stateNode,T=b.getSnapshotBeforeUpdate(e.elementType===e.type?k:Tn(e.type,k),B);b.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(L){st(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return I=jm,jm=!1,I}function co(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&vd(e,n,s)}i=i.next}while(i!==r)}}function ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _d(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function J0(t){var e=t.alternate;e!==null&&(t.alternate=null,J0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Mo],delete e[sd],delete e[gC],delete e[yC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e1(t){return t.tag===5||t.tag===3||t.tag===4}function Fm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hl));else if(r!==4&&(t=t.child,t!==null))for(wd(t,e,n),t=t.sibling;t!==null;)wd(t,e,n),t=t.sibling}function xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xd(t,e,n),t=t.sibling;t!==null;)xd(t,e,n),t=t.sibling}var kt=null,kn=!1;function wr(t,e,n){for(n=n.child;n!==null;)t1(t,e,n),n=n.sibling}function t1(t,e,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Zl,n)}catch(l){}switch(n.tag){case 5:Lt||zi(n,e);case 6:var r=kt,i=kn;kt=null,wr(t,e,n),kt=r,kn=i,kt!==null&&(kn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(kn?(t=kt,n=n.stateNode,t.nodeType===8?Yu(t.parentNode,n):t.nodeType===1&&Yu(t,n),Po(t)):Yu(kt,n.stateNode));break;case 4:r=kt,i=kn,kt=n.stateNode.containerInfo,kn=!0,wr(t,e,n),kt=r,kn=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vd(n,e,o),i=i.next}while(i!==r)}wr(t,e,n);break;case 1:if(!Lt&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){st(n,e,l)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,wr(t,e,n),Lt=r):wr(t,e,n);break;default:wr(t,e,n)}}function Bm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RC),e.forEach(function(r){var i=WC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,kn=!1;break e;case 3:kt=l.stateNode.containerInfo,kn=!0;break e;case 4:kt=l.stateNode.containerInfo,kn=!0;break e}l=l.return}if(kt===null)throw Error(J(160));t1(s,o,i),kt=null,kn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){st(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n1(e,t),e=e.sibling}function n1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Bn(t),r&4){try{co(3,t,t.return),ou(3,t)}catch(k){st(t,t.return,k)}try{co(5,t,t.return)}catch(k){st(t,t.return,k)}}break;case 1:En(e,t),Bn(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(En(e,t),Bn(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var i=t.stateNode;try{bo(i,"")}catch(k){st(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Ev(i,s),$c(l,o);var d=$c(l,s);for(o=0;o<u.length;o+=2){var h=u[o],g=u[o+1];h==="style"?Pv(i,g):h==="dangerouslySetInnerHTML"?kv(i,g):h==="children"?bo(i,g):Sf(i,h,g,d)}switch(l){case"input":Vc(i,s);break;case"textarea":bv(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?qi(i,!!s.multiple,w,!1):y!==!!s.multiple&&(s.defaultValue!=null?qi(i,!!s.multiple,s.defaultValue,!0):qi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mo]=s}catch(k){st(t,t.return,k)}}break;case 6:if(En(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){st(t,t.return,k)}}break;case 3:if(En(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Po(e.containerInfo)}catch(k){st(t,t.return,k)}break;case 4:En(e,t),Bn(t);break;case 13:En(e,t),Bn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(th=ct())),r&4&&Bm(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(d=Lt)||h,En(e,t),Lt=d):En(e,t),Bn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(ae=t,h=t.child;h!==null;){for(g=ae=h;ae!==null;){switch(y=ae,w=y.child,y.tag){case 0:case 11:case 14:case 15:co(4,y,y.return);break;case 1:zi(y,y.return);var I=y.stateNode;if(typeof I.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(k){st(r,n,k)}}break;case 5:zi(y,y.return);break;case 22:if(y.memoizedState!==null){Um(g);continue}}w!==null?(w.return=y,ae=w):Um(g)}h=h.sibling}e:for(h=null,g=t;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Iv("display",o))}catch(k){st(t,t.return,k)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(k){st(t,t.return,k)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:En(e,t),Bn(t),r&4&&Bm(t);break;case 21:break;default:En(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e1(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bo(i,""),r.flags&=-33);var s=Fm(t);xd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Fm(t);wd(t,l,o);break;default:throw Error(J(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OC(t,e,n){ae=t,r1(t)}function r1(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ma;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Lt;l=Ma;var d=Lt;if(Ma=o,(Lt=u)&&!d)for(ae=i;ae!==null;)o=ae,u=o.child,o.tag===22&&o.memoizedState!==null?zm(i):u!==null?(u.return=o,ae=u):zm(i);for(;s!==null;)ae=s,r1(s),s=s.sibling;ae=i,Ma=l,Lt=d}Vm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):Vm(t)}}function Vm(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||ou(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Em(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Em(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&Po(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Lt||e.flags&512&&_d(e)}catch(y){st(e,e.return,y)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Um(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function zm(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ou(4,e)}catch(u){st(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){st(e,i,u)}}var s=e.return;try{_d(e)}catch(u){st(e,s,u)}break;case 5:var o=e.return;try{_d(e)}catch(u){st(e,o,u)}}}catch(u){st(e,e.return,u)}if(e===t){ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ae=l;break}ae=e.return}}var LC=Math.ceil,El=mr.ReactCurrentDispatcher,Jf=mr.ReactCurrentOwner,vn=mr.ReactCurrentBatchConfig,Le=0,bt=null,pt=null,Nt=0,tn=0,Wi=Gr(0),yt=0,Vo=null,yi=0,au=0,eh=0,fo=null,Gt=null,th=0,ps=1/0,er=null,bl=!1,Sd=null,Mr=null,Oa=!1,kr=null,Tl=0,ho=0,Cd=null,Za=-1,Ja=0;function zt(){return Le&6?ct():Za!==-1?Za:Za=ct()}function Or(t){return t.mode&1?Le&2&&Nt!==0?Nt&-Nt:_C.transition!==null?(Ja===0&&(Ja=Uv()),Ja):(t=Be,t!==0||(t=window.event,t=t===void 0?16:Yv(t.type)),t):1}function An(t,e,n,r){if(50<ho)throw ho=0,Cd=null,Error(J(185));sa(t,n,r),(!(Le&2)||t!==bt)&&(t===bt&&(!(Le&2)&&(au|=n),yt===4&&br(t,Nt)),en(t,r),n===1&&Le===0&&!(e.mode&1)&&(ps=ct()+500,ru&&Yr()))}function en(t,e){var n=t.callbackNode;_S(t,e);var r=ul(t,t===bt?Nt:0);if(r===0)n!==null&&Xp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xp(n),e===1)t.tag===0?vC(Wm.bind(null,t)):h0(Wm.bind(null,t)),pC(function(){!(Le&6)&&Yr()}),n=null;else{switch(zv(r)){case 1:n=kf;break;case 4:n=Bv;break;case 16:n=ll;break;case 536870912:n=Vv;break;default:n=ll}n=d1(n,i1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function i1(t,e){if(Za=-1,Ja=0,Le&6)throw Error(J(327));var n=t.callbackNode;if(ts()&&t.callbackNode!==n)return null;var r=ul(t,t===bt?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kl(t,r);else{e=r;var i=Le;Le|=2;var s=o1();(bt!==t||Nt!==e)&&(er=null,ps=ct()+500,ui(t,e));do try{BC();break}catch(l){s1(t,l)}while(1);Vf(),El.current=s,Le=i,pt!==null?e=0:(bt=null,Nt=0,e=yt)}if(e!==0){if(e===2&&(i=qc(t),i!==0&&(r=i,e=Ed(t,i))),e===1)throw n=Vo,ui(t,0),br(t,r),en(t,ct()),n;if(e===6)br(t,r);else{if(i=t.current.alternate,!(r&30)&&!jC(i)&&(e=kl(t,r),e===2&&(s=qc(t),s!==0&&(r=s,e=Ed(t,s))),e===1))throw n=Vo,ui(t,0),br(t,r),en(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Zr(t,Gt,er);break;case 3:if(br(t,r),(r&130023424)===r&&(e=th+500-ct(),10<e)){if(ul(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){zt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=id(Zr.bind(null,t,Gt,er),e);break}Zr(t,Gt,er);break;case 4:if(br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Dn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LC(r/1960))-r,10<r){t.timeoutHandle=id(Zr.bind(null,t,Gt,er),r);break}Zr(t,Gt,er);break;case 5:Zr(t,Gt,er);break;default:throw Error(J(329))}}}return en(t,ct()),t.callbackNode===n?i1.bind(null,t):null}function Ed(t,e){var n=fo;return t.current.memoizedState.isDehydrated&&(ui(t,e).flags|=256),t=kl(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&bd(e)),t}function bd(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function jC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mn(s(),i))return!1}catch(o){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function br(t,e){for(e&=~eh,e&=~au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),r=1<<n;t[n]=-1,e&=~r}}function Wm(t){if(Le&6)throw Error(J(327));ts();var e=ul(t,0);if(!(e&1))return en(t,ct()),null;var n=kl(t,e);if(t.tag!==0&&n===2){var r=qc(t);r!==0&&(e=r,n=Ed(t,r))}if(n===1)throw n=Vo,ui(t,0),br(t,e),en(t,ct()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zr(t,Gt,er),en(t,ct()),null}function nh(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(ps=ct()+500,ru&&Yr())}}function vi(t){kr!==null&&kr.tag===0&&!(Le&6)&&ts();var e=Le;Le|=1;var n=vn.transition,r=Be;try{if(vn.transition=null,Be=1,t)return t()}finally{Be=r,vn.transition=n,Le=e,!(Le&6)&&Yr()}}function rh(){tn=Wi.current,qe(Wi)}function ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hC(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(jf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pl();break;case 3:fs(),qe(Zt),qe(Ft),Kf();break;case 5:$f(r);break;case 4:fs();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:Uf(r.type._context);break;case 22:case 23:rh()}n=n.return}if(bt=t,pt=t=Lr(t.current,null),Nt=tn=e,yt=0,Vo=null,eh=au=yi=0,Gt=fo=null,ri!==null){for(e=0;e<ri.length;e++)if(n=ri[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ri=null}return t}function s1(t,e){do{var n=pt;try{if(Vf(),Qa.current=Cl,Sl){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sl=!1}if(gi=0,xt=gt=tt=null,uo=!1,jo=0,Jf.current=null,n===null||n.return===null){yt=1,Vo=e,pt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Nt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=l,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=Nm(o);if(w!==null){w.flags&=-257,Dm(w,o,l,s,e),w.mode&1&&Pm(s,d,e),e=w,u=d;var I=e.updateQueue;if(I===null){var k=new Set;k.add(u),e.updateQueue=k}else I.add(u);break e}else{if(!(e&1)){Pm(s,d,e),ih();break e}u=Error(J(426))}}else if(Xe&&l.mode&1){var B=Nm(o);if(B!==null){!(B.flags&65536)&&(B.flags|=256),Dm(B,o,l,s,e),Ff(hs(u,l));break e}}s=u=hs(u,l),yt!==4&&(yt=2),fo===null?fo=[s]:fo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=z0(s,u,e);Cm(s,b);break e;case 1:l=u;var T=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Mr===null||!Mr.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=W0(s,l,e);Cm(s,L);break e}}s=s.return}while(s!==null)}l1(n)}catch(F){e=F,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function o1(){var t=El.current;return El.current=Cl,t===null?Cl:t}function ih(){(yt===0||yt===3||yt===2)&&(yt=4),bt===null||!(yi&268435455)&&!(au&268435455)||br(bt,Nt)}function kl(t,e){var n=Le;Le|=2;var r=o1();(bt!==t||Nt!==e)&&(er=null,ui(t,e));do try{FC();break}catch(i){s1(t,i)}while(1);if(Vf(),Le=n,El.current=r,pt!==null)throw Error(J(261));return bt=null,Nt=0,yt}function FC(){for(;pt!==null;)a1(pt)}function BC(){for(;pt!==null&&!cS();)a1(pt)}function a1(t){var e=c1(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?l1(t):pt=e,Jf.current=null}function l1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AC(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,pt=null;return}}else if(n=DC(n,e,tn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);yt===0&&(yt=5)}function Zr(t,e,n){var r=Be,i=vn.transition;try{vn.transition=null,Be=1,VC(t,e,n,r)}finally{vn.transition=i,Be=r}return null}function VC(t,e,n,r){do ts();while(kr!==null);if(Le&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wS(t,s),t===bt&&(pt=bt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oa||(Oa=!0,d1(ll,function(){return ts(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=Be;Be=1;var l=Le;Le|=4,Jf.current=null,MC(t,n),n1(n,t),oC(nd),cl=!!td,nd=td=null,t.current=n,OC(n),dS(),Le=l,Be=o,vn.transition=s}else t.current=n;if(Oa&&(Oa=!1,kr=t,Tl=i),s=t.pendingLanes,s===0&&(Mr=null),pS(n.stateNode),en(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bl)throw bl=!1,t=Sd,Sd=null,t;return Tl&1&&t.tag!==0&&ts(),s=t.pendingLanes,s&1?t===Cd?ho++:(ho=0,Cd=t):ho=0,Yr(),null}function ts(){if(kr!==null){var t=zv(Tl),e=vn.transition,n=Be;try{if(vn.transition=null,Be=16>t?16:t,kr===null)var r=!1;else{if(t=kr,kr=null,Tl=0,Le&6)throw Error(J(331));var i=Le;for(Le|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(ae=d;ae!==null;){var h=ae;switch(h.tag){case 0:case 11:case 15:co(8,h,s)}var g=h.child;if(g!==null)g.return=h,ae=g;else for(;ae!==null;){h=ae;var y=h.sibling,w=h.return;if(J0(h),h===d){ae=null;break}if(y!==null){y.return=w,ae=y;break}ae=w}}}var I=s.alternate;if(I!==null){var k=I.child;if(k!==null){I.child=null;do{var B=k.sibling;k.sibling=null,k=B}while(k!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:co(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,ae=b;break e}ae=s.return}}var T=t.current;for(ae=T;ae!==null;){o=ae;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,ae=P;else e:for(o=T;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ou(9,l)}}catch(F){st(l,l.return,F)}if(l===o){ae=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,ae=L;break e}ae=l.return}}if(Le=i,Yr(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Zl,t)}catch(F){}r=!0}return r}finally{Be=n,vn.transition=e}}return!1}function Hm(t,e,n){e=hs(n,e),e=z0(t,e,1),t=Rr(t,e,1),e=zt(),t!==null&&(sa(t,1,e),en(t,e))}function st(t,e,n){if(t.tag===3)Hm(t,t,n);else for(;e!==null;){if(e.tag===3){Hm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){t=hs(n,t),t=W0(e,t,1),e=Rr(e,t,1),t=zt(),e!==null&&(sa(e,1,t),en(e,t));break}}e=e.return}}function UC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=zt(),t.pingedLanes|=t.suspendedLanes&n,bt===t&&(Nt&n)===n&&(yt===4||yt===3&&(Nt&130023424)===Nt&&500>ct()-th?ui(t,0):eh|=n),en(t,e)}function u1(t,e){e===0&&(t.mode&1?(e=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):e=1);var n=zt();t=ur(t,e),t!==null&&(sa(t,e,n),en(t,n))}function zC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u1(t,n)}function WC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),u1(t,n)}var c1;c1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,NC(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,Xe&&e.flags&1048576&&p0(e,yl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xa(t,e),t=e.pendingProps;var i=us(e,Ft.current);es(e,n),i=Yf(null,e,r,t,i,n);var s=Qf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(s=!0,ml(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wf(e),i.updater=su,e.stateNode=i,i._reactInternals=e,dd(e,r,t,n),e=pd(null,e,r,!0,s,n)):(e.tag=0,Xe&&s&&Lf(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$C(r),t=Tn(r,t),i){case 0:e=hd(null,e,r,t,n);break e;case 1:e=Mm(null,e,r,t,n);break e;case 11:e=Am(null,e,r,t,n);break e;case 14:e=Rm(null,e,r,Tn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),hd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Mm(t,e,r,i,n);case 3:e:{if(G0(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,w0(t,e),wl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=hs(Error(J(423)),e),e=Om(t,e,r,n,i);break e}else if(r!==i){i=hs(Error(J(424)),e),e=Om(t,e,r,n,i);break e}else for(nn=Ar(e.stateNode.containerInfo.firstChild),rn=e,Xe=!0,In=null,n=v0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cs(),r===i){e=cr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return x0(e),t===null&&ld(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,rd(r,i)?o=null:s!==null&&rd(r,s)&&(e.flags|=32),K0(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&ld(e),null;case 13:return Y0(t,e,n);case 4:return Hf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ds(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Am(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ge(vl,r._currentValue),r._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===i.children&&!Zt.current){e=cr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=sr(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),ud(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ud(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,es(e,n),i=wn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),Rm(t,e,r,i,n);case 15:return H0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Xa(t,e),e.tag=1,Jt(r)?(t=!0,ml(e)):t=!1,es(e,n),U0(e,r,i),dd(e,r,i,n),pd(null,e,r,!0,t,n);case 19:return Q0(t,e,n);case 22:return $0(t,e,n)}throw Error(J(156,e.tag))};function d1(t,e){return Fv(t,e)}function HC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new HC(t,e,n,r)}function sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $C(t){if(typeof t=="function")return sh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ef)return 11;if(t===bf)return 14}return 2}function Lr(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function el(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ri:return ci(n.children,i,s,e);case Cf:o=8,i|=8;break;case Oc:return t=gn(12,n,e,i|2),t.elementType=Oc,t.lanes=s,t;case Lc:return t=gn(13,n,e,i),t.elementType=Lc,t.lanes=s,t;case jc:return t=gn(19,n,e,i),t.elementType=jc,t.lanes=s,t;case xv:return lu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _v:o=10;break e;case wv:o=9;break e;case Ef:o=11;break e;case bf:o=14;break e;case Sr:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ci(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function lu(t,e,n,r){return t=gn(22,t,r,e),t.elementType=xv,t.lanes=n,t.stateNode={isHidden:!1},t}function nc(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function rc(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ju(0),this.expirationTimes=ju(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oh(t,e,n,r,i,s,o,l,u){return t=new KC(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(s),t}function GC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f1(t){if(!t)return Ur;t=t._reactInternals;e:{if(Ei(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Jt(n))return f0(t,n,e)}return e}function h1(t,e,n,r,i,s,o,l,u){return t=oh(n,r,!0,t,i,s,o,l,u),t.context=f1(null),n=t.current,r=zt(),i=Or(n),s=sr(r,i),s.callback=e!=null?e:null,Rr(n,s,i),t.current.lanes=i,sa(t,i,r),en(t,r),t}function uu(t,e,n,r){var i=e.current,s=zt(),o=Or(i);return n=f1(n),e.context===null?e.context=n:e.pendingContext=n,e=sr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rr(i,e,o),t!==null&&(An(t,i,o,s),Ya(t,i,o)),o}function Il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $m(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ah(t,e){$m(t,e),(t=t.alternate)&&$m(t,e)}function YC(){return null}var p1=typeof reportError=="function"?reportError:function(t){console.error(t)};function lh(t){this._internalRoot=t}cu.prototype.render=lh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));uu(t,e,null,null)};cu.prototype.unmount=lh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vi(function(){uu(null,t,null,null)}),e[lr]=null}};function cu(t){this._internalRoot=t}cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=$v();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&Gv(t)}};function uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Km(){}function QC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=Il(o);s.call(d)}}var o=h1(e,r,t,0,null,!1,!1,"",Km);return t._reactRootContainer=o,t[lr]=o.current,Ao(t.nodeType===8?t.parentNode:t),vi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Il(u);l.call(d)}}var u=oh(t,0,!1,null,null,!1,!1,"",Km);return t._reactRootContainer=u,t[lr]=u.current,Ao(t.nodeType===8?t.parentNode:t),vi(function(){uu(e,u,n,r)}),u}function fu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Il(o);l.call(u)}}uu(e,o,t,i)}else o=QC(n,e,t,i,r);return Il(o)}Wv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eo(e.pendingLanes);n!==0&&(If(e,n|1),en(e,ct()),!(Le&6)&&(ps=ct()+500,Yr()))}break;case 13:vi(function(){var r=ur(t,1);if(r!==null){var i=zt();An(r,t,1,i)}}),ah(t,1)}};Pf=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=zt();An(e,t,134217728,n)}ah(t,134217728)}};Hv=function(t){if(t.tag===13){var e=Or(t),n=ur(t,e);if(n!==null){var r=zt();An(n,t,e,r)}ah(t,e)}};$v=function(){return Be};Kv=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};Gc=function(t,e,n){switch(e){case"input":if(Vc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nu(r);if(!i)throw Error(J(90));Cv(r),Vc(r,i)}}}break;case"textarea":bv(t,n);break;case"select":e=n.value,e!=null&&qi(t,!!n.multiple,e,!1)}};Av=nh;Rv=vi;var qC={usingClientEntryPoint:!1,Events:[aa,ji,nu,Nv,Dv,nh]},Hs={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XC={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lv(t),t===null?null:t.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||YC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{Zl=La.inject(XC),zn=La}catch(t){}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qC;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(e))throw Error(J(200));return GC(t,e,null,n)};on.createRoot=function(t,e){if(!uh(t))throw Error(J(299));var n=!1,r="",i=p1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oh(t,1,!1,null,null,n,!1,r,i),t[lr]=e.current,Ao(t.nodeType===8?t.parentNode:t),new lh(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Lv(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return vi(t)};on.hydrate=function(t,e,n){if(!du(e))throw Error(J(200));return fu(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!uh(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=p1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=h1(e,null,t,1,n!=null?n:null,i,!1,s,o),t[lr]=e.current,Ao(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cu(e)};on.render=function(t,e,n){if(!du(e))throw Error(J(200));return fu(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!du(t))throw Error(J(40));return t._reactRootContainer?(vi(function(){fu(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};on.unstable_batchedUpdates=nh;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!du(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return fu(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function m1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m1)}catch(t){console.error(t)}}m1(),mv.exports=on;var ZC=mv.exports,Gm=ZC;Rc.createRoot=Gm.createRoot,Rc.hydrateRoot=Gm.hydrateRoot;function JC(){const[t,e]=Q.useState(null),[n,r]=Q.useState(null),i=37.471561,s=-77.776657;Q.useEffect(()=>{typeof window!="undefined"&&window.location.hostname.includes("github.io")&&(e(72),r(1)),fetch(`https://api.open-meteo.com/v1/forecast?latitude=${i}&longitude=${s}&current=temperature_2m,weathercode`).then(u=>u.json()).then(u=>{if(u!=null&&u.current){const h=u.current.temperature_2m*9/5+32;e(Math.round(h)),r(u.current.weathercode)}}).catch(u=>{console.error("Weather fetch failed:",u)})},[]);const l={0:"clear.svg",1:"partlycloudy.svg",2:"cloudy.svg",3:"cloudy.svg",45:"fog.svg",48:"fog.svg",51:"rain.svg",53:"rain.svg",55:"rain.svg",56:"rain.svg",57:"rain.svg",61:"rain.svg",63:"rain.svg",65:"rain.svg",66:"rain.svg",67:"rain.svg",71:"snow.svg",73:"snow.svg",75:"snow.svg",77:"snow.svg",80:"rain.svg",81:"rain.svg",82:"thunderstorm.svg",85:"snow.svg",86:"snow.svg",95:"thunderstorm.svg",96:"thunderstorm.svg",99:"thunderstorm.svg"}[n]||"cloudy.svg";return M.jsxs("div",{className:"flex items-center gap-3 text-3xl font-bold text-[#5A3210]",children:[M.jsx("img",{src:`/family-hub/weather/${l}`,alt:l.replace(".svg",""),className:"w-10 h-10 object-contain",style:{filter:"brightness(0) saturate(100%) invert(23%) sepia(63%) saturate(1027%) hue-rotate(20deg) brightness(94%) contrast(95%)"},title:l.replace(".svg","")}),t!==null?M.jsxs("span",{children:[t,"°F"]}):M.jsx("span",{children:"--°F"})]})}function eE(){const[t,e]=Q.useState(null);return Q.useEffect(()=>{e((()=>{const r=new Date,i=new Date("2025-01-17"),s=29.53058867,l=((r-i)/(1e3*60*60*24)%s+s)%s;return l<1.84566?{name:"New Moon",icon:"newmoon.svg"}:l<5.53699?{name:"Waxing Crescent",icon:"waxingcrescent.svg"}:l<9.22831?{name:"First Quarter",icon:"firstquarter.svg"}:l<12.91963?{name:"Waxing Gibbous",icon:"waxinggibbous.svg"}:l<16.61096?{name:"Full Moon",icon:"fullmoon.svg"}:l<20.30228?{name:"Waning Gibbous",icon:"waninggibbous.svg"}:l<23.99361?{name:"Last Quarter",icon:"lastquarter.svg"}:{name:"Waning Crescent",icon:"waningcrescent.svg"}})())},[]),t?M.jsx("div",{className:"flex items-center gap-2 text-3xl font-bold text-[#5A3210]",children:M.jsx("img",{src:`/family-hub/moon/${t.icon}`,alt:t.name,title:t.name,className:"w-10 h-10 object-contain",style:{filter:"brightness(0) saturate(100%) invert(23%) sepia(63%) saturate(1027%) hue-rotate(20deg) brightness(94%) contrast(95%)"}})}):M.jsx("div",{className:"w-12"})}function tE(){const[t,e]=Q.useState(new Date);Q.useEffect(()=>{const i=setInterval(()=>e(new Date),1e3);return()=>clearInterval(i)},[]);const n=t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}),r=t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"});return M.jsxs("header",{className:"w-full bg-transparent shadow-none px-2 sm:px-6 py-3 sm:py-6 mb-3 sm:mb-6 flex justify-between items-center",style:{paddingTop:window.innerWidth<768?"20px":"50px"},children:[M.jsx(eE,{}),M.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[M.jsx("div",{className:"text-sm sm:text-2xl font-medium text-[#5A3210] font-serif",children:n}),M.jsx("div",{className:"text-3xl sm:text-6xl font-bold text-[#5A3210] mt-1",children:r})]}),M.jsx(JC,{})]})}const ch=Q.createContext({});function dh(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const fh=typeof window!="undefined",g1=fh?Q.useLayoutEffect:Q.useEffect,hu=Q.createContext(null);function hh(t,e){t.indexOf(e)===-1&&t.push(e)}function ph(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const dr=(t,e,n)=>n>e?e:n<t?t:n;let mh=()=>{};const fr={},y1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function v1(t){return typeof t=="object"&&t!==null}const _1=t=>/^0[^.\s]+$/u.test(t);function gh(t){let e;return()=>(e===void 0&&(e=t()),e)}const _n=t=>t,nE=(t,e)=>n=>e(t(n)),ua=(...t)=>t.reduce(nE),Uo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class yh{constructor(){this.subscriptions=[]}add(e){return hh(this.subscriptions,e),()=>ph(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hn=t=>t*1e3,$n=t=>t/1e3;function w1(t,e){return e?t*(1e3/e):0}const x1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rE=1e-7,iE=12;function sE(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=x1(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>rE&&++l<iE);return o}function ca(t,e,n,r){if(t===e&&n===r)return _n;const i=s=>sE(s,0,1,t,n);return s=>s===0||s===1?s:x1(i(s),e,r)}const S1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,C1=t=>e=>1-t(1-e),E1=ca(.33,1.53,.69,.99),vh=C1(E1),b1=S1(vh),T1=t=>(t*=2)<1?.5*vh(t):.5*(2-Math.pow(2,-10*(t-1))),_h=t=>1-Math.sin(Math.acos(t)),k1=C1(_h),I1=S1(_h),oE=ca(.42,0,1,1),aE=ca(0,0,.58,1),P1=ca(.42,0,.58,1),lE=t=>Array.isArray(t)&&typeof t[0]!="number",N1=t=>Array.isArray(t)&&typeof t[0]=="number",uE={linear:_n,easeIn:oE,easeInOut:P1,easeOut:aE,circIn:_h,circInOut:I1,circOut:k1,backIn:vh,backInOut:b1,backOut:E1,anticipate:T1},cE=t=>typeof t=="string",Ym=t=>{if(N1(t)){mh(t.length===4);const[e,n,r,i]=t;return ca(e,n,r,i)}else if(cE(t))return uE[t];return t},ja=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Qm={value:null,addProjectionMetrics:null};function dE(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function d(g){o.has(g)&&(h.schedule(g),t()),u++,g(l)}const h={schedule:(g,y=!1,w=!1)=>{const k=w&&i?n:r;return y&&o.add(g),k.has(g)||k.add(g),g},cancel:g=>{r.delete(g),o.delete(g)},process:g=>{if(l=g,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(d),e&&Qm.value&&Qm.value.frameloop[e].push(u),u=0,n.clear(),i=!1,s&&(s=!1,h.process(g))}};return h}const fE=40;function D1(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=ja.reduce((P,L)=>(P[L]=dE(s,e?L:void 0),P),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:h,update:g,preRender:y,render:w,postRender:I}=o,k=()=>{const P=fr.useManualTiming?i.timestamp:performance.now();n=!1,fr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,fE),1)),i.timestamp=P,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),h.process(i),g.process(i),y.process(i),w.process(i),I.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(k))},B=()=>{n=!0,r=!0,i.isProcessing||t(k)};return{schedule:ja.reduce((P,L)=>{const F=o[L];return P[L]=(H,K=!1,Y=!1)=>(n||B(),F.schedule(H,K,Y)),P},{}),cancel:P=>{for(let L=0;L<ja.length;L++)o[ja[L]].cancel(P)},state:i,steps:o}}const{schedule:Ze,cancel:zr,state:It,steps:ic}=D1(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:_n,!0);let tl;function hE(){tl=void 0}const Qt={now:()=>(tl===void 0&&Qt.set(It.isProcessing||fr.useManualTiming?It.timestamp:performance.now()),tl),set:t=>{tl=t,queueMicrotask(hE)}},A1=t=>e=>typeof e=="string"&&e.startsWith(t),wh=A1("--"),pE=A1("var(--"),xh=t=>pE(t)?mE.test(t.split("/*")[0].trim()):!1,mE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ks={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zo=be(ee({},ks),{transform:t=>dr(0,1,t)}),Fa=be(ee({},ks),{default:1}),po=t=>Math.round(t*1e5)/1e5,Sh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gE(t){return t==null}const yE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ch=(t,e)=>n=>!!(typeof n=="string"&&yE.test(n)&&n.startsWith(t)||e&&!gE(n)&&Object.prototype.hasOwnProperty.call(n,e)),R1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(Sh);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},vE=t=>dr(0,255,t),sc=be(ee({},ks),{transform:t=>Math.round(vE(t))}),si={test:Ch("rgb","red"),parse:R1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sc.transform(t)+", "+sc.transform(e)+", "+sc.transform(n)+", "+po(zo.transform(r))+")"};function _E(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Td={test:Ch("#"),parse:_E,transform:si.transform},da=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=da("deg"),Kn=da("%"),ve=da("px"),wE=da("vh"),xE=da("vw"),qm=(()=>be(ee({},Kn),{parse:t=>Kn.parse(t)/100,transform:t=>Kn.transform(t*100)}))(),Hi={test:Ch("hsl","hue"),parse:R1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Kn.transform(po(e))+", "+Kn.transform(po(n))+", "+po(zo.transform(r))+")"},ht={test:t=>si.test(t)||Td.test(t)||Hi.test(t),parse:t=>si.test(t)?si.parse(t):Hi.test(t)?Hi.parse(t):Td.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?si.transform(t):Hi.transform(t),getAnimatableNone:t=>{const e=ht.parse(t);return e.alpha=0,ht.transform(e)}},SE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CE(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Sh))==null?void 0:e.length)||0)+(((n=t.match(SE))==null?void 0:n.length)||0)>0}const M1="number",O1="color",EE="var",bE="var(",Xm="${}",TE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wo(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(TE,u=>(ht.test(u)?(r.color.push(s),i.push(O1),n.push(ht.parse(u))):u.startsWith(bE)?(r.var.push(s),i.push(EE),n.push(u)):(r.number.push(s),i.push(M1),n.push(parseFloat(u))),++s,Xm)).split(Xm);return{values:n,split:l,indexes:r,types:i}}function L1(t){return Wo(t).values}function j1(t){const{split:e,types:n}=Wo(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===M1?s+=po(i[o]):l===O1?s+=ht.transform(i[o]):s+=i[o]}return s}}const kE=t=>typeof t=="number"?0:ht.test(t)?ht.getAnimatableNone(t):t;function IE(t){const e=L1(t);return j1(t)(e.map(kE))}const Wr={test:CE,parse:L1,createTransformer:j1,getAnimatableNone:IE};function oc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function PE({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=oc(u,l,t+1/3),s=oc(u,l,t),o=oc(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Pl(t,e){return n=>n>0?e:t}const et=(t,e,n)=>t+(e-t)*n,ac=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},NE=[Td,si,Hi],DE=t=>NE.find(e=>e.test(t));function Zm(t){const e=DE(t);if(!e)return!1;let n=e.parse(t);return e===Hi&&(n=PE(n)),n}const Jm=(t,e)=>{const n=Zm(t),r=Zm(e);if(!n||!r)return Pl(t,e);const i=ee({},n);return s=>(i.red=ac(n.red,r.red,s),i.green=ac(n.green,r.green,s),i.blue=ac(n.blue,r.blue,s),i.alpha=et(n.alpha,r.alpha,s),si.transform(i))},kd=new Set(["none","hidden"]);function AE(t,e){return kd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RE(t,e){return n=>et(t,e,n)}function Eh(t){return typeof t=="number"?RE:typeof t=="string"?xh(t)?Pl:ht.test(t)?Jm:LE:Array.isArray(t)?F1:typeof t=="object"?ht.test(t)?Jm:ME:Pl}function F1(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Eh(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function ME(t,e){const n=ee(ee({},t),e),r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Eh(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function OE(t,e){var i;const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=(i=t.values[l])!=null?i:0;n[s]=u,r[o]++}return n}const LE=(t,e)=>{const n=Wr.createTransformer(e),r=Wo(t),i=Wo(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?kd.has(t)&&!i.values.length||kd.has(e)&&!r.values.length?AE(t,e):ua(F1(OE(r,i),i.values),n):Pl(t,e)};function B1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?et(t,e,n):Eh(t)(t,e)}const jE=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ze.update(e,n),stop:()=>zr(e),now:()=>It.isProcessing?It.timestamp:Qt.now()}},V1=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Nl=2e4;function bh(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Nl;)e+=n,r=t.next(e);return e>=Nl?1/0:e}function FE(t,e=100,n){const r=n(be(ee({},t),{keyframes:[0,e]})),i=Math.min(bh(r),Nl);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:$n(i)}}const BE=5;function U1(t,e,n){const r=Math.max(e-BE,0);return w1(n-t(r),e-r)}const it={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lc=.001;function VE({duration:t=it.duration,bounce:e=it.bounce,velocity:n=it.velocity,mass:r=it.mass}){let i,s,o=1-e;o=dr(it.minDamping,it.maxDamping,o),t=dr(it.minDuration,it.maxDuration,$n(t)),o<1?(i=d=>{const h=d*o,g=h*t,y=h-n,w=Id(d,o),I=Math.exp(-g);return lc-y/w*I},s=d=>{const g=d*o*t,y=g*n+n,w=Math.pow(o,2)*Math.pow(d,2)*t,I=Math.exp(-g),k=Id(Math.pow(d,2),o);return(-i(d)+lc>0?-1:1)*((y-w)*I)/k}):(i=d=>{const h=Math.exp(-d*t),g=(d-n)*t+1;return-lc+h*g},s=d=>{const h=Math.exp(-d*t),g=(n-d)*(t*t);return h*g});const l=5/t,u=zE(i,s,l);if(t=Hn(t),isNaN(u))return{stiffness:it.stiffness,damping:it.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const UE=12;function zE(t,e,n){let r=n;for(let i=1;i<UE;i++)r=r-t(r)/e(r);return r}function Id(t,e){return t*Math.sqrt(1-e*e)}const WE=["duration","bounce"],HE=["stiffness","damping","mass"];function eg(t,e){return e.some(n=>t[n]!==void 0)}function $E(t){let e=ee({velocity:it.velocity,stiffness:it.stiffness,damping:it.damping,mass:it.mass,isResolvedFromDuration:!1},t);if(!eg(t,HE)&&eg(t,WE))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*dr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e=be(ee({},e),{mass:it.mass,stiffness:i,damping:s})}else{const n=VE(t);e=be(ee(ee({},e),n),{mass:it.mass}),e.isResolvedFromDuration=!0}return e}function Dl(t=it.visualDuration,e=it.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:h,duration:g,velocity:y,isResolvedFromDuration:w}=$E(be(ee({},n),{velocity:-$n(n.velocity||0)})),I=y||0,k=d/(2*Math.sqrt(u*h)),B=o-s,b=$n(Math.sqrt(u/h)),T=Math.abs(B)<5;r||(r=T?it.restSpeed.granular:it.restSpeed.default),i||(i=T?it.restDelta.granular:it.restDelta.default);let P;if(k<1){const F=Id(b,k);P=H=>{const K=Math.exp(-k*b*H);return o-K*((I+k*b*B)/F*Math.sin(F*H)+B*Math.cos(F*H))}}else if(k===1)P=F=>o-Math.exp(-b*F)*(B+(I+b*B)*F);else{const F=b*Math.sqrt(k*k-1);P=H=>{const K=Math.exp(-k*b*H),Y=Math.min(F*H,300);return o-K*((I+k*b*B)*Math.sinh(Y)+F*B*Math.cosh(Y))/F}}const L={calculatedDuration:w&&g||null,next:F=>{const H=P(F);if(w)l.done=F>=g;else{let K=F===0?I:0;k<1&&(K=F===0?Hn(I):U1(P,F,H));const Y=Math.abs(K)<=r,me=Math.abs(o-H)<=i;l.done=Y&&me}return l.value=l.done?o:H,l},toString:()=>{const F=Math.min(bh(L),Nl),H=V1(K=>L.next(F*K).value,F,30);return F+"ms "+H},toTransition:()=>{}};return L}Dl.applyToOptions=t=>{const e=FE(t,100,Dl);return t.ease=e.ease,t.duration=Hn(e.duration),t.type="keyframes",t};function Pd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:h}){const g=t[0],y={done:!1,value:g},w=Y=>l!==void 0&&Y<l||u!==void 0&&Y>u,I=Y=>l===void 0?u:u===void 0||Math.abs(l-Y)<Math.abs(u-Y)?l:u;let k=n*e;const B=g+k,b=o===void 0?B:o(B);b!==B&&(k=b-g);const T=Y=>-k*Math.exp(-Y/r),P=Y=>b+T(Y),L=Y=>{const me=T(Y),ue=P(Y);y.done=Math.abs(me)<=d,y.value=y.done?b:ue};let F,H;const K=Y=>{w(y.value)&&(F=Y,H=Dl({keyframes:[y.value,I(y.value)],velocity:U1(P,Y,y.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return K(0),{calculatedDuration:null,next:Y=>{let me=!1;return!H&&F===void 0&&(me=!0,L(Y),K(Y)),F!==void 0&&Y>=F?H.next(Y-F):(!me&&L(Y),y)}}}function KE(t,e,n){const r=[],i=n||fr.mix||B1,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||_n:e;l=ua(u,l)}r.push(l)}return r}function GE(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(mh(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=KE(e,r,i),u=l.length,d=h=>{if(o&&h<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(h<t[g+1]);g++);const y=Uo(t[g],t[g+1],h);return l[g](y)};return n?h=>d(dr(t[0],t[s-1],h)):d}function YE(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Uo(0,e,r);t.push(et(n,1,i))}}function QE(t){const e=[0];return YE(e,t.length-1),e}function qE(t,e){return t.map(n=>n*e)}function XE(t,e){return t.map(()=>e||P1).splice(0,t.length-1)}function mo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=lE(r)?r.map(Ym):Ym(r),s={done:!1,value:e[0]},o=qE(n&&n.length===e.length?n:QE(e),t),l=GE(o,e,{ease:Array.isArray(i)?i:XE(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const ZE=t=>t!==null;function Th(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(ZE),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const JE={decay:Pd,inertia:Pd,tween:mo,keyframes:mo,spring:Dl};function z1(t){typeof t.type=="string"&&(t.type=JE[t.type])}class kh{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const eb=t=>t/100;class Ih extends kh{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Qt.now()&&this.tick(Qt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;z1(e);const{type:n=mo,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const u=n||mo;u!==mo&&typeof l[0]!="number"&&(this.mixKeyframes=ua(eb,B1(l[0],l[1])),l=[0,100]);const d=u(be(ee({},e),{keyframes:l}));s==="mirror"&&(this.mirroredGenerator=u(be(ee({},e),{keyframes:[...l].reverse(),velocity:-o}))),d.calculatedDuration===null&&(d.calculatedDuration=bh(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:g,repeatType:y,repeatDelay:w,type:I,onUpdate:k,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?b<0:b>i;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let P=this.currentTime,L=r;if(g){const Y=Math.min(this.currentTime,i)/l;let me=Math.floor(Y),ue=Y%1;!ue&&Y>=1&&(ue=1),ue===1&&me--,me=Math.min(me,g+1),!!(me%2)&&(y==="reverse"?(ue=1-ue,w&&(ue-=w/l)):y==="mirror"&&(L=o)),P=dr(0,1,ue)*l}const F=T?{done:!1,value:h[0]}:L.next(P);s&&(F.value=s(F.value));let{done:H}=F;!T&&u!==null&&(H=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const K=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return K&&I!==Pd&&(F.value=Th(h,this.options,B,this.speed)),k&&k(F.value),K&&this.finish(),F}then(e,n){return this.finished.then(e,n)}get duration(){return $n(this.calculatedDuration)}get time(){return $n(this.currentTime)}set time(e){var n;e=Hn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Qt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$n(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=jE,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function tb(t){var e;for(let n=1;n<t.length;n++)(e=t[n])!=null||(t[n]=t[n-1])}const oi=t=>t*180/Math.PI,Nd=t=>{const e=oi(Math.atan2(t[1],t[0]));return Dd(e)},nb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Nd,rotateZ:Nd,skewX:t=>oi(Math.atan(t[1])),skewY:t=>oi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Dd=t=>(t=t%360,t<0&&(t+=360),t),tg=Nd,ng=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),rg=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rb={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ng,scaleY:rg,scale:t=>(ng(t)+rg(t))/2,rotateX:t=>Dd(oi(Math.atan2(t[6],t[5]))),rotateY:t=>Dd(oi(Math.atan2(-t[2],t[0]))),rotateZ:tg,rotate:tg,skewX:t=>oi(Math.atan(t[4])),skewY:t=>oi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ad(t){return t.includes("scale")?1:0}function Rd(t,e){if(!t||t==="none")return Ad(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=rb,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=nb,i=l}if(!i)return Ad(e);const s=r[e],o=i[1].split(",").map(sb);return typeof s=="function"?s(o):o[s]}const ib=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Rd(n,e)};function sb(t){return parseFloat(t.trim())}const Is=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ps=(()=>new Set(Is))(),ig=t=>t===ks||t===ve,ob=new Set(["x","y","z"]),ab=Is.filter(t=>!ob.has(t));function lb(t){const e=[];return ab.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const di={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Rd(e,"x"),y:(t,{transform:e})=>Rd(e,"y")};di.translateX=di.x;di.translateY=di.y;const fi=new Set;let Md=!1,Od=!1,Ld=!1;function W1(){if(Od){const t=Array.from(fi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=lb(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Od=!1,Md=!1,fi.forEach(t=>t.complete(Ld)),fi.clear()}function H1(){fi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Od=!0)})}function ub(){Ld=!0,H1(),W1(),Ld=!1}class Ph{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(fi.add(this),Md||(Md=!0,Ze.read(H1),Ze.resolveKeyframes(W1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}tb(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fi.delete(this)}cancel(){this.state==="scheduled"&&(fi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cb=t=>t.startsWith("--");function db(t,e,n){cb(e)?t.style.setProperty(e,n):t.style[e]=n}const fb=gh(()=>window.ScrollTimeline!==void 0),hb={};function pb(t,e){const n=gh(t);return()=>{var r;return(r=hb[e])!=null?r:n()}}const $1=pb(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),no=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,sg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:no([0,.65,.55,1]),circOut:no([.55,0,1,.45]),backIn:no([.31,.01,.66,-.59]),backOut:no([.33,1.53,.69,.99])};function K1(t,e){if(t)return typeof t=="function"?$1()?V1(t,e):"ease-out":N1(t)?no(t):Array.isArray(t)?t.map(n=>K1(n,e)||sg.easeOut):sg[t]}function mb(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const h={[e]:n};u&&(h.offset=u);const g=K1(l,i);Array.isArray(g)&&(h.easing=g);const y={delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(h,y)}function G1(t){return typeof t=="function"&&"applyToOptions"in t}function gb(n){var r=n,{type:t}=r,e=dn(r,["type"]);var i,s;return G1(t)&&$1()?t.applyToOptions(e):((i=e.duration)!=null||(e.duration=300),(s=e.ease)!=null||(e.ease="easeOut"),e)}class yb extends kh{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,mh(typeof e.type!="string");const d=gb(e);this.animation=mb(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=Th(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):db(n,r,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return $n(Number(e))}get time(){return $n(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&fb()?(this.animation.timeline=e,_n):n(this)}}const Y1={anticipate:T1,backInOut:b1,circInOut:I1};function vb(t){return t in Y1}function _b(t){typeof t.ease=="string"&&vb(t.ease)&&(t.ease=Y1[t.ease])}const og=10;class wb extends yb{constructor(e){_b(e),z1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var h;const d=this.options,{motionValue:n,onUpdate:r,onComplete:i,element:s}=d,o=dn(d,["motionValue","onUpdate","onComplete","element"]);if(!n)return;if(e!==void 0){n.set(e);return}const l=new Ih(be(ee({},o),{autoplay:!1})),u=Hn((h=this.finishedTime)!=null?h:this.time);n.setWithVelocity(l.sample(u-og).value,l.sample(u).value,og),l.stop()}}const ag=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url("));function xb(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Sb(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=ag(i,e),l=ag(s,e);return!o||!l?!1:xb(t)||(n==="spring"||G1(n))&&r}function jd(t){t.duration=0,t.type}const Cb=new Set(["opacity","clipPath","filter","transform"]),Eb=gh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bb(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return Eb()&&n&&Cb.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const Tb=40;class kb extends kh{constructor(y){var w=y,{autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:h}=w,g=dn(w,["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"]);var B;super(),this.stop=()=>{var b,T;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Qt.now();const I=ee({autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:d,element:h},g),k=(h==null?void 0:h.KeyframeResolver)||Ph;this.keyframeResolver=new k(l,(b,T,P)=>this.onKeyframesResolved(b,T,I,!P),u,d,h),(B=this.keyframeResolver)==null||B.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:h}=r;this.resolvedAt=Qt.now(),Sb(e,s,o,l)||((fr.instantAnimations||!u)&&(h==null||h(Th(e,r,n))),e[0]=e[e.length-1],jd(r),r.repeat=0);const g=i?this.resolvedAt?this.resolvedAt-this.createdAt>Tb?this.resolvedAt:this.createdAt:this.createdAt:void 0,y=be(ee({startTime:g,finalKeyframe:n},r),{keyframes:e}),w=!d&&bb(y)?new wb(be(ee({},y),{element:y.motionValue.owner.current})):new Ih(y);w.finished.then(()=>this.notifyFinished()).catch(_n),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),ub()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Ib=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pb(t){const e=Ib.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function Q1(t,e,n=1){const[r,i]=Pb(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return y1(o)?parseFloat(o):o}return xh(i)?Q1(i,e,n+1):i}function Nh(t,e){var n,r;return(r=(n=t==null?void 0:t[e])!=null?n:t==null?void 0:t.default)!=null?r:t}const q1=new Set(["width","height","top","left","right","bottom",...Is]),Nb={test:t=>t==="auto",parse:t=>t},X1=t=>e=>e.test(t),Z1=[ks,ve,Kn,xr,xE,wE,Nb],lg=t=>Z1.find(X1(t));function Db(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_1(t):!0}const Ab=new Set(["brightness","contrast","saturate","opacity"]);function Rb(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Sh)||[];if(!r)return t;const i=n.replace(r,"");let s=Ab.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Mb=/\b([a-z-]*)\(.*?\)/gu,Fd=be(ee({},Wr),{getAnimatableNone:t=>{const e=t.match(Mb);return e?e.map(Rb).join(" "):t}}),ug=be(ee({},ks),{transform:Math.round}),Ob={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:Fa,scaleX:Fa,scaleY:Fa,scaleZ:Fa,skew:xr,skewX:xr,skewY:xr,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:zo,originX:qm,originY:qm,originZ:ve},Dh=be(ee({borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve},Ob),{zIndex:ug,fillOpacity:zo,strokeOpacity:zo,numOctaves:ug}),Lb=be(ee({},Dh),{color:ht,backgroundColor:ht,outlineColor:ht,fill:ht,stroke:ht,borderColor:ht,borderTopColor:ht,borderRightColor:ht,borderBottomColor:ht,borderLeftColor:ht,filter:Fd,WebkitFilter:Fd}),J1=t=>Lb[t];function e_(t,e){let n=J1(t);return n!==Fd&&(n=Wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jb=new Set(["auto","none","0"]);function Fb(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!jb.has(s)&&Wo(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=e_(n,i)}class Bb extends Ph{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),xh(d))){const h=Q1(d,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!q1.has(r)||e.length!==2)return;const[i,s]=e,o=lg(i),l=lg(s);if(o!==l)if(ig(o)&&ig(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else di[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Db(e[i]))&&r.push(i);r.length&&Fb(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=di[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=di[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function Vb(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;e&&(i=e.current);const s=(r=n==null?void 0:n[t])!=null?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const t_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function n_(t){return v1(t)&&"offsetHeight"in t}const cg=30,Ub=t=>!isNaN(parseFloat(t));class zb{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Qt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ub(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yh);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>cg)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cg);return w1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ms(t,e){return new zb(t,e)}const{schedule:Ah,cancel:a3}=D1(queueMicrotask,!1),bn={x:!1,y:!1};function r_(){return bn.x||bn.y}function Wb(t){return t==="x"||t==="y"?bn[t]?null:(bn[t]=!0,()=>{bn[t]=!1}):bn.x||bn.y?null:(bn.x=bn.y=!0,()=>{bn.x=bn.y=!1})}function i_(t,e){const n=Vb(t),r=new AbortController,i=be(ee({passive:!0},e),{signal:r.signal});return[n,i,()=>r.abort()]}function dg(t){return!(t.pointerType==="touch"||r_())}function Hb(t,e,n={}){const[r,i,s]=i_(t,n),o=l=>{if(!dg(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const h=g=>{dg(g)&&(d(g),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const s_=(t,e)=>e?t===e?!0:s_(t,e.parentElement):!1,Rh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$b=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kb(t){return $b.has(t.tagName)||t.tabIndex!==-1}const nl=new WeakSet;function fg(t){return e=>{e.key==="Enter"&&t(e)}}function uc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Gb=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=fg(()=>{if(nl.has(n))return;uc(n,"down");const i=fg(()=>{uc(n,"up")}),s=()=>uc(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function hg(t){return Rh(t)&&!r_()}function Yb(t,e,n={}){const[r,i,s]=i_(t,n),o=l=>{const u=l.currentTarget;if(!hg(l))return;nl.add(u);const d=e(u,l),h=(w,I)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),nl.has(u)&&nl.delete(u),hg(w)&&typeof d=="function"&&d(w,{success:I})},g=w=>{h(w,u===window||u===document||n.useGlobalTarget||s_(u,w.target))},y=w=>{h(w,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",y,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),n_(l)&&(l.addEventListener("focus",d=>Gb(d,i)),!Kb(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function o_(t){return v1(t)&&"ownerSVGElement"in t}function Qb(t){return o_(t)&&t.tagName==="svg"}const jt=t=>!!(t&&t.getVelocity),qb=[...Z1,ht,Wr],Xb=t=>qb.find(X1(t)),Mh=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Zb extends Q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=n_(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Jb({children:t,isPresent:e,anchorX:n,root:r}){const i=Q.useId(),s=Q.useRef(null),o=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=Q.useContext(Mh);return Q.useInsertionEffect(()=>{const{width:u,height:d,top:h,left:g,right:y}=o.current;if(e||!s.current||!u||!d)return;const w=n==="left"?`left: ${g}`:`right: ${y}`;s.current.dataset.motionPopId=i;const I=document.createElement("style");l&&(I.nonce=l);const k=r!=null?r:document.head;return k.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${h}px !important;
          }
        `),()=>{k.contains(I)&&k.removeChild(I)}},[e]),M.jsx(Zb,{isPresent:e,childRef:s,sizeRef:o,children:Q.cloneElement(t,{ref:s})})}const eT=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l,root:u})=>{const d=dh(tT),h=Q.useId();let g=!0,y=Q.useMemo(()=>(g=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:w=>{d.set(w,!0);for(const I of d.values())if(!I)return;r&&r()},register:w=>(d.set(w,!1),()=>d.delete(w))}),[n,d,r]);return s&&g&&(y=ee({},y)),Q.useMemo(()=>{d.forEach((w,I)=>d.set(I,!1))},[n]),Q.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=M.jsx(Jb,{isPresent:n,anchorX:l,root:u,children:t})),M.jsx(hu.Provider,{value:y,children:t})};function tT(){return new Map}function a_(t=!0){const e=Q.useContext(hu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=Q.useId();Q.useEffect(()=>{if(t)return i(s)},[t]);const o=Q.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Ba=t=>t.key||"";function pg(t){const e=[];return Q.Children.forEach(t,n=>{Q.isValidElement(n)&&e.push(n)}),e}const Oh=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:u})=>{const[d,h]=a_(o),g=Q.useMemo(()=>pg(t),[t]),y=o&&!d?[]:g.map(Ba),w=Q.useRef(!0),I=Q.useRef(g),k=dh(()=>new Map),[B,b]=Q.useState(g),[T,P]=Q.useState(g);g1(()=>{w.current=!1,I.current=g;for(let H=0;H<T.length;H++){const K=Ba(T[H]);y.includes(K)?k.delete(K):k.get(K)!==!0&&k.set(K,!1)}},[T,y.length,y.join("-")]);const L=[];if(g!==B){let H=[...g];for(let K=0;K<T.length;K++){const Y=T[K],me=Ba(Y);y.includes(me)||(H.splice(K,0,Y),L.push(Y))}return s==="wait"&&L.length&&(H=L),P(pg(H)),b(g),null}const{forceRender:F}=Q.useContext(ch);return M.jsx(M.Fragment,{children:T.map(H=>{const K=Ba(H),Y=o&&!d?!1:g===T||y.includes(K),me=()=>{if(k.has(K))k.set(K,!0);else return;let ue=!0;k.forEach(ze=>{ze||(ue=!1)}),ue&&(F==null||F(),P(I.current),o&&(h==null||h()),r&&r())};return M.jsx(eT,{isPresent:Y,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:Y?void 0:me,anchorX:l,children:H},K)})})},l_=Q.createContext({strict:!1}),mg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gs={};for(const t in mg)gs[t]={isEnabled:e=>mg[t].some(n=>!!e[n])};function nT(t){for(const e in t)gs[e]=ee(ee({},gs[e]),t[e])}const rT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Al(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rT.has(t)}let u_=t=>!Al(t);function iT(t){typeof t=="function"&&(u_=e=>e.startsWith("on")?!Al(e):t(e))}try{iT(require("@emotion/is-prop-valid").default)}catch(t){}function sT(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(u_(i)||n===!0&&Al(i)||!e&&!Al(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const pu=Q.createContext({});function mu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ho(t){return typeof t=="string"||Array.isArray(t)}const Lh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jh=["initial",...Lh];function gu(t){return mu(t.animate)||jh.some(e=>Ho(t[e]))}function c_(t){return!!(gu(t)||t.variants)}function oT(t,e){if(gu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ho(n)?n:void 0,animate:Ho(r)?r:void 0}}return t.inherit!==!1?e:{}}function aT(t){const{initial:e,animate:n}=oT(t,Q.useContext(pu));return Q.useMemo(()=>({initial:e,animate:n}),[gg(e),gg(n)])}function gg(t){return Array.isArray(t)?t.join(" "):t}const $o={};function lT(t){for(const e in t)$o[e]=t[e],wh(e)&&($o[e].isCSSVariable=!0)}function d_(t,{layout:e,layoutId:n}){return Ps.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$o[t]||t==="opacity")}const uT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cT=Is.length;function dT(t,e,n){let r="",i=!0;for(let s=0;s<cT;s++){const o=Is[s],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=t_(l,Dh[o]);if(!u){i=!1;const h=uT[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Fh(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(Ps.has(u)){o=!0;continue}else if(wh(u)){i[u]=d;continue}else{const h=t_(d,Dh[u]);u.startsWith("origin")?(l=!0,s[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=dT(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${d} ${h}`}}const Bh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function f_(t,e,n){for(const r in e)!jt(e[r])&&!d_(r,n)&&(t[r]=e[r])}function fT({transformTemplate:t},e){return Q.useMemo(()=>{const n=Bh();return Fh(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hT(t,e){const n=t.style||{},r={};return f_(r,n,t),Object.assign(r,fT(t,e)),r}function pT(t,e){const n={},r=hT(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mT={offset:"stroke-dashoffset",array:"stroke-dasharray"},gT={offset:"strokeDashoffset",array:"strokeDasharray"};function yT(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?mT:gT;t[s.offset]=ve.transform(-r);const o=ve.transform(e),l=ve.transform(n);t[s.array]=`${o} ${l}`}function h_(t,g,u,d,h){var y=g,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0}=y,l=dn(y,["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"]);var k,B;if(Fh(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:I}=t;w.transform&&(I.transform=w.transform,delete w.transform),(I.transform||w.transformOrigin)&&(I.transformOrigin=(k=w.transformOrigin)!=null?k:"50% 50%",delete w.transformOrigin),I.transform&&(I.transformBox=(B=h==null?void 0:h.transformBox)!=null?B:"fill-box",delete w.transformBox),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),i!==void 0&&yT(w,i,s,o,!1)}const p_=()=>be(ee({},Bh()),{attrs:{}}),m_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vT(t,e,n,r){const i=Q.useMemo(()=>{const s=p_();return h_(s,e,m_(r),t.transformTemplate,t.style),be(ee({},s.attrs),{style:ee({},s.style)})},[e]);if(t.style){const s={};f_(s,t.style,t),i.style=ee(ee({},s),i.style)}return i}const _T=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vh(t){return typeof t!="string"||t.includes("-")?!1:!!(_T.indexOf(t)>-1||/[A-Z]/u.test(t))}function wT(t,e,n,{latestValues:r},i,s=!1){const l=(Vh(t)?vT:pT)(e,r,i,t),u=sT(e,typeof t=="string",s),d=t!==Q.Fragment?be(ee(ee({},u),l),{ref:n}):{},{children:h}=e,g=Q.useMemo(()=>jt(h)?h.get():h,[h]);return Q.createElement(t,be(ee({},d),{children:g}))}function yg(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Uh(t,e,n,r){if(typeof e=="function"){const[i,s]=yg(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=yg(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function rl(t){return jt(t)?t.get():t}function xT({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:ST(n,r,i,t),renderState:e()}}function ST(t,e,n,r){const i={},s=r(t,{});for(const w in s)i[w]=rl(s[w]);let{initial:o,animate:l}=t;const u=gu(t),d=c_(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const g=h?l:o;if(g&&typeof g!="boolean"&&!mu(g)){const w=Array.isArray(g)?g:[g];for(let I=0;I<w.length;I++){const k=Uh(t,w[I]);if(k){const y=k,{transitionEnd:B,transition:b}=y,T=dn(y,["transitionEnd","transition"]);for(const P in T){let L=T[P];if(Array.isArray(L)){const F=h?L.length-1:0;L=L[F]}L!==null&&(i[P]=L)}for(const P in B)i[P]=B[P]}}}return i}const g_=t=>(e,n)=>{const r=Q.useContext(pu),i=Q.useContext(hu),s=()=>xT(t,e,r,i);return n?s():dh(s)};function zh(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(jt(r[o])||e.style&&jt(e.style[o])||d_(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const CT=g_({scrapeMotionValuesFromProps:zh,createRenderState:Bh});function y_(t,e,n){const r=zh(t,e,n);for(const i in t)if(jt(t[i])||jt(e[i])){const s=Is.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const ET=g_({scrapeMotionValuesFromProps:y_,createRenderState:p_}),bT=Symbol.for("motionComponentSymbol");function $i(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TT(t,e,n){return Q.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$i(n)&&(n.current=r))},[e])}const Wh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kT="framerAppearId",v_="data-"+Wh(kT),__=Q.createContext({});function IT(t,e,n,r,i){var k,B;const{visualElement:s}=Q.useContext(pu),o=Q.useContext(l_),l=Q.useContext(hu),u=Q.useContext(Mh).reducedMotion,d=Q.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,g=Q.useContext(__);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&PT(d.current,n,i,g);const y=Q.useRef(!1);Q.useInsertionEffect(()=>{h&&y.current&&h.update(n,l)});const w=n[v_],I=Q.useRef(!!w&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,w))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,w)));return g1(()=>{h&&(y.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),I.current&&h.animationState&&h.animationState.animateChanges())}),Q.useEffect(()=>{h&&(!I.current&&h.animationState&&h.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,w)}),I.current=!1),h.enteringChildren=void 0)}),h}function PT(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:w_(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&$i(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:d})}function w_(t){if(t)return t.options.allowProjection!==!1?t.projection:w_(t.parent)}function cc(t,{forwardMotionProps:e=!1}={},n,r){var l,u;n&&nT(n);const i=Vh(t)?ET:CT;function s(d,h){let g;const y=be(ee(ee({},Q.useContext(Mh)),d),{layoutId:NT(d)}),{isStatic:w}=y,I=aT(d),k=i(d,w);if(!w&&fh){DT();const B=AT(y);g=B.MeasureLayout,I.visualElement=IT(t,k,y,r,B.ProjectionNode)}return M.jsxs(pu.Provider,{value:I,children:[g&&I.visualElement?M.jsx(g,ee({visualElement:I.visualElement},y)):null,wT(t,d,TT(k,I.visualElement,h),k,w,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${(u=(l=t.displayName)!=null?l:t.name)!=null?u:""})`}`;const o=Q.forwardRef(s);return o[bT]=t,o}function NT({layoutId:t}){const e=Q.useContext(ch).id;return e&&t!==void 0?e+"-"+t:t}function DT(t,e){Q.useContext(l_).strict}function AT(t){const{drag:e,layout:n}=gs;if(!e&&!n)return{};const r=ee(ee({},e),n);return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function RT(t,e){if(typeof Proxy=="undefined")return cc;const n=new Map,r=(s,o)=>cc(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,cc(o,void 0,t,e)),n.get(o))})}function x_({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function MT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OT(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dc(t){return t===void 0||t===1}function Bd({scale:t,scaleX:e,scaleY:n}){return!dc(t)||!dc(e)||!dc(n)}function Jr(t){return Bd(t)||S_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S_(t){return vg(t.x)||vg(t.y)}function vg(t){return t&&t!=="0%"}function Rl(t,e,n){const r=t-n,i=e*r;return n+i}function _g(t,e,n,r,i){return i!==void 0&&(t=Rl(t,i,r)),Rl(t,n,r)+e}function Vd(t,e=0,n=1,r,i){t.min=_g(t.min,e,n,r,i),t.max=_g(t.max,e,n,r,i)}function C_(t,{x:e,y:n}){Vd(t.x,e.translate,e.scale,e.originPoint),Vd(t.y,n.translate,n.scale,n.originPoint)}const wg=.999999999999,xg=1.0000000000001;function LT(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gi(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,C_(t,o)),r&&Jr(s.latestValues)&&Gi(t,s.latestValues))}e.x<xg&&e.x>wg&&(e.x=1),e.y<xg&&e.y>wg&&(e.y=1)}function Ki(t,e){t.min=t.min+e,t.max=t.max+e}function Sg(t,e,n,r,i=.5){const s=et(t.min,t.max,i);Vd(t,e,n,s,r)}function Gi(t,e){Sg(t.x,e.x,e.scaleX,e.scale,e.originX),Sg(t.y,e.y,e.scaleY,e.scale,e.originY)}function E_(t,e){return x_(OT(t.getBoundingClientRect(),e))}function jT(t,e,n){const r=E_(t,n),{scroll:i}=e;return i&&(Ki(r.x,i.offset.x),Ki(r.y,i.offset.y)),r}const Cg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yi=()=>({x:Cg(),y:Cg()}),Eg=()=>({min:0,max:0}),ut=()=>({x:Eg(),y:Eg()}),Ud={current:null},b_={current:!1};function FT(){if(b_.current=!0,!!fh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ud.current=t.matches;t.addEventListener("change",e),e()}else Ud.current=!1}const BT=new WeakMap;function VT(t,e,n){for(const r in e){const i=e[r],s=n[r];if(jt(i))t.addValue(r,i);else if(jt(s))t.addValue(r,ms(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ms(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const bg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UT{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ph,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Qt.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ze.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget=ee({},u),this.initialValues=n.initial?ee({},u):{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=gu(n),this.isVariantNode=c_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const y=this.scrapeMotionValuesFromProps(n,{},this),{willChange:h}=y,g=dn(y,["willChange"]);for(const w in g){const I=g[w];u[w]!==void 0&&jt(I)&&I.set(u[w])}}mount(e){var n;this.current=e,BT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),b_.current||FT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ud.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zr(this.notifyUpdate),zr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){var n;this.children.add(e),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ps.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in gs){const n=gs[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bg.length;r++){const i=bg[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=VT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ms(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!=null?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(y1(r)||_1(r))?r=parseFloat(r):!Xb(r)&&Wr.test(n)&&(r=e_(e,n)),this.setBaseTarget(e,jt(r)?r.get():r)),jt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Uh(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!jt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yh),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ah.render(this.render)}}class T_ extends UT{constructor(){super(...arguments),this.KeyframeResolver=Bb}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function k_(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function zT(t){return window.getComputedStyle(t)}class WT extends T_{constructor(){super(...arguments),this.type="html",this.renderInstance=k_}readValueFromInstance(e,n){var r;if(Ps.has(n))return(r=this.projection)!=null&&r.isProjecting?Ad(n):ib(e,n);{const i=zT(e),s=(wh(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return E_(e,n)}build(e,n,r){Fh(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return zh(e,n,r)}}const I_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HT(t,e,n,r){k_(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(I_.has(i)?i:Wh(i),e.attrs[i])}class $T extends T_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ps.has(n)){const r=J1(n);return r&&r.default||0}return n=I_.has(n)?n:Wh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return y_(e,n,r)}build(e,n,r){h_(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){HT(e,n,r,i)}mount(e){this.isSVGTag=m_(e.tagName),super.mount(e)}}const KT=(t,e)=>Vh(t)?new $T(e):new WT(e,{allowProjection:t!==Q.Fragment});function ns(t,e,n){const r=t.getProps();return Uh(r,e,n!==void 0?n:r.custom,t)}const zd=t=>Array.isArray(t);function GT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ms(n))}function YT(t){return zd(t)?t[t.length-1]||0:t}function QT(t,e){let o=ns(t,e)||{},{transitionEnd:r={},transition:i={}}=o,s=dn(o,["transitionEnd","transition"]);s=ee(ee({},s),r);for(const l in s){const u=YT(s[l]);GT(t,l,u)}}function qT(t){return!!(jt(t)&&t.add)}function Wd(t,e){const n=t.getValue("willChange");if(qT(n))return n.add(e);if(!n&&fr.WillChange){const r=new fr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function P_(t){return t.props[v_]}const XT=t=>t!==null;function ZT(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(XT),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const JT={type:"spring",stiffness:500,damping:25,restSpeed:10},ek=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tk={type:"keyframes",duration:.8},nk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rk=(t,{keyframes:e})=>e.length>2?tk:Ps.has(t)?t.startsWith("scale")?ek(e[1]):JT:nk;function ik(g){var y=g,{when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:d}=y,h=dn(y,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(h).length}const Hh=(t,e,n,r={},i,s)=>o=>{const l=Nh(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Hn(u);const h=be(ee({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity()},l),{delay:-d,onUpdate:y=>{e.set(y),l.onUpdate&&l.onUpdate(y)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i});ik(l)||Object.assign(h,rk(t,h)),h.duration&&(h.duration=Hn(h.duration)),h.repeatDelay&&(h.repeatDelay=Hn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(jd(h),h.delay===0&&(g=!0)),(fr.instantAnimations||fr.skipAnimations)&&(g=!0,jd(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,g&&!s&&e.get()!==void 0){const y=ZT(h.keyframes,l);if(y!==void 0){Ze.update(()=>{h.onUpdate(y),h.onComplete()});return}}return l.isSync?new Ih(h):new kb(h)};function sk({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function N_(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var g;let h=e,{transition:s=t.getDefaultTransition(),transitionEnd:o}=h,l=dn(h,["transition","transitionEnd"]);r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const y in l){const w=t.getValue(y,(g=t.latestValues[y])!=null?g:null),I=l[y];if(I===void 0||d&&sk(d,y))continue;const k=ee({delay:n},Nh(s||{},y)),B=w.get();if(B!==void 0&&!w.isAnimating&&!Array.isArray(I)&&I===B&&!k.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const P=P_(t);if(P){const L=window.MotionHandoffAnimation(P,y,Ze);L!==null&&(k.startTime=L,b=!0)}}Wd(t,y),w.start(Hh(y,w,I,t.shouldReduceMotion&&q1.has(y)?{type:!1}:k,t,b));const T=w.animation;T&&u.push(T)}return o&&Promise.all(u).then(()=>{Ze.update(()=>{o&&QT(t,o)})}),u}function D_(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:l-s*r}function Hd(t,e,n={}){var u;const r=ns(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(N_(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:y}=i;return ok(t,e,d,h,g,y,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,h]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function ok(t,e,n=0,r=0,i=0,s=1,o){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(Hd(u,e,be(ee({},o),{delay:n+(typeof r=="function"?0:r)+D_(t.variantChildren,u,r,i,s)})).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function ak(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Hd(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Hd(t,e,n);else{const i=typeof e=="function"?ns(t,e,n.custom):e;r=Promise.all(N_(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function A_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const lk=jh.length;function R_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?R_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lk;n++){const r=jh[n],i=t.props[r];(Ho(i)||i===!1)&&(e[r]=i)}return e}const uk=[...Lh].reverse(),ck=Lh.length;function dk(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ak(t,n,r)))}function fk(t){let e=dk(t),n=Tg(),r=!0;const i=u=>(d,h)=>{var y;const g=ns(t,h,u==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(g){const w=g,{transition:I,transitionEnd:k}=w,B=dn(w,["transition","transitionEnd"]);d=ee(ee(ee({},d),B),k)}return d};function s(u){e=u(t)}function o(u){const{props:d}=t,h=R_(t.parent)||{},g=[],y=new Set;let w={},I=1/0;for(let B=0;B<ck;B++){const b=uk[B],T=n[b],P=d[b]!==void 0?d[b]:h[b],L=Ho(P),F=b===u?T.isActive:null;F===!1&&(I=B);let H=P===h[b]&&P!==d[b]&&L;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),T.protectedKeys=ee({},w),!T.isActive&&F===null||!P&&!T.prevProp||mu(P)||typeof P=="boolean")continue;const K=hk(T.prevProp,P);let Y=K||b===u&&T.isActive&&!H&&L||B>I&&L,me=!1;const ue=Array.isArray(P)?P:[P];let ze=ue.reduce(i(b),{});F===!1&&(ze={});const{prevResolvedValues:mt={}}=T,ln=ee(ee({},mt),ze),Ln=Ye=>{Y=!0,y.has(Ye)&&(me=!0,y.delete(Ye)),T.needsAnimating[Ye]=!0;const re=t.getValue(Ye);re&&(re.liveStyle=!1)};for(const Ye in ln){const re=ze[Ye],pe=mt[Ye];if(w.hasOwnProperty(Ye))continue;let ge=!1;zd(re)&&zd(pe)?ge=!A_(re,pe):ge=re!==pe,ge?re!=null?Ln(Ye):y.add(Ye):re!==void 0&&y.has(Ye)?Ln(Ye):T.protectedKeys[Ye]=!0}T.prevProp=P,T.prevResolvedValues=ze,T.isActive&&(w=ee(ee({},w),ze)),r&&t.blockInitialAnimation&&(Y=!1);const Yn=H&&K;Y&&(!Yn||me)&&g.push(...ue.map(Ye=>{const re={type:b};if(typeof Ye=="string"&&r&&!Yn&&t.manuallyAnimateOnMount&&t.parent){const{parent:pe}=t,ge=ns(pe,Ye);if(pe.enteringChildren&&ge){const{delayChildren:fe}=ge.transition||{};re.delay=D_(pe.enteringChildren,t,fe)}}return{animation:Ye,options:re}}))}if(y.size){const B={};if(typeof d.initial!="boolean"){const b=ns(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(B.transition=b.transition)}y.forEach(b=>{const T=t.getBaseTarget(b),P=t.getValue(b);P&&(P.liveStyle=!0),B[b]=T!=null?T:null}),g.push({animation:B})}let k=!!g.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(g):Promise.resolve()}function l(u,d){var g;if(n[u].isActive===d)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(y=>{var w;return(w=y.animationState)==null?void 0:w.setActive(u,d)}),n[u].isActive=d;const h=o(u);for(const y in n)n[y].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Tg(),r=!0}}}function hk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!A_(e,t):!1}function qr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tg(){return{animate:qr(!0),whileInView:qr(),whileHover:qr(),whileTap:qr(),whileDrag:qr(),whileFocus:qr(),exit:qr()}}class Qr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pk extends Qr{constructor(e){super(e),e.animationState||(e.animationState=fk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mk=0;class gk extends Qr{constructor(){super(...arguments),this.id=mk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yk={animation:{Feature:pk},exit:{Feature:gk}};function Ko(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function fa(t){return{point:{x:t.pageX,y:t.pageY}}}const vk=t=>e=>Rh(e)&&t(e,fa(e));function go(t,e,n,r){return Ko(t,e,vk(n),r)}const M_=1e-4,_k=1-M_,wk=1+M_,O_=.01,xk=0-O_,Sk=0+O_;function Ut(t){return t.max-t.min}function Ck(t,e,n){return Math.abs(t-e)<=n}function kg(t,e,n,r=.5){t.origin=r,t.originPoint=et(e.min,e.max,t.origin),t.scale=Ut(n)/Ut(e),t.translate=et(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_k&&t.scale<=wk||isNaN(t.scale))&&(t.scale=1),(t.translate>=xk&&t.translate<=Sk||isNaN(t.translate))&&(t.translate=0)}function yo(t,e,n,r){kg(t.x,e.x,n.x,r?r.originX:void 0),kg(t.y,e.y,n.y,r?r.originY:void 0)}function Ig(t,e,n){t.min=n.min+e.min,t.max=t.min+Ut(e)}function Ek(t,e,n){Ig(t.x,e.x,n.x),Ig(t.y,e.y,n.y)}function Pg(t,e,n){t.min=e.min-n.min,t.max=t.min+Ut(e)}function vo(t,e,n){Pg(t.x,e.x,n.x),Pg(t.y,e.y,n.y)}function hn(t){return[t("x"),t("y")]}const L_=({current:t})=>t?t.ownerDocument.defaultView:null,Ng=(t,e)=>Math.abs(t-e);function bk(t,e){const n=Ng(t.x,e.x),r=Ng(t.y,e.y);return Math.sqrt(Du(n,2)+Du(r,2))}class j_{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=hc(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,I=bk(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!I)return;const{point:k}=y,{timestamp:B}=It;this.history.push(be(ee({},k),{timestamp:B}));const{onStart:b,onMove:T}=this.handlers;w||(b&&b(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=fc(w,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:I,onSessionEnd:k,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=hc(y.type==="pointercancel"?this.lastMoveEventInfo:fc(w,this.transformPagePoint),this.history);this.startEvent&&I&&I(y,b),k&&k(y,b)},!Rh(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=fa(e),u=fc(l,this.transformPagePoint),{point:d}=u,{timestamp:h}=It;this.history=[be(ee({},d),{timestamp:h})];const{onSessionStart:g}=n;g&&g(e,hc(u,this.history)),this.removeListeners=ua(go(this.contextWindow,"pointermove",this.handlePointerMove),go(this.contextWindow,"pointerup",this.handlePointerUp),go(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zr(this.updatePoint)}}function fc(t,e){return e?{point:e(t.point)}:t}function Dg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hc({point:t},e){return{point:t,delta:Dg(t,F_(e)),offset:Dg(t,Tk(e)),velocity:kk(e,.1)}}function Tk(t){return t[0]}function F_(t){return t[t.length-1]}function kk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=F_(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Hn(e)));)n--;if(!r)return{x:0,y:0};const s=$n(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ik(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?et(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?et(n,t,r.max):Math.min(t,n)),t}function Ag(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Pk(t,{top:e,left:n,bottom:r,right:i}){return{x:Ag(t.x,n,i),y:Ag(t.y,e,r)}}function Rg(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Nk(t,e){return{x:Rg(t.x,e.x),y:Rg(t.y,e.y)}}function Dk(t,e){let n=.5;const r=Ut(t),i=Ut(e);return i>r?n=Uo(e.min,e.max-r,t.min):r>i&&(n=Uo(t.min,t.max-i,e.min)),dr(0,1,n)}function Ak(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $d=.35;function Rk(t=$d){return t===!1?t=0:t===!0&&(t=$d),{x:Mg(t,"left","right"),y:Mg(t,"top","bottom")}}function Mg(t,e,n){return{min:Og(t,e),max:Og(t,n)}}function Og(t,e){return typeof t=="number"?t:t[e]||0}const Mk=new WeakMap;class Ok{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fa(g).point)},o=(g,y)=>{const{drag:w,dragPropagation:I,onDragStart:k}=this.getProps();if(w&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Wb(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(b=>{let T=this.getAxisMotionValue(b).get()||0;if(Kn.test(T)){const{projection:P}=this.visualElement;if(P&&P.layout){const L=P.layout.layoutBox[b];L&&(T=Ut(L)*(parseFloat(T)/100))}}this.originPoint[b]=T}),k&&Ze.postRender(()=>k(g,y)),Wd(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},l=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:w,dragDirectionLock:I,onDirectionLock:k,onDrag:B}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:b}=y;if(I&&this.currentDirection===null){this.currentDirection=Lk(b),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",y.point,b),this.updateAxis("y",y.point,b),this.visualElement.render(),B&&B(g,y)},u=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>hn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new j_(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:L_(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ze.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Va(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Ik(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&$i(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Pk(r.layoutBox,e):this.constraints=!1,this.elastic=Rk(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ak(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$i(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jT(r,i.root,this.visualElement.getTransformPagePoint());let o=Nk(i.layout.layoutBox,s);if(n){const l=n(MT(o));this.hasMutatedConstraints=!!l,l&&(o=x_(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=hn(h=>{if(!Va(h,n,this.currentDirection))return;let g=u&&u[h]||{};o&&(g={min:0,max:0});const y=i?200:1e6,w=i?40:1e7,I=ee(ee({type:"inertia",velocity:r?e[h]:0,bounceStiffness:y,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10},s),g);return this.startAxisValueAnimation(h,I)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Wd(this.visualElement,e),r.start(Hh(e,r,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:r}=this.getProps();if(!Va(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-et(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$i(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();i[o]=Dk({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hn(o=>{if(!Va(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(et(u,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Mk.set(this.visualElement,this);const e=this.visualElement.current,n=go(e,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();$i(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ze.read(r);const o=Ko(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(hn(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=u[h].translate,g.set(g.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=$d,dragMomentum:l=!0}=e;return be(ee({},e),{drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l})}}function Va(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Lk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class jk extends Qr{constructor(e){super(e),this.removeGroupControls=_n,this.removeListeners=_n,this.controls=new Ok(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_n}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lg=t=>(e,n)=>{t&&Ze.postRender(()=>t(e,n))};class Fk extends Qr{constructor(){super(...arguments),this.removePointerDownListener=_n}onPointerDown(e){this.session=new j_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:L_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lg(e),onStart:Lg(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ze.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=go(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const il={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $s={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=jg(t,e.target.x),r=jg(t,e.target.y);return`${n}% ${r}%`}},Bk={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Wr.parse(t);if(i.length>5)return r;const s=Wr.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=u;const d=et(l,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let pc=!1;class Vk extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;lT(Uk),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),pc&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(be(ee({},s.options),{onExitComplete:()=>this.safeToRemove()}))),il.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,pc=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ze.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ah.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;pc=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B_(t){const[e,n]=a_(),r=Q.useContext(ch);return M.jsx(Vk,be(ee({},t),{layoutGroup:r,switchLayoutGroup:Q.useContext(__),isPresent:e,safeToRemove:n}))}const Uk={borderRadius:be(ee({},$s),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:$s,borderTopRightRadius:$s,borderBottomLeftRadius:$s,borderBottomRightRadius:$s,boxShadow:Bk};function zk(t,e,n){const r=jt(t)?t:ms(t);return r.start(Hh("",r,e,n)),r.animation}const Wk=(t,e)=>t.depth-e.depth;class Hk{constructor(){this.children=[],this.isDirty=!1}add(e){hh(this.children,e),this.isDirty=!0}remove(e){ph(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wk),this.isDirty=!1,this.children.forEach(e)}}function $k(t,e){const n=Qt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(zr(r),t(s-e))};return Ze.setup(r,!0),()=>zr(r)}const V_=["TopLeft","TopRight","BottomLeft","BottomRight"],Kk=V_.length,Fg=t=>typeof t=="string"?parseFloat(t):t,Bg=t=>typeof t=="number"||ve.test(t);function Gk(t,e,n,r,i,s){var o,l,u,d;i?(t.opacity=et(0,(o=n.opacity)!=null?o:1,Yk(r)),t.opacityExit=et((l=e.opacity)!=null?l:1,0,Qk(r))):s&&(t.opacity=et((u=e.opacity)!=null?u:1,(d=n.opacity)!=null?d:1,r));for(let h=0;h<Kk;h++){const g=`border${V_[h]}Radius`;let y=Vg(e,g),w=Vg(n,g);if(y===void 0&&w===void 0)continue;y||(y=0),w||(w=0),y===0||w===0||Bg(y)===Bg(w)?(t[g]=Math.max(et(Fg(y),Fg(w),r),0),(Kn.test(w)||Kn.test(y))&&(t[g]+="%")):t[g]=w}(e.rotate||n.rotate)&&(t.rotate=et(e.rotate||0,n.rotate||0,r))}function Vg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Yk=U_(0,.5,k1),Qk=U_(.5,.95,_n);function U_(t,e,n){return r=>r<t?0:r>e?1:n(Uo(t,e,r))}function Ug(t,e){t.min=e.min,t.max=e.max}function fn(t,e){Ug(t.x,e.x),Ug(t.y,e.y)}function zg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Wg(t,e,n,r,i){return t-=e,t=Rl(t,1/n,r),i!==void 0&&(t=Rl(t,1/i,r)),t}function qk(t,e=0,n=1,r=.5,i,s=t,o=t){if(Kn.test(e)&&(e=parseFloat(e),e=et(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=et(s.min,s.max,r);t===s&&(l-=e),t.min=Wg(t.min,e,n,l,i),t.max=Wg(t.max,e,n,l,i)}function Hg(t,e,[n,r,i],s,o){qk(t,e[n],e[r],e[i],e.scale,s,o)}const Xk=["x","scaleX","originX"],Zk=["y","scaleY","originY"];function $g(t,e,n,r){Hg(t.x,e,Xk,n?n.x:void 0,r?r.x:void 0),Hg(t.y,e,Zk,n?n.y:void 0,r?r.y:void 0)}function Kg(t){return t.translate===0&&t.scale===1}function z_(t){return Kg(t.x)&&Kg(t.y)}function Gg(t,e){return t.min===e.min&&t.max===e.max}function Jk(t,e){return Gg(t.x,e.x)&&Gg(t.y,e.y)}function Yg(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function W_(t,e){return Yg(t.x,e.x)&&Yg(t.y,e.y)}function Qg(t){return Ut(t.x)/Ut(t.y)}function qg(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class e2{constructor(){this.members=[]}add(e){hh(this.members,e),e.scheduleRender()}remove(e){if(ph(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t2(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:g,rotateY:y,skewX:w,skewY:I}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),g&&(r+=`rotateX(${g}deg) `),y&&(r+=`rotateY(${y}deg) `),w&&(r+=`skewX(${w}deg) `),I&&(r+=`skewY(${I}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const mc=["","X","Y","Z"],n2=1e3;let r2=0;function gc(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function H_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=P_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&H_(r)}function $_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=r2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(o2),this.nodes.forEach(c2),this.nodes.forEach(d2),this.nodes.forEach(a2)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hk)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yh),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=o_(o)&&!Qb(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let h,g=0;const y=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{g=window.innerWidth}),t(o,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,h&&h(),h=$k(y,250),il.hasAnimatedSinceResize&&(il.hasAnimatedSinceResize=!1,this.nodes.forEach(Jg)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||d.getDefaultTransition()||g2,{onLayoutAnimationStart:k,onLayoutAnimationComplete:B}=d.getProps(),b=!this.targetLayout||!W_(this.targetLayout,w),T=!g&&y;if(this.options.layoutRoot||this.resumeFrom||T||g&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P=be(ee({},Nh(I,"layout")),{onPlay:k,onComplete:B});(d.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(h,T)}else g||Jg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(f2),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Zg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(u2),this.nodes.forEach(i2),this.nodes.forEach(s2)):this.nodes.forEach(Zg),this.clearAllSnapshots();const l=Qt.now();It.delta=dr(0,1e3/60,l-It.timestamp),It.timestamp=l,It.isProcessing=!0,ic.update.process(It),ic.preRender.process(It),ic.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ah.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l2),this.sharedNodes.forEach(h2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ut(this.snapshot.measuredBox.x)&&!Ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!z_(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Jr(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),y2(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return ut();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(v2))){const{scroll:h}=this.root;h&&(Ki(l.x,h.offset.x),Ki(l.y,h.offset.y))}return l}removeElementScroll(o){var u;const l=ut();if(fn(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:g,options:y}=h;h!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&fn(l,o),Ki(l.x,g.offset.x),Ki(l.y,g.offset.y))}return l}applyTransform(o,l=!1){const u=ut();fn(u,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Gi(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Jr(h.latestValues)&&Gi(u,h.latestValues)}return Jr(this.latestValues)&&Gi(u,this.latestValues),u}removeTransform(o){const l=ut();fn(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Jr(d.latestValues))continue;Bd(d.latestValues)&&d.updateSnapshot();const h=ut(),g=d.measurePageBox();fn(h,g),$g(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Jr(this.latestValues)&&$g(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options=be(ee(ee({},this.options),o),{crossfade:o.crossfade!==void 0?o.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var y;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),vo(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ek(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fn(this.target,this.layout.layoutBox),C_(this.target,this.targetDelta)):fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),vo(this.relativeTargetOrigin,this.target,w.target),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bd(this.parent.latestValues)||S_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var I;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===It.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;fn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;LT(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ut());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zg(this.prevProjectionDelta.x,this.projectionDelta.x),zg(this.prevProjectionDelta.y,this.projectionDelta.y)),yo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!qg(this.projectionDelta.x,this.prevProjectionDelta.x)||!qg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yi(),this.projectionDelta=Yi(),this.projectionDeltaWithTransform=Yi()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},h=ee({},this.latestValues),g=Yi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const y=ut(),w=u?u.source:void 0,I=this.layout?this.layout.source:void 0,k=w!==I,B=this.getStack(),b=!B||B.members.length<=1,T=!!(k&&!b&&this.options.crossfade===!0&&!this.path.some(m2));this.animationProgress=0;let P;this.mixTargetDelta=L=>{const F=L/1e3;ey(g.x,o.x,F),ey(g.y,o.y,F),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vo(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p2(this.relativeTarget,this.relativeTargetOrigin,y,F),P&&Jk(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=ut()),fn(P,this.relativeTarget)),k&&(this.animationValues=h,Gk(h,d,this.latestValues,F,T,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{il.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ms(0)),this.currentAnimation=zk(this.motionValue,[0,1e3],be(ee({},o),{velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(n2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:h}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&K_(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||ut();const g=Ut(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+g;const y=Ut(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+y}fn(l,u),Gi(l,h),yo(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new e2),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&gc("z",o,d,this.animationValues);for(let h=0;h<mc.length;h++)gc(`rotate${mc[h]}`,o,d,this.animationValues),gc(`skew${mc[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){var I,k;if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=rl(l==null?void 0:l.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=rl(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Jr(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let g=t2(this.projectionDeltaWithTransform,this.treeScale,h);u&&(g=u(h,g)),o.transform=g;const{x:y,y:w}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,d.animationValues?o.opacity=d===this?(k=(I=h.opacity)!=null?I:this.latestValues.opacity)!=null?k:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const B in $o){if(h[B]===void 0)continue;const{correct:b,applyTo:T,isCSSVariable:P}=$o[B],L=g==="none"?h[B]:b(h[B],d);if(T){const F=T.length;for(let H=0;H<F;H++)o[T[H]]=L}else P?this.options.visualElement.renderState.vars[B]=L:o[B]=L}this.options.layoutId&&(o.pointerEvents=d===this?rl(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Xg),this.root.sharedNodes.clear()}}}function i2(t){t.updateLayout()}function s2(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?hn(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],w=Ut(y);y.min=r[g].min,y.max=y.min+w}):K_(s,e.layoutBox,r)&&hn(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],w=Ut(r[g]);y.max=y.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+w)});const l=Yi();yo(l,r,e.layoutBox);const u=Yi();o?yo(u,t.applyTransform(i,!0),e.measuredBox):yo(u,r,e.layoutBox);const d=!z_(l);let h=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:w}=g;if(y&&w){const I=ut();vo(I,e.layoutBox,y.layoutBox);const k=ut();vo(k,r,w.layoutBox),W_(I,k)||(h=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=I,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function o2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function l2(t){t.clearSnapshot()}function Xg(t){t.clearMeasurements()}function Zg(t){t.isLayoutDirty=!1}function u2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function c2(t){t.resolveTargetDelta()}function d2(t){t.calcProjection()}function f2(t){t.resetSkewAndRotation()}function h2(t){t.removeLeadSnapshot()}function ey(t,e,n){t.translate=et(e.translate,0,n),t.scale=et(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ty(t,e,n,r){t.min=et(e.min,n.min,r),t.max=et(e.max,n.max,r)}function p2(t,e,n,r){ty(t.x,e.x,n.x,r),ty(t.y,e.y,n.y,r)}function m2(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const g2={duration:.45,ease:[.4,0,.1,1]},ny=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ry=ny("applewebkit/")&&!ny("chrome/")?Math.round:_n;function iy(t){t.min=ry(t.min),t.max=ry(t.max)}function y2(t){iy(t.x),iy(t.y)}function K_(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ck(Qg(e),Qg(n),.2)}function v2(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const _2=$_({attachResizeListener:(t,e)=>Ko(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yc={current:void 0},G_=$_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yc.current){const t=new _2({});t.mount(window),t.setOptions({layoutScroll:!0}),yc.current=t}return yc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w2={pan:{Feature:Fk},drag:{Feature:jk,ProjectionNode:G_,MeasureLayout:B_}};function sy(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ze.postRender(()=>s(e,fa(e)))}class x2 extends Qr{mount(){const{current:e}=this.node;e&&(this.unmount=Hb(e,(n,r)=>(sy(this.node,r,"Start"),i=>sy(this.node,i,"End"))))}unmount(){}}class S2 extends Qr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ua(Ko(this.node.current,"focus",()=>this.onFocus()),Ko(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oy(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ze.postRender(()=>s(e,fa(e)))}class C2 extends Qr{mount(){const{current:e}=this.node;e&&(this.unmount=Yb(e,(n,r)=>(oy(this.node,r,"Start"),(i,{success:s})=>oy(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kd=new WeakMap,vc=new WeakMap,E2=t=>{const e=Kd.get(t.target);e&&e(t)},b2=t=>{t.forEach(E2)};function T2(n){var r=n,{root:t}=r,e=dn(r,["root"]);const i=t||document;vc.has(i)||vc.set(i,{});const s=vc.get(i),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(b2,ee({root:t},e))),s[o]}function k2(t,e,n){const r=T2(e);return Kd.set(t,n),r.observe(t),()=>{Kd.delete(t),r.unobserve(t)}}const I2={some:0,all:1};class P2 extends Qr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:I2[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),y=d?h:g;y&&y(u)};return k2(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N2(e,n))&&this.startObserver()}unmount(){}}function N2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const D2={inView:{Feature:P2},tap:{Feature:C2},focus:{Feature:S2},hover:{Feature:x2}},A2={layout:{ProjectionNode:G_,MeasureLayout:B_}},R2=ee(ee(ee(ee({},yk),D2),w2),A2),Go=RT(R2,KT),ay=["#5398cb","#6d3231","#48af55","#0b3d42","#caccad"],ly=["/family-hub/watermarks/Bowl.svg","/family-hub/watermarks/Cheese.svg","/family-hub/watermarks/Lemons.svg","/family-hub/watermarks/Lettuce.svg","/family-hub/watermarks/Strawberries.svg"];function M2({isOpen:t,onClose:e,onSave:n,currentItems:r=[]}){const[i,s]=Q.useState(""),[o,l]=Q.useState(!1);if(!t)return null;function u(d){d.preventDefault();const h=i.trim();if(!h)return;const g=r;let y=g.length>0?g[0].special:!1,w=0;for(let T=0;T<Math.min(5,g.length)&&!g[T].special;T++)w++;let I=!1;y?I=!1:w>=5?I=!0:I=Math.random()<.25;let k=null,B=null;I&&(k=ay[Math.floor(Math.random()*ay.length)],B=ly[Math.floor(Math.random()*ly.length)],console.log("AddGroceryModal: Assigning pattern:",B,"to special item"));const b={id:Date.now(),name:h,text:h,addedAt:Date.now(),done:!1,checked:!1,special:I,bgColor:k,bgPattern:B};n==null||n(b),e(),s("")}return M.jsx(M.Fragment,{children:M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md border",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-lg font-bold",children:"Add a New Grocery Item"}),M.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),M.jsxs("form",{className:"space-y-4",onSubmit:u,children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item"}),M.jsx("input",{type:"text",className:"w-full border rounded p-2",placeholder:"e.g. Bananas",value:i,onChange:d=>s(d.target.value),onFocus:()=>l(!0)}),M.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Keyboard: ",o?"ON":"OFF"]})]}),M.jsxs("div",{className:"flex justify-between mt-6",children:[M.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:e,children:"Cancel"}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})})})}var O2={exports:{}};/*!
 * 
 *   react-simple-keyboard v3.8.107
 *   https://github.com/hodgef/react-simple-keyboard
 *
 *   Copyright (c) Francisco Hodge (https://github.com/hodgef) and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */(function(t,e){(function(n,r){t.exports=r(Q)})(Ex,function(n){return function(){var r={442:function(l){l.exports=n},548:function(l){l.exports=function(){var u={34:function(v,x,a){var c=a(4901);v.exports=function(f){return typeof f=="object"?f!==null:c(f)}},81:function(v,x,a){var c=a(9565),f=a(9306),p=a(8551),m=a(6823),_=a(851),S=TypeError;v.exports=function(C,E){var N=arguments.length<2?_(C):E;if(f(N))return p(c(N,C));throw new S(m(C)+" is not iterable")}},235:function(v,x,a){var c=a(9213).forEach,f=a(4598)("forEach");v.exports=f?[].forEach:function(p){return c(this,p,arguments.length>1?arguments[1]:void 0)}},283:function(v,x,a){var c=a(9504),f=a(9039),p=a(4901),m=a(9297),_=a(3724),S=a(350).CONFIGURABLE,C=a(3706),E=a(1181),N=E.enforce,O=E.get,D=String,A=Object.defineProperty,j=c("".slice),R=c("".replace),U=c([].join),V=_&&!f(function(){return A(function(){},"length",{value:8}).length!==8}),z=String(String).split("String"),$=v.exports=function(W,Z,q){j(D(Z),0,7)==="Symbol("&&(Z="["+R(D(Z),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),q&&q.getter&&(Z="get "+Z),q&&q.setter&&(Z="set "+Z),(!m(W,"name")||S&&W.name!==Z)&&(_?A(W,"name",{value:Z,configurable:!0}):W.name=Z),V&&q&&m(q,"arity")&&W.length!==q.arity&&A(W,"length",{value:q.arity});try{q&&m(q,"constructor")&&q.constructor?_&&A(W,"prototype",{writable:!1}):W.prototype&&(W.prototype=void 0)}catch(te){}var G=N(W);return m(G,"source")||(G.source=U(z,typeof Z=="string"?Z:"")),W};Function.prototype.toString=$(function(){return p(this)&&O(this).source||C(this)},"toString")},298:function(v,x,a){var c=a(2195),f=a(5397),p=a(8480).f,m=a(7680),_=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];v.exports.f=function(S){return _&&c(S)==="Window"?function(C){try{return p(C)}catch(E){return m(_)}}(S):p(f(S))}},350:function(v,x,a){var c=a(3724),f=a(9297),p=Function.prototype,m=c&&Object.getOwnPropertyDescriptor,_=f(p,"name"),S=_&&function(){}.name==="something",C=_&&(!c||c&&m(p,"name").configurable);v.exports={EXISTS:_,PROPER:S,CONFIGURABLE:C}},397:function(v,x,a){var c=a(7751);v.exports=c("document","documentElement")},421:function(v){v.exports={}},511:function(v,x,a){var c=a(9167),f=a(9297),p=a(1951),m=a(4913).f;v.exports=function(_){var S=c.Symbol||(c.Symbol={});f(S,_)||m(S,_,{value:p.f(_)})}},566:function(v,x,a){var c=a(9504),f=a(9306),p=a(34),m=a(9297),_=a(7680),S=a(616),C=Function,E=c([].concat),N=c([].join),O={};v.exports=S?C.bind:function(D){var A=f(this),j=A.prototype,R=_(arguments,1),U=function(){var V=E(R,_(arguments));return this instanceof U?function(z,$,W){if(!m(O,$)){for(var Z=[],q=0;q<$;q++)Z[q]="a["+q+"]";O[$]=C("C,a","return new C("+N(Z,",")+")")}return O[$](z,W)}(A,V.length,V):A.apply(D,V)};return p(j)&&(U.prototype=j),U}},597:function(v,x,a){var c=a(9039),f=a(8227),p=a(9519),m=f("species");v.exports=function(_){return p>=51||!c(function(){var S=[];return(S.constructor={})[m]=function(){return{foo:1}},S[_](Boolean).foo!==1})}},616:function(v,x,a){var c=a(9039);v.exports=!c(function(){var f=function(){}.bind();return typeof f!="function"||f.hasOwnProperty("prototype")})},655:function(v,x,a){var c=a(6955),f=String;v.exports=function(p){if(c(p)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return f(p)}},687:function(v,x,a){var c=a(4913).f,f=a(9297),p=a(8227)("toStringTag");v.exports=function(m,_,S){m&&!S&&(m=m.prototype),m&&!f(m,p)&&c(m,p,{configurable:!0,value:_})}},706:function(v,x,a){var c=a(350).PROPER,f=a(9039),p=a(7452);v.exports=function(m){return f(function(){return!!p[m]()||"​᠎"[m]()!=="​᠎"||c&&p[m].name!==m})}},739:function(v,x,a){var c=a(6518),f=a(9039),p=a(8981),m=a(2777);c({target:"Date",proto:!0,arity:1,forced:f(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(_){var S=p(this),C=m(S,"number");return typeof C!="number"||isFinite(C)?S.toISOString():null}})},741:function(v){var x=Math.ceil,a=Math.floor;v.exports=Math.trunc||function(c){var f=+c;return(f>0?a:x)(f)}},744:function(v,x,a){var c=a(9565),f=a(9504),p=a(9228),m=a(8551),_=a(34),S=a(7750),C=a(2293),E=a(7829),N=a(8014),O=a(655),D=a(5966),A=a(6682),j=a(8429),R=a(9039),U=j.UNSUPPORTED_Y,V=Math.min,z=f([].push),$=f("".slice),W=!R(function(){var q=/(?:)/,G=q.exec;q.exec=function(){return G.apply(this,arguments)};var te="ab".split(q);return te.length!==2||te[0]!=="a"||te[1]!=="b"}),Z="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;p("split",function(q,G,te){var ie="0".split(void 0,0).length?function(X,ce){return X===void 0&&ce===0?[]:c(G,this,X,ce)}:G;return[function(X,ce){var se=S(this),oe=_(X)?D(X,q):void 0;return oe?c(oe,X,se,ce):c(ie,O(se),X,ce)},function(X,ce){var se=m(this),oe=O(X);if(!Z){var Ne=te(ie,se,oe,ce,ie!==G);if(Ne.done)return Ne.value}var ke=C(se,RegExp),le=se.unicode,Ee=(se.ignoreCase?"i":"")+(se.multiline?"m":"")+(se.unicode?"u":"")+(U?"g":"y"),xe=new ke(U?"^(?:"+se.source+")":se,Ee),we=ce===void 0?4294967295:ce>>>0;if(we===0)return[];if(oe.length===0)return A(xe,oe)===null?[oe]:[];for(var Se=0,Te=0,he=[];Te<oe.length;){xe.lastIndex=U?0:Te;var de,ye=A(xe,U?$(oe,Te):oe);if(ye===null||(de=V(N(xe.lastIndex+(U?Te:0)),oe.length))===Se)Te=E(oe,Te,le);else{if(z(he,$(oe,Se,Te)),he.length===we)return he;for(var Re=1;Re<=ye.length-1;Re++)if(z(he,ye[Re]),he.length===we)return he;Te=Se=de}}return z(he,$(oe,Se)),he}]},Z||!W,U)},757:function(v,x,a){var c=a(7751),f=a(4901),p=a(1625),m=a(7040),_=Object;v.exports=m?function(S){return typeof S=="symbol"}:function(S){var C=c("Symbol");return f(C)&&p(C.prototype,_(S))}},788:function(v,x,a){var c=a(34),f=a(2195),p=a(8227)("match");v.exports=function(m){var _;return c(m)&&((_=m[p])!==void 0?!!_:f(m)==="RegExp")}},825:function(v,x,a){var c=a(6518),f=a(7751),p=a(8745),m=a(566),_=a(5548),S=a(8551),C=a(34),E=a(2360),N=a(9039),O=f("Reflect","construct"),D=Object.prototype,A=[].push,j=N(function(){function V(){}return!(O(function(){},[],V)instanceof V)}),R=!N(function(){O(function(){})}),U=j||R;c({target:"Reflect",stat:!0,forced:U,sham:U},{construct:function(V,z){_(V),S(z);var $=arguments.length<3?V:_(arguments[2]);if(R&&!j)return O(V,z,$);if(V===$){switch(z.length){case 0:return new V;case 1:return new V(z[0]);case 2:return new V(z[0],z[1]);case 3:return new V(z[0],z[1],z[2]);case 4:return new V(z[0],z[1],z[2],z[3])}var W=[null];return p(A,W,z),new(p(m,V,W))}var Z=$.prototype,q=E(C(Z)?Z:D),G=p(V,q,z);return C(G)?G:q}})},851:function(v,x,a){var c=a(6955),f=a(5966),p=a(4117),m=a(6269),_=a(8227)("iterator");v.exports=function(S){if(!p(S))return f(S,_)||f(S,"@@iterator")||m[c(S)]}},926:function(v,x,a){var c=a(9306),f=a(8981),p=a(7055),m=a(6198),_=TypeError,S="Reduce of empty array with no initial value",C=function(E){return function(N,O,D,A){var j=f(N),R=p(j),U=m(j);if(c(O),U===0&&D<2)throw new _(S);var V=E?U-1:0,z=E?-1:1;if(D<2)for(;;){if(V in R){A=R[V],V+=z;break}if(V+=z,E?V<0:U<=V)throw new _(S)}for(;E?V>=0:U>V;V+=z)V in R&&(A=O(A,R[V],V,j));return A}};v.exports={left:C(!1),right:C(!0)}},1034:function(v,x,a){var c=a(9565),f=a(9297),p=a(1625),m=a(5213),_=a(7979),S=RegExp.prototype;v.exports=m.correct?function(C){return C.flags}:function(C){return m.correct||!p(S,C)||f(C,"flags")?C.flags:c(_,C)}},1056:function(v,x,a){var c=a(4913).f;v.exports=function(f,p,m){m in f||c(f,m,{configurable:!0,get:function(){return p[m]},set:function(_){p[m]=_}})}},1072:function(v,x,a){var c=a(1828),f=a(8727);v.exports=Object.keys||function(p){return c(p,f)}},1088:function(v,x,a){var c=a(6518),f=a(9565),p=a(6395),m=a(350),_=a(4901),S=a(3994),C=a(2787),E=a(2967),N=a(687),O=a(6699),D=a(6840),A=a(8227),j=a(6269),R=a(7657),U=m.PROPER,V=m.CONFIGURABLE,z=R.IteratorPrototype,$=R.BUGGY_SAFARI_ITERATORS,W=A("iterator"),Z="keys",q="values",G="entries",te=function(){return this};v.exports=function(ie,X,ce,se,oe,Ne,ke){S(ce,X,se);var le,Ee,xe,we=function(je){if(je===oe&&ye)return ye;if(!$&&je&&je in he)return he[je];switch(je){case Z:case q:case G:return function(){return new ce(this,je)}}return function(){return new ce(this)}},Se=X+" Iterator",Te=!1,he=ie.prototype,de=he[W]||he["@@iterator"]||oe&&he[oe],ye=!$&&de||we(oe),Re=X==="Array"&&he.entries||de;if(Re&&(le=C(Re.call(new ie)))!==Object.prototype&&le.next&&(p||C(le)===z||(E?E(le,z):_(le[W])||D(le,W,te)),N(le,Se,!0,!0),p&&(j[Se]=te)),U&&oe===q&&de&&de.name!==q&&(!p&&V?O(he,"name",q):(Te=!0,ye=function(){return f(de,this)})),oe)if(Ee={values:we(q),keys:Ne?ye:we(Z),entries:we(G)},ke)for(xe in Ee)($||Te||!(xe in he))&&D(he,xe,Ee[xe]);else c({target:X,proto:!0,forced:$||Te},Ee);return p&&!ke||he[W]===ye||D(he,W,ye,{name:oe}),j[X]=ye,Ee}},1181:function(v,x,a){var c,f,p,m=a(8622),_=a(4576),S=a(34),C=a(6699),E=a(9297),N=a(7629),O=a(6119),D=a(421),A="Object already initialized",j=_.TypeError,R=_.WeakMap;if(m||N.state){var U=N.state||(N.state=new R);U.get=U.get,U.has=U.has,U.set=U.set,c=function(z,$){if(U.has(z))throw new j(A);return $.facade=z,U.set(z,$),$},f=function(z){return U.get(z)||{}},p=function(z){return U.has(z)}}else{var V=O("state");D[V]=!0,c=function(z,$){if(E(z,V))throw new j(A);return $.facade=z,C(z,V,$),$},f=function(z){return E(z,V)?z[V]:{}},p=function(z){return E(z,V)}}v.exports={set:c,get:f,has:p,enforce:function(z){return p(z)?f(z):c(z,{})},getterFor:function(z){return function($){var W;if(!S($)||(W=f($)).type!==z)throw new j("Incompatible receiver, "+z+" required");return W}}}},1240:function(v,x,a){var c=a(9504);v.exports=c(1.1.valueOf)},1278:function(v,x,a){var c=a(6518),f=a(3724),p=a(5031),m=a(5397),_=a(7347),S=a(4659);c({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(C){for(var E,N,O=m(C),D=_.f,A=p(O),j={},R=0;A.length>R;)(N=D(O,E=A[R++]))!==void 0&&S(j,E,N);return j}})},1291:function(v,x,a){var c=a(741);v.exports=function(f){var p=+f;return p!=p||p===0?0:c(p)}},1296:function(v,x,a){var c=a(4495);v.exports=c&&!!Symbol.for&&!!Symbol.keyFor},1436:function(v,x,a){var c=a(8227)("match");v.exports=function(f){var p=/./;try{"/./"[f](p)}catch(m){try{return p[c]=!1,"/./"[f](p)}catch(_){}}return!1}},1469:function(v,x,a){var c=a(7433);v.exports=function(f,p){return new(c(f))(p===0?0:p)}},1480:function(v,x,a){var c=a(6518),f=a(9039),p=a(298).f;c({target:"Object",stat:!0,forced:f(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:p})},1510:function(v,x,a){var c=a(6518),f=a(7751),p=a(9297),m=a(655),_=a(5745),S=a(1296),C=_("string-to-symbol-registry"),E=_("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!S},{for:function(N){var O=m(N);if(p(C,O))return C[O];var D=f("Symbol")(O);return C[O]=D,E[D]=O,D}})},1625:function(v,x,a){var c=a(9504);v.exports=c({}.isPrototypeOf)},1699:function(v,x,a){var c=a(6518),f=a(9504),p=a(5749),m=a(7750),_=a(655),S=a(1436),C=f("".indexOf);c({target:"String",proto:!0,forced:!S("includes")},{includes:function(E){return!!~C(_(m(this)),_(p(E)),arguments.length>1?arguments[1]:void 0)}})},1761:function(v,x,a){var c=a(9565),f=a(9504),p=a(9228),m=a(8551),_=a(34),S=a(8014),C=a(655),E=a(7750),N=a(5966),O=a(7829),D=a(1034),A=a(6682),j=f("".indexOf);p("match",function(R,U,V){return[function(z){var $=E(this),W=_(z)?N(z,R):void 0;return W?c(W,z,$):new RegExp(z)[R](C($))},function(z){var $=m(this),W=C(z),Z=V(U,$,W);if(Z.done)return Z.value;var q=C(D($));if(j(q,"g")===-1)return A($,W);var G=j(q,"u")!==-1;$.lastIndex=0;for(var te,ie=[],X=0;(te=A($,W))!==null;){var ce=C(te[0]);ie[X]=ce,ce===""&&($.lastIndex=O(W,S($.lastIndex),G)),X++}return X===0?null:ie}]})},1828:function(v,x,a){var c=a(9504),f=a(9297),p=a(5397),m=a(9617).indexOf,_=a(421),S=c([].push);v.exports=function(C,E){var N,O=p(C),D=0,A=[];for(N in O)!f(_,N)&&f(O,N)&&S(A,N);for(;E.length>D;)f(O,N=E[D++])&&(~m(A,N)||S(A,N));return A}},1951:function(v,x,a){var c=a(8227);x.f=c},2008:function(v,x,a){var c=a(6518),f=a(9213).filter;c({target:"Array",proto:!0,forced:!a(597)("filter")},{filter:function(p){return f(this,p,arguments.length>1?arguments[1]:void 0)}})},2010:function(v,x,a){var c=a(3724),f=a(350).EXISTS,p=a(9504),m=a(2106),_=Function.prototype,S=p(_.toString),C=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=p(C.exec);c&&!f&&m(_,"name",{configurable:!0,get:function(){try{return E(C,S(this))[1]}catch(N){return""}}})},2062:function(v,x,a){var c=a(6518),f=a(9213).map;c({target:"Array",proto:!0,forced:!a(597)("map")},{map:function(p){return f(this,p,arguments.length>1?arguments[1]:void 0)}})},2087:function(v,x,a){var c=a(34),f=Math.floor;v.exports=Number.isInteger||function(p){return!c(p)&&isFinite(p)&&f(p)===p}},2106:function(v,x,a){var c=a(283),f=a(4913);v.exports=function(p,m,_){return _.get&&c(_.get,m,{getter:!0}),_.set&&c(_.set,m,{setter:!0}),f.f(p,m,_)}},2140:function(v,x,a){var c={};c[a(8227)("toStringTag")]="z",v.exports=String(c)==="[object z]"},2195:function(v,x,a){var c=a(9504),f=c({}.toString),p=c("".slice);v.exports=function(m){return p(f(m),8,-1)}},2211:function(v,x,a){var c=a(9039);v.exports=!c(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},2259:function(v,x,a){a(511)("iterator")},2293:function(v,x,a){var c=a(8551),f=a(5548),p=a(4117),m=a(8227)("species");v.exports=function(_,S){var C,E=c(_).constructor;return E===void 0||p(C=c(E)[m])?S:f(C)}},2360:function(v,x,a){var c,f=a(8551),p=a(6801),m=a(8727),_=a(421),S=a(397),C=a(4055),E=a(6119),N="prototype",O="script",D=E("IE_PROTO"),A=function(){},j=function(V){return"<"+O+">"+V+"</"+O+">"},R=function(V){V.write(j("")),V.close();var z=V.parentWindow.Object;return V=null,z},U=function(){try{c=new ActiveXObject("htmlfile")}catch(Z){}var V,z,$;U=typeof document!="undefined"?document.domain&&c?R(c):(z=C("iframe"),$="java"+O+":",z.style.display="none",S.appendChild(z),z.src=String($),(V=z.contentWindow.document).open(),V.write(j("document.F=Object")),V.close(),V.F):R(c);for(var W=m.length;W--;)delete U[N][m[W]];return U()};_[D]=!0,v.exports=Object.create||function(V,z){var $;return V!==null?(A[N]=f(V),$=new A,A[N]=null,$[D]=V):$=U(),z===void 0?$:p.f($,z)}},2478:function(v,x,a){var c=a(9504),f=a(8981),p=Math.floor,m=c("".charAt),_=c("".replace),S=c("".slice),C=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;v.exports=function(N,O,D,A,j,R){var U=D+N.length,V=A.length,z=E;return j!==void 0&&(j=f(j),z=C),_(R,z,function($,W){var Z;switch(m(W,0)){case"$":return"$";case"&":return N;case"`":return S(O,0,D);case"'":return S(O,U);case"<":Z=j[S(W,1,-1)];break;default:var q=+W;if(q===0)return $;if(q>V){var G=p(q/10);return G===0?$:G<=V?A[G-1]===void 0?m(W,1):A[G-1]+m(W,1):$}Z=A[q-1]}return Z===void 0?"":Z})}},2529:function(v){v.exports=function(x,a){return{value:x,done:a}}},2551:function(v,x,a){var c=a(6395),f=a(4576),p=a(9039),m=a(3607);v.exports=c||!p(function(){if(!(m&&m<535)){var _=Math.random();__defineSetter__.call(null,_,function(){}),delete f[_]}})},2637:function(v,x,a){a(6518)({target:"Number",stat:!0},{isInteger:a(2087)})},2675:function(v,x,a){a(6761),a(1510),a(7812),a(3110),a(9773)},2712:function(v,x,a){var c=a(6518),f=a(926).left,p=a(4598),m=a(9519);c({target:"Array",proto:!0,forced:!a(6193)&&m>79&&m<83||!p("reduce")},{reduce:function(_){var S=arguments.length;return f(this,_,S,S>1?arguments[1]:void 0)}})},2762:function(v,x,a){var c=a(6518),f=a(3802).trim;c({target:"String",proto:!0,forced:a(706)("trim")},{trim:function(){return f(this)}})},2777:function(v,x,a){var c=a(9565),f=a(34),p=a(757),m=a(5966),_=a(4270),S=a(8227),C=TypeError,E=S("toPrimitive");v.exports=function(N,O){if(!f(N)||p(N))return N;var D,A=m(N,E);if(A){if(O===void 0&&(O="default"),D=c(A,N,O),!f(D)||p(D))return D;throw new C("Can't convert object to primitive value")}return O===void 0&&(O="number"),_(N,O)}},2787:function(v,x,a){var c=a(9297),f=a(4901),p=a(8981),m=a(6119),_=a(2211),S=m("IE_PROTO"),C=Object,E=C.prototype;v.exports=_?C.getPrototypeOf:function(N){var O=p(N);if(c(O,S))return O[S];var D=O.constructor;return f(D)&&O instanceof D?D.prototype:O instanceof C?E:null}},2796:function(v,x,a){var c=a(9039),f=a(4901),p=/#|\.prototype\./,m=function(N,O){var D=S[_(N)];return D===E||D!==C&&(f(O)?c(O):!!O)},_=m.normalize=function(N){return String(N).replace(p,".").toLowerCase()},S=m.data={},C=m.NATIVE="N",E=m.POLYFILL="P";v.exports=m},2839:function(v,x,a){var c=a(4576).navigator,f=c&&c.userAgent;v.exports=f?String(f):""},2892:function(v,x,a){var c=a(6518),f=a(6395),p=a(3724),m=a(4576),_=a(9167),S=a(9504),C=a(2796),E=a(9297),N=a(3167),O=a(1625),D=a(757),A=a(2777),j=a(9039),R=a(8480).f,U=a(7347).f,V=a(4913).f,z=a(1240),$=a(3802).trim,W="Number",Z=m[W],q=_[W],G=Z.prototype,te=m.TypeError,ie=S("".slice),X=S("".charCodeAt),ce=function(ke){var le,Ee,xe,we,Se,Te,he,de,ye=A(ke,"number");if(D(ye))throw new te("Cannot convert a Symbol value to a number");if(typeof ye=="string"&&ye.length>2){if(ye=$(ye),(le=X(ye,0))===43||le===45){if((Ee=X(ye,2))===88||Ee===120)return NaN}else if(le===48){switch(X(ye,1)){case 66:case 98:xe=2,we=49;break;case 79:case 111:xe=8,we=55;break;default:return+ye}for(Te=(Se=ie(ye,2)).length,he=0;he<Te;he++)if((de=X(Se,he))<48||de>we)return NaN;return parseInt(Se,xe)}}return+ye},se=C(W,!Z(" 0o1")||!Z("0b1")||Z("+0x1")),oe=function(ke){var le,Ee=arguments.length<1?0:Z(function(xe){var we=A(xe,"number");return typeof we=="bigint"?we:ce(we)}(ke));return O(G,le=this)&&j(function(){z(le)})?N(Object(Ee),this,oe):Ee};oe.prototype=G,se&&!f&&(G.constructor=oe),c({global:!0,constructor:!0,wrap:!0,forced:se},{Number:oe});var Ne=function(ke,le){for(var Ee,xe=p?R(le):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),we=0;xe.length>we;we++)E(le,Ee=xe[we])&&!E(ke,Ee)&&V(ke,Ee,U(le,Ee))};f&&q&&Ne(_[W],q),(se||f)&&Ne(_[W],Z)},2953:function(v,x,a){var c=a(4576),f=a(7400),p=a(9296),m=a(3792),_=a(6699),S=a(687),C=a(8227)("iterator"),E=m.values,N=function(D,A){if(D){if(D[C]!==E)try{_(D,C,E)}catch(R){D[C]=E}if(S(D,A,!0),f[A]){for(var j in m)if(D[j]!==m[j])try{_(D,j,m[j])}catch(R){D[j]=m[j]}}}};for(var O in f)N(c[O]&&c[O].prototype,O);N(p,"DOMTokenList")},2967:function(v,x,a){var c=a(6706),f=a(34),p=a(7750),m=a(3506);v.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _,S=!1,C={};try{(_=c(Object.prototype,"__proto__","set"))(C,[]),S=C instanceof Array}catch(E){}return function(E,N){return p(E),m(N),f(E)&&(S?_(E,N):E.__proto__=N),E}}():void 0)},3110:function(v,x,a){var c=a(6518),f=a(7751),p=a(8745),m=a(9565),_=a(9504),S=a(9039),C=a(4901),E=a(757),N=a(7680),O=a(6933),D=a(4495),A=String,j=f("JSON","stringify"),R=_(/./.exec),U=_("".charAt),V=_("".charCodeAt),z=_("".replace),$=_(1.1.toString),W=/[\uD800-\uDFFF]/g,Z=/^[\uD800-\uDBFF]$/,q=/^[\uDC00-\uDFFF]$/,G=!D||S(function(){var ce=f("Symbol")("stringify detection");return j([ce])!=="[null]"||j({a:ce})!=="{}"||j(Object(ce))!=="{}"}),te=S(function(){return j("\uDF06\uD834")!=='"\\udf06\\ud834"'||j("\uDEAD")!=='"\\udead"'}),ie=function(ce,se){var oe=N(arguments),Ne=O(se);if(C(Ne)||ce!==void 0&&!E(ce))return oe[1]=function(ke,le){if(C(Ne)&&(le=m(Ne,this,A(ke),le)),!E(le))return le},p(j,null,oe)},X=function(ce,se,oe){var Ne=U(oe,se-1),ke=U(oe,se+1);return R(Z,ce)&&!R(q,ke)||R(q,ce)&&!R(Z,Ne)?"\\u"+$(V(ce,0),16):ce};j&&c({target:"JSON",stat:!0,arity:3,forced:G||te},{stringify:function(ce,se,oe){var Ne=N(arguments),ke=p(G?ie:j,null,Ne);return te&&typeof ke=="string"?z(ke,W,X):ke}})},3167:function(v,x,a){var c=a(4901),f=a(34),p=a(2967);v.exports=function(m,_,S){var C,E;return p&&c(C=_.constructor)&&C!==S&&f(E=C.prototype)&&E!==S.prototype&&p(m,E),m}},3179:function(v,x,a){var c=a(2140),f=a(6955);v.exports=c?{}.toString:function(){return"[object "+f(this)+"]"}},3392:function(v,x,a){var c=a(9504),f=0,p=Math.random(),m=c(1.1.toString);v.exports=function(_){return"Symbol("+(_===void 0?"":_)+")_"+m(++f+p,36)}},3418:function(v,x,a){var c=a(6518),f=a(7916);c({target:"Array",stat:!0,forced:!a(4428)(function(p){Array.from(p)})},{from:f})},3500:function(v,x,a){var c=a(4576),f=a(7400),p=a(9296),m=a(235),_=a(6699),S=function(E){if(E&&E.forEach!==m)try{_(E,"forEach",m)}catch(N){E.forEach=m}};for(var C in f)f[C]&&S(c[C]&&c[C].prototype);S(p)},3506:function(v,x,a){var c=a(3925),f=String,p=TypeError;v.exports=function(m){if(c(m))return m;throw new p("Can't set "+f(m)+" as a prototype")}},3517:function(v,x,a){var c=a(9504),f=a(9039),p=a(4901),m=a(6955),_=a(7751),S=a(3706),C=function(){},E=_("Reflect","construct"),N=/^\s*(?:class|function)\b/,O=c(N.exec),D=!N.test(C),A=function(R){if(!p(R))return!1;try{return E(C,[],R),!0}catch(U){return!1}},j=function(R){if(!p(R))return!1;switch(m(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return D||!!O(N,S(R))}catch(U){return!0}};j.sham=!0,v.exports=!E||f(function(){var R;return A(A.call)||!A(Object)||!A(function(){R=!0})||R})?j:A},3607:function(v,x,a){var c=a(2839).match(/AppleWebKit\/(\d+)\./);v.exports=!!c&&+c[1]},3635:function(v,x,a){var c=a(9039),f=a(4576).RegExp;v.exports=c(function(){var p=f(".","s");return!(p.dotAll&&p.test(`
`)&&p.flags==="s")})},3640:function(v,x,a){var c=a(8551),f=a(4270),p=TypeError;v.exports=function(m){if(c(this),m==="string"||m==="default")m="string";else if(m!=="number")throw new p("Incorrect hint");return f(this,m)}},3706:function(v,x,a){var c=a(9504),f=a(4901),p=a(7629),m=c(Function.toString);f(p.inspectSource)||(p.inspectSource=function(_){return m(_)}),v.exports=p.inspectSource},3709:function(v,x,a){var c=a(2839).match(/firefox\/(\d+)/i);v.exports=!!c&&+c[1]},3717:function(v,x){x.f=Object.getOwnPropertySymbols},3724:function(v,x,a){var c=a(9039);v.exports=!c(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},3763:function(v,x,a){var c=a(2839);v.exports=/MSIE|Trident/.test(c)},3792:function(v,x,a){var c=a(5397),f=a(6469),p=a(6269),m=a(1181),_=a(4913).f,S=a(1088),C=a(2529),E=a(6395),N=a(3724),O="Array Iterator",D=m.set,A=m.getterFor(O);v.exports=S(Array,"Array",function(R,U){D(this,{type:O,target:c(R),index:0,kind:U})},function(){var R=A(this),U=R.target,V=R.index++;if(!U||V>=U.length)return R.target=null,C(void 0,!0);switch(R.kind){case"keys":return C(V,!1);case"values":return C(U[V],!1)}return C([V,U[V]],!1)},"values");var j=p.Arguments=p.Array;if(f("keys"),f("values"),f("entries"),!E&&N&&j.name!=="values")try{_(j,"name",{value:"values"})}catch(R){}},3802:function(v,x,a){var c=a(9504),f=a(7750),p=a(655),m=a(7452),_=c("".replace),S=RegExp("^["+m+"]+"),C=RegExp("(^|[^"+m+"])["+m+"]+$"),E=function(N){return function(O){var D=p(f(O));return 1&N&&(D=_(D,S,"")),2&N&&(D=_(D,C,"$1")),D}};v.exports={start:E(1),end:E(2),trim:E(3)}},3851:function(v,x,a){var c=a(6518),f=a(9039),p=a(5397),m=a(7347).f,_=a(3724);c({target:"Object",stat:!0,forced:!_||f(function(){m(1)}),sham:!_},{getOwnPropertyDescriptor:function(S,C){return m(p(S),C)}})},3925:function(v,x,a){var c=a(34);v.exports=function(f){return c(f)||f===null}},3994:function(v,x,a){var c=a(7657).IteratorPrototype,f=a(2360),p=a(6980),m=a(687),_=a(6269),S=function(){return this};v.exports=function(C,E,N,O){var D=E+" Iterator";return C.prototype=f(c,{next:p(+!O,N)}),m(C,D,!1,!0),_[D]=S,C}},4055:function(v,x,a){var c=a(4576),f=a(34),p=c.document,m=f(p)&&f(p.createElement);v.exports=function(_){return m?p.createElement(_):{}}},4117:function(v){v.exports=function(x){return x==null}},4209:function(v,x,a){var c=a(8227),f=a(6269),p=c("iterator"),m=Array.prototype;v.exports=function(_){return _!==void 0&&(f.Array===_||m[p]===_)}},4213:function(v,x,a){var c=a(3724),f=a(9504),p=a(9565),m=a(9039),_=a(1072),S=a(3717),C=a(8773),E=a(8981),N=a(7055),O=Object.assign,D=Object.defineProperty,A=f([].concat);v.exports=!O||m(function(){if(c&&O({b:1},O(D({},"a",{enumerable:!0,get:function(){D(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var j={},R={},U=Symbol("assign detection"),V="abcdefghijklmnopqrst";return j[U]=7,V.split("").forEach(function(z){R[z]=z}),O({},j)[U]!==7||_(O({},R)).join("")!==V})?function(j,R){for(var U=E(j),V=arguments.length,z=1,$=S.f,W=C.f;V>z;)for(var Z,q=N(arguments[z++]),G=$?A(_(q),$(q)):_(q),te=G.length,ie=0;te>ie;)Z=G[ie++],c&&!p(W,q,Z)||(U[Z]=q[Z]);return U}:O},4215:function(v,x,a){var c=a(4576),f=a(2839),p=a(2195),m=function(_){return f.slice(0,_.length)===_};v.exports=m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":c.Bun&&typeof Bun.version=="string"?"BUN":c.Deno&&typeof Deno.version=="object"?"DENO":p(c.process)==="process"?"NODE":c.window&&c.document?"BROWSER":"REST"},4270:function(v,x,a){var c=a(9565),f=a(4901),p=a(34),m=TypeError;v.exports=function(_,S){var C,E;if(S==="string"&&f(C=_.toString)&&!p(E=c(C,_))||f(C=_.valueOf)&&!p(E=c(C,_))||S!=="string"&&f(C=_.toString)&&!p(E=c(C,_)))return E;throw new m("Can't convert object to primitive value")}},4376:function(v,x,a){var c=a(2195);v.exports=Array.isArray||function(f){return c(f)==="Array"}},4423:function(v,x,a){var c=a(6518),f=a(9617).includes,p=a(9039),m=a(6469);c({target:"Array",proto:!0,forced:p(function(){return!Array(1).includes()})},{includes:function(_){return f(this,_,arguments.length>1?arguments[1]:void 0)}}),m("includes")},4428:function(v,x,a){var c=a(8227)("iterator"),f=!1;try{var p=0,m={next:function(){return{done:!!p++}},return:function(){f=!0}};m[c]=function(){return this},Array.from(m,function(){throw 2})}catch(_){}v.exports=function(_,S){try{if(!S&&!f)return!1}catch(N){return!1}var C=!1;try{var E={};E[c]=function(){return{next:function(){return{done:C=!0}}}},_(E)}catch(N){}return C}},4488:function(v,x,a){var c=a(7680),f=Math.floor,p=function(m,_){var S=m.length;if(S<8)for(var C,E,N=1;N<S;){for(E=N,C=m[N];E&&_(m[E-1],C)>0;)m[E]=m[--E];E!==N++&&(m[E]=C)}else for(var O=f(S/2),D=p(c(m,0,O),_),A=p(c(m,O),_),j=D.length,R=A.length,U=0,V=0;U<j||V<R;)m[U+V]=U<j&&V<R?_(D[U],A[V])<=0?D[U++]:A[V++]:U<j?D[U++]:A[V++];return m};v.exports=p},4495:function(v,x,a){var c=a(9519),f=a(9039),p=a(4576).String;v.exports=!!Object.getOwnPropertySymbols&&!f(function(){var m=Symbol("symbol detection");return!p(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&c&&c<41})},4527:function(v,x,a){var c=a(3724),f=a(4376),p=TypeError,m=Object.getOwnPropertyDescriptor,_=c&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(S){return S instanceof TypeError}}();v.exports=_?function(S,C){if(f(S)&&!m(S,"length").writable)throw new p("Cannot set read only .length");return S.length=C}:function(S,C){return S.length=C}},4554:function(v,x,a){var c=a(6518),f=a(8981),p=a(5610),m=a(1291),_=a(6198),S=a(4527),C=a(6837),E=a(1469),N=a(4659),O=a(4606),D=a(597)("splice"),A=Math.max,j=Math.min;c({target:"Array",proto:!0,forced:!D},{splice:function(R,U){var V,z,$,W,Z,q,G=f(this),te=_(G),ie=p(R,te),X=arguments.length;for(X===0?V=z=0:X===1?(V=0,z=te-ie):(V=X-2,z=j(A(m(U),0),te-ie)),C(te+V-z),$=E(G,z),W=0;W<z;W++)(Z=ie+W)in G&&N($,W,G[Z]);if($.length=z,V<z){for(W=ie;W<te-z;W++)q=W+V,(Z=W+z)in G?G[q]=G[Z]:O(G,q);for(W=te;W>te-z+V;W--)O(G,W-1)}else if(V>z)for(W=te-z;W>ie;W--)q=W+V-1,(Z=W+z-1)in G?G[q]=G[Z]:O(G,q);for(W=0;W<V;W++)G[W+ie]=arguments[W+2];return S(G,te-z+V),$}})},4576:function(v,x,a){var c=function(f){return f&&f.Math===Math&&f};v.exports=c(typeof globalThis=="object"&&globalThis)||c(typeof window=="object"&&window)||c(typeof self=="object"&&self)||c(typeof a.g=="object"&&a.g)||c(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},4598:function(v,x,a){var c=a(9039);v.exports=function(f,p){var m=[][f];return!!m&&c(function(){m.call(null,p||function(){return 1},1)})}},4606:function(v,x,a){var c=a(6823),f=TypeError;v.exports=function(p,m){if(!delete p[m])throw new f("Cannot delete property "+c(m)+" of "+c(p))}},4659:function(v,x,a){var c=a(3724),f=a(4913),p=a(6980);v.exports=function(m,_,S){c?f.f(m,_,p(0,S)):m[_]=S}},4782:function(v,x,a){var c=a(6518),f=a(4376),p=a(3517),m=a(34),_=a(5610),S=a(6198),C=a(5397),E=a(4659),N=a(8227),O=a(597),D=a(7680),A=O("slice"),j=N("species"),R=Array,U=Math.max;c({target:"Array",proto:!0,forced:!A},{slice:function(V,z){var $,W,Z,q=C(this),G=S(q),te=_(V,G),ie=_(z===void 0?G:z,G);if(f(q)&&($=q.constructor,(p($)&&($===R||f($.prototype))||m($)&&($=$[j])===null)&&($=void 0),$===R||$===void 0))return D(q,te,ie);for(W=new($===void 0?R:$)(U(ie-te,0)),Z=0;te<ie;te++,Z++)te in q&&E(W,Z,q[te]);return W.length=Z,W}})},4864:function(v,x,a){var c=a(3724),f=a(4576),p=a(9504),m=a(2796),_=a(3167),S=a(6699),C=a(2360),E=a(8480).f,N=a(1625),O=a(788),D=a(655),A=a(1034),j=a(8429),R=a(1056),U=a(6840),V=a(9039),z=a(9297),$=a(1181).enforce,W=a(7633),Z=a(8227),q=a(3635),G=a(8814),te=Z("match"),ie=f.RegExp,X=ie.prototype,ce=f.SyntaxError,se=p(X.exec),oe=p("".charAt),Ne=p("".replace),ke=p("".indexOf),le=p("".slice),Ee=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,xe=/a/g,we=/a/g,Se=new ie(xe)!==xe,Te=j.MISSED_STICKY,he=j.UNSUPPORTED_Y;if(m("RegExp",c&&(!Se||Te||q||G||V(function(){return we[te]=!1,ie(xe)!==xe||ie(we)===we||String(ie(xe,"i"))!=="/a/i"})))){for(var de=function(je,We){var vt,Rt,cn,Qn,Fn,Bt,qn=N(X,this),Kt=O(je),Xn=We===void 0,Zn=[],yr=je;if(!qn&&Kt&&Xn&&je.constructor===de)return je;if((Kt||N(X,je))&&(je=je.source,Xn&&(We=A(yr))),je=je===void 0?"":D(je),We=We===void 0?"":D(We),yr=je,q&&"dotAll"in xe&&(Rt=!!We&&ke(We,"s")>-1)&&(We=Ne(We,/s/g,"")),vt=We,Te&&"sticky"in xe&&(cn=!!We&&ke(We,"y")>-1)&&he&&(We=Ne(We,/y/g,"")),G&&(Qn=function(dt){for(var rt,Ls=dt.length,Tt=0,Sn="",Cn=[],Ii=C(null),vr=!1,_r=!1,Pi=0,Jn="";Tt<=Ls;Tt++){if((rt=oe(dt,Tt))==="\\")rt+=oe(dt,++Tt);else if(rt==="]")vr=!1;else if(!vr)switch(!0){case rt==="[":vr=!0;break;case rt==="(":if(Sn+=rt,le(dt,Tt+1,Tt+3)==="?:")continue;se(Ee,le(dt,Tt+1))&&(Tt+=2,_r=!0),Pi++;continue;case(rt===">"&&_r):if(Jn===""||z(Ii,Jn))throw new ce("Invalid capture group name");Ii[Jn]=!0,Cn[Cn.length]=[Jn,Pi],_r=!1,Jn="";continue}_r?Jn+=rt:Sn+=rt}return[Sn,Cn]}(je),je=Qn[0],Zn=Qn[1]),Fn=_(ie(je,We),qn?this:X,de),(Rt||cn||Zn.length)&&(Bt=$(Fn),Rt&&(Bt.dotAll=!0,Bt.raw=de(function(dt){for(var rt,Ls=dt.length,Tt=0,Sn="",Cn=!1;Tt<=Ls;Tt++)(rt=oe(dt,Tt))!=="\\"?Cn||rt!=="."?(rt==="["?Cn=!0:rt==="]"&&(Cn=!1),Sn+=rt):Sn+="[\\s\\S]":Sn+=rt+oe(dt,++Tt);return Sn}(je),vt)),cn&&(Bt.sticky=!0),Zn.length&&(Bt.groups=Zn)),je!==yr)try{S(Fn,"source",yr===""?"(?:)":yr)}catch(dt){}return Fn},ye=E(ie),Re=0;ye.length>Re;)R(de,ie,ye[Re++]);X.constructor=de,de.prototype=X,U(f,"RegExp",de,{constructor:!0})}W("RegExp")},4901:function(v){var x=typeof document=="object"&&document.all;v.exports=x===void 0&&x!==void 0?function(a){return typeof a=="function"||a===x}:function(a){return typeof a=="function"}},4913:function(v,x,a){var c=a(3724),f=a(5917),p=a(8686),m=a(8551),_=a(6969),S=TypeError,C=Object.defineProperty,E=Object.getOwnPropertyDescriptor,N="enumerable",O="configurable",D="writable";x.f=c?p?function(A,j,R){if(m(A),j=_(j),m(R),typeof A=="function"&&j==="prototype"&&"value"in R&&D in R&&!R[D]){var U=E(A,j);U&&U[D]&&(A[j]=R.value,R={configurable:O in R?R[O]:U[O],enumerable:N in R?R[N]:U[N],writable:!1})}return C(A,j,R)}:C:function(A,j,R){if(m(A),j=_(j),m(R),f)try{return C(A,j,R)}catch(U){}if("get"in R||"set"in R)throw new S("Accessors not supported");return"value"in R&&(A[j]=R.value),A}},5031:function(v,x,a){var c=a(7751),f=a(9504),p=a(8480),m=a(3717),_=a(8551),S=f([].concat);v.exports=c("Reflect","ownKeys")||function(C){var E=p.f(_(C)),N=m.f;return N?S(E,N(C)):E}},5213:function(v,x,a){var c=a(4576),f=a(9039),p=c.RegExp,m=!f(function(){var _=!0;try{p(".","d")}catch(A){_=!1}var S={},C="",E=_?"dgimsy":"gimsy",N=function(A,j){Object.defineProperty(S,A,{get:function(){return C+=j,!0}})},O={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var D in _&&(O.hasIndices="d"),O)N(D,O[D]);return Object.getOwnPropertyDescriptor(p.prototype,"flags").get.call(S)!==E||C!==E});v.exports={correct:m}},5276:function(v,x,a){var c=a(6518),f=a(7476),p=a(9617).indexOf,m=a(4598),_=f([].indexOf),S=!!_&&1/_([1],1,-0)<0;c({target:"Array",proto:!0,forced:S||!m("indexOf")},{indexOf:function(C){var E=arguments.length>1?arguments[1]:void 0;return S?_(this,C,E)||0:p(this,C,E)}})},5397:function(v,x,a){var c=a(7055),f=a(7750);v.exports=function(p){return c(f(p))}},5440:function(v,x,a){var c=a(8745),f=a(9565),p=a(9504),m=a(9228),_=a(9039),S=a(8551),C=a(4901),E=a(34),N=a(1291),O=a(8014),D=a(655),A=a(7750),j=a(7829),R=a(5966),U=a(2478),V=a(1034),z=a(6682),$=a(8227)("replace"),W=Math.max,Z=Math.min,q=p([].concat),G=p([].push),te=p("".indexOf),ie=p("".slice),X="a".replace(/./,"$0")==="$0",ce=!!/./[$]&&/./[$]("a","$0")==="";m("replace",function(se,oe,Ne){var ke=ce?"$":"$0";return[function(le,Ee){var xe=A(this),we=E(le)?R(le,$):void 0;return we?f(we,le,xe,Ee):f(oe,D(xe),le,Ee)},function(le,Ee){var xe=S(this),we=D(le);if(typeof Ee=="string"&&te(Ee,ke)===-1&&te(Ee,"$<")===-1){var Se=Ne(oe,xe,we,Ee);if(Se.done)return Se.value}var Te=C(Ee);Te||(Ee=D(Ee));var he,de=D(V(xe)),ye=te(de,"g")!==-1;ye&&(he=te(de,"u")!==-1,xe.lastIndex=0);for(var Re,je=[];(Re=z(xe,we))!==null&&(G(je,Re),ye);)D(Re[0])===""&&(xe.lastIndex=j(we,O(xe.lastIndex),he));for(var We,vt="",Rt=0,cn=0;cn<je.length;cn++){for(var Qn,Fn=D((Re=je[cn])[0]),Bt=W(Z(N(Re.index),we.length),0),qn=[],Kt=1;Kt<Re.length;Kt++)G(qn,(We=Re[Kt])===void 0?We:String(We));var Xn=Re.groups;if(Te){var Zn=q([Fn],qn,Bt,we);Xn!==void 0&&G(Zn,Xn),Qn=D(c(Ee,void 0,Zn))}else Qn=U(Fn,we,Bt,qn,Xn,Ee);Bt>=Rt&&(vt+=ie(we,Rt,Bt)+Qn,Rt=Bt+Fn.length)}return vt+ie(we,Rt)}]},!!_(function(){var se=/./;return se.exec=function(){var oe=[];return oe.groups={a:"7"},oe},"".replace(se,"$<a>")!=="7"})||!X||ce)},5548:function(v,x,a){var c=a(3517),f=a(6823),p=TypeError;v.exports=function(m){if(c(m))return m;throw new p(f(m)+" is not a constructor")}},5610:function(v,x,a){var c=a(1291),f=Math.max,p=Math.min;v.exports=function(m,_){var S=c(m);return S<0?f(S+_,0):p(S,_)}},5700:function(v,x,a){var c=a(511),f=a(8242);c("toPrimitive"),f()},5745:function(v,x,a){var c=a(7629);v.exports=function(f,p){return c[f]||(c[f]=p||{})}},5749:function(v,x,a){var c=a(788),f=TypeError;v.exports=function(p){if(c(p))throw new f("The method doesn't accept regular expressions");return p}},5917:function(v,x,a){var c=a(3724),f=a(9039),p=a(4055);v.exports=!c&&!f(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!==7})},5966:function(v,x,a){var c=a(9306),f=a(4117);v.exports=function(p,m){var _=p[m];return f(_)?void 0:c(_)}},6080:function(v,x,a){var c=a(7476),f=a(9306),p=a(616),m=c(c.bind);v.exports=function(_,S){return f(_),S===void 0?_:p?m(_,S):function(){return _.apply(S,arguments)}}},6099:function(v,x,a){var c=a(2140),f=a(6840),p=a(3179);c||f(Object.prototype,"toString",p,{unsafe:!0})},6119:function(v,x,a){var c=a(5745),f=a(3392),p=c("keys");v.exports=function(m){return p[m]||(p[m]=f(m))}},6193:function(v,x,a){var c=a(4215);v.exports=c==="NODE"},6198:function(v,x,a){var c=a(8014);v.exports=function(f){return c(f.length)}},6269:function(v){v.exports={}},6319:function(v,x,a){var c=a(8551),f=a(9539);v.exports=function(p,m,_,S){try{return S?m(c(_)[0],_[1]):m(_)}catch(C){f(p,"throw",C)}}},6395:function(v){v.exports=!1},6469:function(v,x,a){var c=a(8227),f=a(2360),p=a(4913).f,m=c("unscopables"),_=Array.prototype;_[m]===void 0&&p(_,m,{configurable:!0,value:f(null)}),v.exports=function(S){_[m][S]=!0}},6518:function(v,x,a){var c=a(4576),f=a(7347).f,p=a(6699),m=a(6840),_=a(9433),S=a(7740),C=a(2796);v.exports=function(E,N){var O,D,A,j,R,U=E.target,V=E.global,z=E.stat;if(O=V?c:z?c[U]||_(U,{}):c[U]&&c[U].prototype)for(D in N){if(j=N[D],A=E.dontCallGetSet?(R=f(O,D))&&R.value:O[D],!C(V?D:U+(z?".":"#")+D,E.forced)&&A!==void 0){if(typeof j==typeof A)continue;S(j,A)}(E.sham||A&&A.sham)&&p(j,"sham",!0),m(O,D,j,E)}}},6682:function(v,x,a){var c=a(9565),f=a(8551),p=a(4901),m=a(2195),_=a(7323),S=TypeError;v.exports=function(C,E){var N=C.exec;if(p(N)){var O=c(N,C,E);return O!==null&&f(O),O}if(m(C)==="RegExp")return c(_,C,E);throw new S("RegExp#exec called on incompatible receiver")}},6699:function(v,x,a){var c=a(3724),f=a(4913),p=a(6980);v.exports=c?function(m,_,S){return f.f(m,_,p(1,S))}:function(m,_,S){return m[_]=S,m}},6706:function(v,x,a){var c=a(9504),f=a(9306);v.exports=function(p,m,_){try{return c(f(Object.getOwnPropertyDescriptor(p,m)[_]))}catch(S){}}},6761:function(v,x,a){var c=a(6518),f=a(4576),p=a(9565),m=a(9504),_=a(6395),S=a(3724),C=a(4495),E=a(9039),N=a(9297),O=a(1625),D=a(8551),A=a(5397),j=a(6969),R=a(655),U=a(6980),V=a(2360),z=a(1072),$=a(8480),W=a(298),Z=a(3717),q=a(7347),G=a(4913),te=a(6801),ie=a(8773),X=a(6840),ce=a(2106),se=a(5745),oe=a(6119),Ne=a(421),ke=a(3392),le=a(8227),Ee=a(1951),xe=a(511),we=a(8242),Se=a(687),Te=a(1181),he=a(9213).forEach,de=oe("hidden"),ye="Symbol",Re="prototype",je=Te.set,We=Te.getterFor(ye),vt=Object[Re],Rt=f.Symbol,cn=Rt&&Rt[Re],Qn=f.RangeError,Fn=f.TypeError,Bt=f.QObject,qn=q.f,Kt=G.f,Xn=W.f,Zn=ie.f,yr=m([].push),dt=se("symbols"),rt=se("op-symbols"),Ls=se("wks"),Tt=!Bt||!Bt[Re]||!Bt[Re].findChild,Sn=function(Ce,Me,Oe){var Ve=qn(vt,Me);Ve&&delete vt[Me],Kt(Ce,Me,Oe),Ve&&Ce!==vt&&Kt(vt,Me,Ve)},Cn=S&&E(function(){return V(Kt({},"a",{get:function(){return Kt(this,"a",{value:7}).a}})).a!==7})?Sn:Kt,Ii=function(Ce,Me){var Oe=dt[Ce]=V(cn);return je(Oe,{type:ye,tag:Ce,description:Me}),S||(Oe.description=Me),Oe},vr=function(Ce,Me,Oe){Ce===vt&&vr(rt,Me,Oe),D(Ce);var Ve=j(Me);return D(Oe),N(dt,Ve)?(Oe.enumerable?(N(Ce,de)&&Ce[de][Ve]&&(Ce[de][Ve]=!1),Oe=V(Oe,{enumerable:U(0,!1)})):(N(Ce,de)||Kt(Ce,de,U(1,V(null))),Ce[de][Ve]=!0),Cn(Ce,Ve,Oe)):Kt(Ce,Ve,Oe)},_r=function(Ce,Me){D(Ce);var Oe=A(Me),Ve=z(Oe).concat(Rp(Oe));return he(Ve,function(_t){S&&!p(Pi,Oe,_t)||vr(Ce,_t,Oe[_t])}),Ce},Pi=function(Ce){var Me=j(Ce),Oe=p(Zn,this,Me);return!(this===vt&&N(dt,Me)&&!N(rt,Me))&&(!(Oe||!N(this,Me)||!N(dt,Me)||N(this,de)&&this[de][Me])||Oe)},Jn=function(Ce,Me){var Oe=A(Ce),Ve=j(Me);if(Oe!==vt||!N(dt,Ve)||N(rt,Ve)){var _t=qn(Oe,Ve);return!_t||!N(dt,Ve)||N(Oe,de)&&Oe[de][Ve]||(_t.enumerable=!0),_t}},Ap=function(Ce){var Me=Xn(A(Ce)),Oe=[];return he(Me,function(Ve){N(dt,Ve)||N(Ne,Ve)||yr(Oe,Ve)}),Oe},Rp=function(Ce){var Me=Ce===vt,Oe=Xn(Me?rt:A(Ce)),Ve=[];return he(Oe,function(_t){!N(dt,_t)||Me&&!N(vt,_t)||yr(Ve,dt[_t])}),Ve};C||(Rt=function(){if(O(cn,this))throw new Fn("Symbol is not a constructor");var Ce=arguments.length&&arguments[0]!==void 0?R(arguments[0]):void 0,Me=ke(Ce),Oe=function(Ve){var _t=this===void 0?f:this;_t===vt&&p(Oe,rt,Ve),N(_t,de)&&N(_t[de],Me)&&(_t[de][Me]=!1);var Mp=U(1,Ve);try{Cn(_t,Me,Mp)}catch(Op){if(!(Op instanceof Qn))throw Op;Sn(_t,Me,Mp)}};return S&&Tt&&Cn(vt,Me,{configurable:!0,set:Oe}),Ii(Me,Ce)},X(cn=Rt[Re],"toString",function(){return We(this).tag}),X(Rt,"withoutSetter",function(Ce){return Ii(ke(Ce),Ce)}),ie.f=Pi,G.f=vr,te.f=_r,q.f=Jn,$.f=W.f=Ap,Z.f=Rp,Ee.f=function(Ce){return Ii(le(Ce),Ce)},S&&(ce(cn,"description",{configurable:!0,get:function(){return We(this).description}}),_||X(vt,"propertyIsEnumerable",Pi,{unsafe:!0}))),c({global:!0,constructor:!0,wrap:!0,forced:!C,sham:!C},{Symbol:Rt}),he(z(Ls),function(Ce){xe(Ce)}),c({target:ye,stat:!0,forced:!C},{useSetter:function(){Tt=!0},useSimple:function(){Tt=!1}}),c({target:"Object",stat:!0,forced:!C,sham:!S},{create:function(Ce,Me){return Me===void 0?V(Ce):_r(V(Ce),Me)},defineProperty:vr,defineProperties:_r,getOwnPropertyDescriptor:Jn}),c({target:"Object",stat:!0,forced:!C},{getOwnPropertyNames:Ap}),we(),Se(Rt,ye),Ne[de]=!0},6801:function(v,x,a){var c=a(3724),f=a(8686),p=a(4913),m=a(8551),_=a(5397),S=a(1072);x.f=c&&!f?Object.defineProperties:function(C,E){m(C);for(var N,O=_(E),D=S(E),A=D.length,j=0;A>j;)p.f(C,N=D[j++],O[N]);return C}},6823:function(v){var x=String;v.exports=function(a){try{return x(a)}catch(c){return"Object"}}},6837:function(v){var x=TypeError;v.exports=function(a){if(a>9007199254740991)throw x("Maximum allowed index exceeded");return a}},6840:function(v,x,a){var c=a(4901),f=a(4913),p=a(283),m=a(9433);v.exports=function(_,S,C,E){E||(E={});var N=E.enumerable,O=E.name!==void 0?E.name:S;if(c(C)&&p(C,O,E),E.global)N?_[S]=C:m(S,C);else{try{E.unsafe?_[S]&&(N=!0):delete _[S]}catch(D){}N?_[S]=C:f.f(_,S,{value:C,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return _}},6910:function(v,x,a){var c=a(6518),f=a(9504),p=a(9306),m=a(8981),_=a(6198),S=a(4606),C=a(655),E=a(9039),N=a(4488),O=a(4598),D=a(3709),A=a(3763),j=a(9519),R=a(3607),U=[],V=f(U.sort),z=f(U.push),$=E(function(){U.sort(void 0)}),W=E(function(){U.sort(null)}),Z=O("sort"),q=!E(function(){if(j)return j<70;if(!(D&&D>3)){if(A)return!0;if(R)return R<603;var G,te,ie,X,ce="";for(G=65;G<76;G++){switch(te=String.fromCharCode(G),G){case 66:case 69:case 70:case 72:ie=3;break;case 68:case 71:ie=4;break;default:ie=2}for(X=0;X<47;X++)U.push({k:te+X,v:ie})}for(U.sort(function(se,oe){return oe.v-se.v}),X=0;X<U.length;X++)te=U[X].k.charAt(0),ce.charAt(ce.length-1)!==te&&(ce+=te);return ce!=="DGBEFHACIJK"}});c({target:"Array",proto:!0,forced:$||!W||!Z||!q},{sort:function(G){G!==void 0&&p(G);var te=m(this);if(q)return G===void 0?V(te):V(te,G);var ie,X,ce=[],se=_(te);for(X=0;X<se;X++)X in te&&z(ce,te[X]);for(N(ce,function(oe){return function(Ne,ke){return ke===void 0?-1:Ne===void 0?1:oe!==void 0?+oe(Ne,ke)||0:C(Ne)>C(ke)?1:-1}}(G)),ie=_(ce),X=0;X<ie;)te[X]=ce[X++];for(;X<se;)S(te,X++);return te}})},6933:function(v,x,a){var c=a(9504),f=a(4376),p=a(4901),m=a(2195),_=a(655),S=c([].push);v.exports=function(C){if(p(C))return C;if(f(C)){for(var E=C.length,N=[],O=0;O<E;O++){var D=C[O];typeof D=="string"?S(N,D):typeof D!="number"&&m(D)!=="Number"&&m(D)!=="String"||S(N,_(D))}var A=N.length,j=!0;return function(R,U){if(j)return j=!1,U;if(f(this))return U;for(var V=0;V<A;V++)if(N[V]===R)return U}}}},6955:function(v,x,a){var c=a(2140),f=a(4901),p=a(2195),m=a(8227)("toStringTag"),_=Object,S=p(function(){return arguments}())==="Arguments";v.exports=c?p:function(C){var E,N,O;return C===void 0?"Undefined":C===null?"Null":typeof(N=function(D,A){try{return D[A]}catch(j){}}(E=_(C),m))=="string"?N:S?p(E):(O=p(E))==="Object"&&f(E.callee)?"Arguments":O}},6969:function(v,x,a){var c=a(2777),f=a(757);v.exports=function(p){var m=c(p,"string");return f(m)?m:m+""}},6980:function(v){v.exports=function(x,a){return{enumerable:!(1&x),configurable:!(2&x),writable:!(4&x),value:a}}},7040:function(v,x,a){var c=a(4495);v.exports=c&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},7055:function(v,x,a){var c=a(9504),f=a(9039),p=a(2195),m=Object,_=c("".split);v.exports=f(function(){return!m("z").propertyIsEnumerable(0)})?function(S){return p(S)==="String"?_(S,""):m(S)}:m},7323:function(v,x,a){var c,f,p=a(9565),m=a(9504),_=a(655),S=a(7979),C=a(8429),E=a(5745),N=a(2360),O=a(1181).get,D=a(3635),A=a(8814),j=E("native-string-replace",String.prototype.replace),R=RegExp.prototype.exec,U=R,V=m("".charAt),z=m("".indexOf),$=m("".replace),W=m("".slice),Z=(f=/b*/g,p(R,c=/a/,"a"),p(R,f,"a"),c.lastIndex!==0||f.lastIndex!==0),q=C.BROKEN_CARET,G=/()??/.exec("")[1]!==void 0;(Z||G||q||D||A)&&(U=function(te){var ie,X,ce,se,oe,Ne,ke,le=this,Ee=O(le),xe=_(te),we=Ee.raw;if(we)return we.lastIndex=le.lastIndex,ie=p(U,we,xe),le.lastIndex=we.lastIndex,ie;var Se=Ee.groups,Te=q&&le.sticky,he=p(S,le),de=le.source,ye=0,Re=xe;if(Te&&(he=$(he,"y",""),z(he,"g")===-1&&(he+="g"),Re=W(xe,le.lastIndex),le.lastIndex>0&&(!le.multiline||le.multiline&&V(xe,le.lastIndex-1)!==`
`)&&(de="(?: "+de+")",Re=" "+Re,ye++),X=new RegExp("^(?:"+de+")",he)),G&&(X=new RegExp("^"+de+"$(?!\\s)",he)),Z&&(ce=le.lastIndex),se=p(R,Te?X:le,Re),Te?se?(se.input=W(se.input,ye),se[0]=W(se[0],ye),se.index=le.lastIndex,le.lastIndex+=se[0].length):le.lastIndex=0:Z&&se&&(le.lastIndex=le.global?se.index+se[0].length:ce),G&&se&&se.length>1&&p(j,se[0],X,function(){for(oe=1;oe<arguments.length-2;oe++)arguments[oe]===void 0&&(se[oe]=void 0)}),se&&Se)for(se.groups=Ne=N(null),oe=0;oe<Se.length;oe++)Ne[(ke=Se[oe])[0]]=se[ke[1]];return se}),v.exports=U},7347:function(v,x,a){var c=a(3724),f=a(9565),p=a(8773),m=a(6980),_=a(5397),S=a(6969),C=a(9297),E=a(5917),N=Object.getOwnPropertyDescriptor;x.f=c?N:function(O,D){if(O=_(O),D=S(D),E)try{return N(O,D)}catch(A){}if(C(O,D))return m(!f(p.f,O,D),O[D])}},7400:function(v){v.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7427:function(v,x,a){var c=a(6518),f=a(3724),p=a(2551),m=a(9306),_=a(8981),S=a(4913);f&&c({target:"Object",proto:!0,forced:p},{__defineGetter__:function(C,E){S.f(_(this),C,{get:m(E),enumerable:!0,configurable:!0})}})},7433:function(v,x,a){var c=a(4376),f=a(3517),p=a(34),m=a(8227)("species"),_=Array;v.exports=function(S){var C;return c(S)&&(C=S.constructor,(f(C)&&(C===_||c(C.prototype))||p(C)&&(C=C[m])===null)&&(C=void 0)),C===void 0?_:C}},7452:function(v){v.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},7476:function(v,x,a){var c=a(2195),f=a(9504);v.exports=function(p){if(c(p)==="Function")return f(p)}},7495:function(v,x,a){var c=a(6518),f=a(7323);c({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},7629:function(v,x,a){var c=a(6395),f=a(4576),p=a(9433),m="__core-js_shared__",_=v.exports=f[m]||p(m,{});(_.versions||(_.versions=[])).push({version:"3.45.0",mode:c?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:function(v,x,a){var c=a(7751),f=a(2106),p=a(8227),m=a(3724),_=p("species");v.exports=function(S){var C=c(S);m&&C&&!C[_]&&f(C,_,{configurable:!0,get:function(){return this}})}},7657:function(v,x,a){var c,f,p,m=a(9039),_=a(4901),S=a(34),C=a(2360),E=a(2787),N=a(6840),O=a(8227),D=a(6395),A=O("iterator"),j=!1;[].keys&&("next"in(p=[].keys())?(f=E(E(p)))!==Object.prototype&&(c=f):j=!0),!S(c)||m(function(){var R={};return c[A].call(R)!==R})?c={}:D&&(c=C(c)),_(c[A])||N(c,A,function(){return this}),v.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:j}},7680:function(v,x,a){var c=a(9504);v.exports=c([].slice)},7740:function(v,x,a){var c=a(9297),f=a(5031),p=a(7347),m=a(4913);v.exports=function(_,S,C){for(var E=f(S),N=m.f,O=p.f,D=0;D<E.length;D++){var A=E[D];c(_,A)||C&&c(C,A)||N(_,A,O(S,A))}}},7750:function(v,x,a){var c=a(4117),f=TypeError;v.exports=function(p){if(c(p))throw new f("Can't call method on "+p);return p}},7751:function(v,x,a){var c=a(4576),f=a(4901);v.exports=function(p,m){return arguments.length<2?(_=c[p],f(_)?_:void 0):c[p]&&c[p][m];var _}},7764:function(v,x,a){var c=a(8183).charAt,f=a(655),p=a(1181),m=a(1088),_=a(2529),S="String Iterator",C=p.set,E=p.getterFor(S);m(String,"String",function(N){C(this,{type:S,string:f(N),index:0})},function(){var N,O=E(this),D=O.string,A=O.index;return A>=D.length?_(void 0,!0):(N=c(D,A),O.index+=N.length,_(N,!1))})},7812:function(v,x,a){var c=a(6518),f=a(9297),p=a(757),m=a(6823),_=a(5745),S=a(1296),C=_("symbol-to-string-registry");c({target:"Symbol",stat:!0,forced:!S},{keyFor:function(E){if(!p(E))throw new TypeError(m(E)+" is not a symbol");if(f(C,E))return C[E]}})},7829:function(v,x,a){var c=a(8183).charAt;v.exports=function(f,p,m){return p+(m?c(f,p).length:1)}},7916:function(v,x,a){var c=a(6080),f=a(9565),p=a(8981),m=a(6319),_=a(4209),S=a(3517),C=a(6198),E=a(4659),N=a(81),O=a(851),D=Array;v.exports=function(A){var j=p(A),R=S(this),U=arguments.length,V=U>1?arguments[1]:void 0,z=V!==void 0;z&&(V=c(V,U>2?arguments[2]:void 0));var $,W,Z,q,G,te,ie=O(j),X=0;if(!ie||this===D&&_(ie))for($=C(j),W=R?new this($):D($);$>X;X++)te=z?V(j[X],X):j[X],E(W,X,te);else for(W=R?new this:[],G=(q=N(j,ie)).next;!(Z=f(G,q)).done;X++)te=z?m(q,V,[Z.value,X],!0):Z.value,E(W,X,te);return W.length=X,W}},7979:function(v,x,a){var c=a(8551);v.exports=function(){var f=c(this),p="";return f.hasIndices&&(p+="d"),f.global&&(p+="g"),f.ignoreCase&&(p+="i"),f.multiline&&(p+="m"),f.dotAll&&(p+="s"),f.unicode&&(p+="u"),f.unicodeSets&&(p+="v"),f.sticky&&(p+="y"),p}},8014:function(v,x,a){var c=a(1291),f=Math.min;v.exports=function(p){var m=c(p);return m>0?f(m,9007199254740991):0}},8183:function(v,x,a){var c=a(9504),f=a(1291),p=a(655),m=a(7750),_=c("".charAt),S=c("".charCodeAt),C=c("".slice),E=function(N){return function(O,D){var A,j,R=p(m(O)),U=f(D),V=R.length;return U<0||U>=V?N?"":void 0:(A=S(R,U))<55296||A>56319||U+1===V||(j=S(R,U+1))<56320||j>57343?N?_(R,U):A:N?C(R,U,U+2):j-56320+(A-55296<<10)+65536}};v.exports={codeAt:E(!1),charAt:E(!0)}},8227:function(v,x,a){var c=a(4576),f=a(5745),p=a(9297),m=a(3392),_=a(4495),S=a(7040),C=c.Symbol,E=f("wks"),N=S?C.for||C:C&&C.withoutSetter||m;v.exports=function(O){return p(E,O)||(E[O]=_&&p(C,O)?C[O]:N("Symbol."+O)),E[O]}},8242:function(v,x,a){var c=a(9565),f=a(7751),p=a(8227),m=a(6840);v.exports=function(){var _=f("Symbol"),S=_&&_.prototype,C=S&&S.valueOf,E=p("toPrimitive");S&&!S[E]&&m(S,E,function(N){return c(C,this)},{arity:1})}},8344:function(v,x,a){a(8543)},8429:function(v,x,a){var c=a(9039),f=a(4576).RegExp,p=c(function(){var S=f("a","y");return S.lastIndex=2,S.exec("abcd")!==null}),m=p||c(function(){return!f("a","y").sticky}),_=p||c(function(){var S=f("^r","gy");return S.lastIndex=2,S.exec("str")!==null});v.exports={BROKEN_CARET:_,MISSED_STICKY:m,UNSUPPORTED_Y:p}},8480:function(v,x,a){var c=a(1828),f=a(8727).concat("length","prototype");x.f=Object.getOwnPropertyNames||function(p){return c(p,f)}},8543:function(v,x,a){var c=a(6518),f=a(9565),p=a(7476),m=a(3994),_=a(2529),S=a(7750),C=a(8014),E=a(655),N=a(8551),O=a(34),D=a(2195),A=a(788),j=a(1034),R=a(5966),U=a(6840),V=a(9039),z=a(8227),$=a(2293),W=a(7829),Z=a(6682),q=a(1181),G=a(6395),te=z("matchAll"),ie="RegExp String",X=ie+" Iterator",ce=q.set,se=q.getterFor(X),oe=RegExp.prototype,Ne=TypeError,ke=p("".indexOf),le=p("".matchAll),Ee=!!le&&!V(function(){le("a",/./)}),xe=m(function(Se,Te,he,de){ce(this,{type:X,regexp:Se,string:Te,global:he,unicode:de,done:!1})},ie,function(){var Se=se(this);if(Se.done)return _(void 0,!0);var Te=Se.regexp,he=Se.string,de=Z(Te,he);return de===null?(Se.done=!0,_(void 0,!0)):Se.global?(E(de[0])===""&&(Te.lastIndex=W(he,C(Te.lastIndex),Se.unicode)),_(de,!1)):(Se.done=!0,_(de,!1))}),we=function(Se){var Te,he,de,ye=N(this),Re=E(Se),je=$(ye,RegExp),We=E(j(ye));return Te=new je(je===RegExp?ye.source:ye,We),he=!!~ke(We,"g"),de=!!~ke(We,"u"),Te.lastIndex=C(ye.lastIndex),new xe(Te,Re,he,de)};c({target:"String",proto:!0,forced:Ee},{matchAll:function(Se){var Te,he,de,ye,Re=S(this);if(O(Se)){if(A(Se)&&(Te=E(S(j(Se))),!~ke(Te,"g")))throw new Ne("`.matchAll` does not allow non-global regexes");if(Ee)return le(Re,Se);if((de=R(Se,te))===void 0&&G&&D(Se)==="RegExp"&&(de=we),de)return f(de,Se,Re)}else if(Ee)return le(Re,Se);return he=E(Re),ye=new RegExp(Se,"g"),G?f(we,ye,he):ye[te](he)}}),G||te in oe||U(oe,te,we)},8551:function(v,x,a){var c=a(34),f=String,p=TypeError;v.exports=function(m){if(c(m))return m;throw new p(f(m)+" is not an object")}},8598:function(v,x,a){var c=a(6518),f=a(9504),p=a(7055),m=a(5397),_=a(4598),S=f([].join);c({target:"Array",proto:!0,forced:p!==Object||!_("join",",")},{join:function(C){return S(m(this),C===void 0?",":C)}})},8622:function(v,x,a){var c=a(4576),f=a(4901),p=c.WeakMap;v.exports=f(p)&&/native code/.test(String(p))},8686:function(v,x,a){var c=a(3724),f=a(9039);v.exports=c&&f(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},8706:function(v,x,a){var c=a(6518),f=a(9039),p=a(4376),m=a(34),_=a(8981),S=a(6198),C=a(6837),E=a(4659),N=a(1469),O=a(597),D=a(8227),A=a(9519),j=D("isConcatSpreadable"),R=A>=51||!f(function(){var V=[];return V[j]=!1,V.concat()[0]!==V}),U=function(V){if(!m(V))return!1;var z=V[j];return z!==void 0?!!z:p(V)};c({target:"Array",proto:!0,arity:1,forced:!R||!O("concat")},{concat:function(V){var z,$,W,Z,q,G=_(this),te=N(G,0),ie=0;for(z=-1,W=arguments.length;z<W;z++)if(U(q=z===-1?G:arguments[z]))for(Z=S(q),C(ie+Z),$=0;$<Z;$++,ie++)$ in q&&E(te,ie,q[$]);else C(ie+1),E(te,ie++,q);return te.length=ie,te}})},8727:function(v){v.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:function(v,x,a){var c=a(616),f=Function.prototype,p=f.apply,m=f.call;v.exports=typeof Reflect=="object"&&Reflect.apply||(c?m.bind(p):function(){return m.apply(p,arguments)})},8773:function(v,x){var a={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,f=c&&!a.call({1:2},1);x.f=f?function(p){var m=c(this,p);return!!m&&m.enumerable}:a},8781:function(v,x,a){var c=a(350).PROPER,f=a(6840),p=a(8551),m=a(655),_=a(9039),S=a(1034),C="toString",E=RegExp.prototype,N=E[C],O=_(function(){return N.call({source:"a",flags:"b"})!=="/a/b"}),D=c&&N.name!==C;(O||D)&&f(E,C,function(){var A=p(this);return"/"+m(A.source)+"/"+m(S(A))},{unsafe:!0})},8814:function(v,x,a){var c=a(9039),f=a(4576).RegExp;v.exports=c(function(){var p=f("(?<a>b)","g");return p.exec("b").groups.a!=="b"||"b".replace(p,"$<a>c")!=="bc"})},8981:function(v,x,a){var c=a(7750),f=Object;v.exports=function(p){return f(c(p))}},9039:function(v){v.exports=function(x){try{return!!x()}catch(a){return!0}}},9085:function(v,x,a){var c=a(6518),f=a(4213);c({target:"Object",stat:!0,arity:2,forced:Object.assign!==f},{assign:f})},9167:function(v,x,a){var c=a(4576);v.exports=c},9213:function(v,x,a){var c=a(6080),f=a(9504),p=a(7055),m=a(8981),_=a(6198),S=a(1469),C=f([].push),E=function(N){var O=N===1,D=N===2,A=N===3,j=N===4,R=N===6,U=N===7,V=N===5||R;return function(z,$,W,Z){for(var q,G,te=m(z),ie=p(te),X=_(ie),ce=c($,W),se=0,oe=Z||S,Ne=O?oe(z,X):D||U?oe(z,0):void 0;X>se;se++)if((V||se in ie)&&(G=ce(q=ie[se],se,te),N))if(O)Ne[se]=G;else if(G)switch(N){case 3:return!0;case 5:return q;case 6:return se;case 2:C(Ne,q)}else switch(N){case 4:return!1;case 7:C(Ne,q)}return R?-1:A||j?j:Ne}};v.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}},9228:function(v,x,a){a(7495);var c=a(9565),f=a(6840),p=a(7323),m=a(9039),_=a(8227),S=a(6699),C=_("species"),E=RegExp.prototype;v.exports=function(N,O,D,A){var j=_(N),R=!m(function(){var $={};return $[j]=function(){return 7},""[N]($)!==7}),U=R&&!m(function(){var $=!1,W=/a/;return N==="split"&&((W={}).constructor={},W.constructor[C]=function(){return W},W.flags="",W[j]=/./[j]),W.exec=function(){return $=!0,null},W[j](""),!$});if(!R||!U||D){var V=/./[j],z=O(j,""[N],function($,W,Z,q,G){var te=W.exec;return te===p||te===E.exec?R&&!G?{done:!0,value:c(V,W,Z,q)}:{done:!0,value:c($,Z,W,q)}:{done:!1}});f(String.prototype,N,z[0]),f(E,j,z[1])}A&&S(E[j],"sham",!0)}},9296:function(v,x,a){var c=a(4055)("span").classList,f=c&&c.constructor&&c.constructor.prototype;v.exports=f===Object.prototype?void 0:f},9297:function(v,x,a){var c=a(9504),f=a(8981),p=c({}.hasOwnProperty);v.exports=Object.hasOwn||function(m,_){return p(f(m),_)}},9306:function(v,x,a){var c=a(4901),f=a(6823),p=TypeError;v.exports=function(m){if(c(m))return m;throw new p(f(m)+" is not a function")}},9432:function(v,x,a){var c=a(6518),f=a(8981),p=a(1072);c({target:"Object",stat:!0,forced:a(9039)(function(){p(1)})},{keys:function(m){return p(f(m))}})},9433:function(v,x,a){var c=a(4576),f=Object.defineProperty;v.exports=function(p,m){try{f(c,p,{value:m,configurable:!0,writable:!0})}catch(_){c[p]=m}return m}},9463:function(v,x,a){var c=a(6518),f=a(3724),p=a(4576),m=a(9504),_=a(9297),S=a(4901),C=a(1625),E=a(655),N=a(2106),O=a(7740),D=p.Symbol,A=D&&D.prototype;if(f&&S(D)&&(!("description"in A)||D().description!==void 0)){var j={},R=function(){var q=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),G=C(A,this)?new D(q):q===void 0?D():D(q);return q===""&&(j[G]=!0),G};O(R,D),R.prototype=A,A.constructor=R;var U=String(D("description detection"))==="Symbol(description detection)",V=m(A.valueOf),z=m(A.toString),$=/^Symbol\((.*)\)[^)]+$/,W=m("".replace),Z=m("".slice);N(A,"description",{configurable:!0,get:function(){var q=V(this);if(_(j,q))return"";var G=z(q),te=U?Z(G,7,-1):W(G,$,"$1");return te===""?void 0:te}}),c({global:!0,constructor:!0,forced:!0},{Symbol:R})}},9504:function(v,x,a){var c=a(616),f=Function.prototype,p=f.call,m=c&&f.bind.bind(p,p);v.exports=c?m:function(_){return function(){return p.apply(_,arguments)}}},9519:function(v,x,a){var c,f,p=a(4576),m=a(2839),_=p.process,S=p.Deno,C=_&&_.versions||S&&S.version,E=C&&C.v8;E&&(f=(c=E.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!f&&m&&(!(c=m.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=m.match(/Chrome\/(\d+)/))&&(f=+c[1]),v.exports=f},9539:function(v,x,a){var c=a(9565),f=a(8551),p=a(5966);v.exports=function(m,_,S){var C,E;f(m);try{if(!(C=p(m,"return"))){if(_==="throw")throw S;return S}C=c(C,m)}catch(N){E=!0,C=N}if(_==="throw")throw S;if(E)throw C;return f(C),S}},9565:function(v,x,a){var c=a(616),f=Function.prototype.call;v.exports=c?f.bind(f):function(){return f.apply(f,arguments)}},9572:function(v,x,a){var c=a(9297),f=a(6840),p=a(3640),m=a(8227)("toPrimitive"),_=Date.prototype;c(_,m)||f(_,m,p)},9617:function(v,x,a){var c=a(5397),f=a(5610),p=a(6198),m=function(_){return function(S,C,E){var N=c(S),O=p(N);if(O===0)return!_&&-1;var D,A=f(E,O);if(_&&C!=C){for(;O>A;)if((D=N[A++])!=D)return!0}else for(;O>A;A++)if((_||A in N)&&N[A]===C)return _||A||0;return!_&&-1}};v.exports={includes:m(!0),indexOf:m(!1)}},9773:function(v,x,a){var c=a(6518),f=a(4495),p=a(9039),m=a(3717),_=a(8981);c({target:"Object",stat:!0,forced:!f||p(function(){m.f(1)})},{getOwnPropertySymbols:function(S){var C=m.f;return C?C(_(S)):[]}})}},d={};function h(v){var x=d[v];if(x!==void 0)return x.exports;var a=d[v]={exports:{}};return u[v].call(a.exports,a,a.exports,h),a.exports}h.d=function(v,x){for(var a in x)h.o(x,a)&&!h.o(v,a)&&Object.defineProperty(v,a,{enumerable:!0,get:x[a]})},h.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(v){if(typeof window=="object")return window}}(),h.o=function(v,x){return Object.prototype.hasOwnProperty.call(v,x)},h.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var g={};function y(v){return function(x){if(Array.isArray(x))return I(x)}(v)||function(x){if(typeof Symbol!="undefined"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(v)||w(v)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(v,x){if(v){if(typeof v=="string")return I(v,x);var a={}.toString.call(v).slice(8,-1);return a==="Object"&&v.constructor&&(a=v.constructor.name),a==="Map"||a==="Set"?Array.from(v):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?I(v,x):void 0}}function I(v,x){(x==null||x>v.length)&&(x=v.length);for(var a=0,c=Array(x);a<x;a++)c[a]=v[a];return c}function k(v){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},k(v)}function B(v,x){for(var a=0;a<x.length;a++){var c=x[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,T(c.key),c)}}function b(v,x,a){return(x=T(x))in v?Object.defineProperty(v,x,{value:a,enumerable:!0,configurable:!0,writable:!0}):v[x]=a,v}function T(v){var x=function(a,c){if(k(a)!="object"||!a)return a;var f=a[Symbol.toPrimitive];if(f!==void 0){var p=f.call(a,c||"default");if(k(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}(v,"string");return k(x)=="symbol"?x:x+""}h.r(g),h.d(g,{SimpleKeyboard:function(){return jn},default:function(){return Os}}),h(5276),h(8598),h(4782),h(4554),h(2010),h(7427),h(6099),h(7495),h(8781),h(5440),h(744),h(2762),typeof Element=="undefined"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self!="undefined"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(v){if("Element"in v){var x="classList",a="prototype",c=v.Element[a],f=Object,p=String[a].trim||function(){return this.replace(/^\s+|\s+$/g,"")},m=Array[a].indexOf||function(D){for(var A=0,j=this.length;A<j;A++)if(A in this&&this[A]===D)return A;return-1},_=function(D,A){this.name=D,this.code=DOMException[D],this.message=A},S=function(D,A){if(A==="")throw new _("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(A))throw new _("INVALID_CHARACTER_ERR","The token must not contain space characters.");return m.call(D,A)},C=function(D){for(var A=p.call(D.getAttribute("class")||""),j=A?A.split(/\s+/):[],R=0,U=j.length;R<U;R++)this.push(j[R]);this._updateClassName=function(){D.setAttribute("class",this.toString())}},E=C[a]=[],N=function(){return new C(this)};if(_[a]=Error[a],E.item=function(D){return this[D]||null},E.contains=function(D){return~S(this,D+"")},E.add=function(){var D,A=arguments,j=0,R=A.length,U=!1;do~S(this,D=A[j]+"")||(this.push(D),U=!0);while(++j<R);U&&this._updateClassName()},E.remove=function(){var D,A,j=arguments,R=0,U=j.length,V=!1;do for(A=S(this,D=j[R]+"");~A;)this.splice(A,1),V=!0,A=S(this,D);while(++R<U);V&&this._updateClassName()},E.toggle=function(D,A){var j=this.contains(D),R=j?A!==!0&&"remove":A!==!1&&"add";return R&&this[R](D),A===!0||A===!1?A:!j},E.replace=function(D,A){var j=S(D+"");~j&&(this.splice(j,1,A),this._updateClassName())},E.toString=function(){return this.join(" ")},f.defineProperty){var O={get:N,enumerable:!0,configurable:!0};try{f.defineProperty(c,x,O)}catch(D){D.number!==void 0&&D.number!==-2146823252||(O.enumerable=!1,f.defineProperty(c,x,O))}}else f[a].__defineGetter__&&c.__defineGetter__(x,N)}}(self),function(){var v=document.createElement("_");if(v.classList.add("c1","c2"),!v.classList.contains("c2")){var x=function(c){var f=DOMTokenList.prototype[c];DOMTokenList.prototype[c]=function(p){var m,_=arguments.length;for(m=0;m<_;m++)p=arguments[m],f.call(this,p)}};x("add"),x("remove")}if(v.classList.toggle("c3",!1),v.classList.contains("c3")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,f){return 1 in arguments&&!this.contains(c)==!f?f:a.call(this,c)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(c,f){var p=this.toString().split(" "),m=p.indexOf(c+"");~m&&(p=p.slice(m),this.remove.apply(this,p),this.add(f),this.add.apply(this,p.slice(1)))}),v=null}()),h(2675),h(9463),h(2259),h(5700),h(8706),h(2008),h(3418),h(4423),h(3792),h(2062),h(6910),h(739),h(9572),h(2892),h(9085),h(3851),h(1278),h(9432),h(4864),h(1699),h(7764),h(8344),h(3500),h(2953),h(2712),h(2637),h(1480),h(825),h(1761);var P=function(){return v=function c(f){var p=f.getOptions,m=f.getCaretPosition,_=f.getCaretPositionEnd,S=f.dispatch;(function(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")})(this,c),b(this,"getOptions",void 0),b(this,"getCaretPosition",void 0),b(this,"getCaretPositionEnd",void 0),b(this,"dispatch",void 0),b(this,"maxLengthReached",void 0),b(this,"isStandardButton",function(C){return C&&!(C[0]==="{"&&C[C.length-1]==="}")}),this.getOptions=p,this.getCaretPosition=m,this.getCaretPositionEnd=_,this.dispatch=S,c.bindMethods(c,this)},x=[{key:"getButtonType",value:function(c){return c.includes("{")&&c.includes("}")&&c!=="{//}"?"functionBtn":"standardBtn"}},{key:"getButtonClass",value:function(c){var f=this.getButtonType(c),p=c.replace("{","").replace("}",""),m="";return f!=="standardBtn"&&(m=" hg-button-".concat(p)),"hg-".concat(f).concat(m)}},{key:"getDefaultDiplay",value:function(){return{"{bksp}":"backspace","{backspace}":"backspace","{enter}":"< enter","{shift}":"shift","{shiftleft}":"shift","{shiftright}":"shift","{alt}":"alt","{s}":"shift","{tab}":"tab","{lock}":"caps","{capslock}":"caps","{accept}":"Submit","{space}":" ","{//}":" ","{esc}":"esc","{escape}":"esc","{f1}":"f1","{f2}":"f2","{f3}":"f3","{f4}":"f4","{f5}":"f5","{f6}":"f6","{f7}":"f7","{f8}":"f8","{f9}":"f9","{f10}":"f10","{f11}":"f11","{f12}":"f12","{numpaddivide}":"/","{numlock}":"lock","{arrowup}":"↑","{arrowleft}":"←","{arrowdown}":"↓","{arrowright}":"→","{prtscr}":"print","{scrolllock}":"scroll","{pause}":"pause","{insert}":"ins","{home}":"home","{pageup}":"up","{delete}":"del","{forwarddelete}":"del","{end}":"end","{pagedown}":"down","{numpadmultiply}":"*","{numpadsubtract}":"-","{numpadadd}":"+","{numpadenter}":"enter","{period}":".","{numpaddecimal}":".","{numpad0}":"0","{numpad1}":"1","{numpad2}":"2","{numpad3}":"3","{numpad4}":"4","{numpad5}":"5","{numpad6}":"6","{numpad7}":"7","{numpad8}":"8","{numpad9}":"9"}}},{key:"getButtonDisplayName",value:function(c,f){return(f=arguments.length>2&&arguments[2]!==void 0&&arguments[2]?Object.assign({},this.getDefaultDiplay(),f):f||this.getDefaultDiplay())[c]||c}},{key:"getUpdatedInput",value:function(c,f,p){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p,_=arguments.length>4&&arguments[4]!==void 0&&arguments[4],S=this.getOptions(),C=[p,m,_],E=f;return(c==="{bksp}"||c==="{backspace}")&&E.length>0?E=this.removeAt.apply(this,[E].concat(C)):(c==="{delete}"||c==="{forwarddelete}")&&E.length>0?E=this.removeForwardsAt.apply(this,[E].concat(C)):c==="{space}"?E=this.addStringAt.apply(this,[E," "].concat(C)):c!=="{tab}"||typeof S.tabCharOnTab=="boolean"&&S.tabCharOnTab===!1?c!=="{enter}"&&c!=="{numpadenter}"||!S.newLineOnEnter?c.includes("numpad")&&Number.isInteger(Number(c[c.length-2]))?E=this.addStringAt.apply(this,[E,c[c.length-2]].concat(C)):c==="{numpaddivide}"?E=this.addStringAt.apply(this,[E,"/"].concat(C)):c==="{numpadmultiply}"?E=this.addStringAt.apply(this,[E,"*"].concat(C)):c==="{numpadsubtract}"?E=this.addStringAt.apply(this,[E,"-"].concat(C)):c==="{numpadadd}"?E=this.addStringAt.apply(this,[E,"+"].concat(C)):c==="{numpaddecimal}"?E=this.addStringAt.apply(this,[E,"."].concat(C)):c==="{"||c==="}"?E=this.addStringAt.apply(this,[E,c].concat(C)):c.includes("{")||c.includes("}")||(E=this.addStringAt.apply(this,[E,c].concat(C))):E=this.addStringAt.apply(this,[E,`
`].concat(C)):E=this.addStringAt.apply(this,[E,"	"].concat(C)),S.debug&&console.log("Input will be: "+E),E}},{key:"updateCaretPos",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.updateCaretPosAction(c,f);this.dispatch(function(m){m.setCaretPosition(p)})}},{key:"updateCaretPosAction",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],p=this.getOptions(),m=this.getCaretPosition();return m!=null&&(f?m>0&&(m-=c):m+=c),p.debug&&console.log("Caret at:",m),m}},{key:"addStringAt",value:function(c,f){var p,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.length,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c.length,S=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return m||m===0?(p=[c.slice(0,m),f,c.slice(_)].join(""),this.isMaxLengthReached()||S&&this.updateCaretPos(f.length)):p=c+f,p}},{key:"removeAt",value:function(c){var f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.length,_=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(p===0&&m===0)return c;if(p===m){var S=/([\uD800-\uDBFF][\uDC00-\uDFFF])/g;p&&p>=0?c.substring(p-2,p).match(S)?(f=c.substr(0,p-2)+c.substr(p),_&&this.updateCaretPos(2,!0)):(f=c.substr(0,p-1)+c.substr(p),_&&this.updateCaretPos(1,!0)):c.slice(-2).match(S)?(f=c.slice(0,-2),_&&this.updateCaretPos(2,!0)):(f=c.slice(0,-1),_&&this.updateCaretPos(1,!0))}else f=c.slice(0,p)+c.slice(m),_&&this.dispatch(function(C){C.setCaretPosition(p)});return f}},{key:"removeForwardsAt",value:function(c){var f,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c.length,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:c.length,_=arguments.length>3&&arguments[3]!==void 0&&arguments[3];return c!=null&&c.length&&p!==null?(p===m?f=c.substring(p,p+2).match(/([\uD800-\uDBFF][\uDC00-\uDFFF])/g)?c.substr(0,p)+c.substr(p+2):c.substr(0,p)+c.substr(p+1):(f=c.slice(0,p)+c.slice(m),_&&this.dispatch(function(S){S.setCaretPosition(p)})),f):c}},{key:"handleMaxLength",value:function(c,f){var p=this.getOptions(),m=p.maxLength,_=c[p.inputName||"default"],S=f.length-1>=m;if(f.length<=_.length)return!1;if(Number.isInteger(m))return p.debug&&console.log("maxLength (num) reached:",S),S?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1);if(k(m)==="object"){var C=f.length-1>=m[p.inputName||"default"];return p.debug&&console.log("maxLength (obj) reached:",C),C?(this.maxLengthReached=!0,!0):(this.maxLengthReached=!1,!1)}}},{key:"isMaxLengthReached",value:function(){return!!this.maxLengthReached}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints}},{key:"pointerEventsSupported",value:function(){return!!window.PointerEvent}},{key:"camelCase",value:function(c){return c?c.toLowerCase().trim().split(/[.\-_\s]/g).reduce(function(f,p){return p.length?f+p[0].toUpperCase()+p.slice(1):f}):""}},{key:"chunkArray",value:function(c,f){return y(Array(Math.ceil(c.length/f))).map(function(p,m){return c.slice(f*m,f+f*m)})}},{key:"escapeRegex",value:function(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}},{key:"getRtlOffset",value:function(c,f){var p=c,m=f.indexOf("‫");return m<c&&m!=-1&&p--,f.indexOf("‬")<c&&m!=-1&&p--,p<0?0:p}},{key:"isConstructor",value:function(c){try{Reflect.construct(String,[],c)}catch(f){return!1}return!0}}],a=[{key:"bindMethods",value:function(c,f){var p,m=function(S,C){var E=typeof Symbol!="undefined"&&S[Symbol.iterator]||S["@@iterator"];if(!E){if(Array.isArray(S)||(E=w(S))||C&&S&&typeof S.length=="number"){E&&(S=E);var N=0,O=function(){};return{s:O,n:function(){return N>=S.length?{done:!0}:{done:!1,value:S[N++]}},e:function(R){throw R},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,A=!0,j=!1;return{s:function(){E=E.call(S)},n:function(){var R=E.next();return A=R.done,R},e:function(R){j=!0,D=R},f:function(){try{A||E.return==null||E.return()}finally{if(j)throw D}}}}(Object.getOwnPropertyNames(c.prototype));try{for(m.s();!(p=m.n()).done;){var _=p.value;_==="constructor"||_==="bindMethods"||(f[_]=f[_].bind(f))}}catch(S){m.e(S)}finally{m.f()}}}],x&&B(v.prototype,x),a&&B(v,a),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,x,a}();b(P,"noop",function(){});var L=P;function F(v){return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},F(v)}function H(v,x){for(var a=0;a<x.length;a++){var c=x[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,Y(c.key),c)}}function K(v,x,a){return(x=Y(x))in v?Object.defineProperty(v,x,{value:a,enumerable:!0,configurable:!0,writable:!0}):v[x]=a,v}function Y(v){var x=function(a,c){if(F(a)!="object"||!a)return a;var f=a[Symbol.toPrimitive];if(f!==void 0){var p=f.call(a,c||"default");if(F(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}(v,"string");return F(x)=="symbol"?x:x+""}var me=function(){return v=function c(f){var p=this,m=f.dispatch,_=f.getOptions;(function(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")})(this,c),K(this,"getOptions",void 0),K(this,"dispatch",void 0),K(this,"isModifierKey",function(S){return S.altKey||S.ctrlKey||S.shiftKey||["Tab","CapsLock","Esc","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(S.code||S.key||p.keyCodeToKey(S==null?void 0:S.keyCode))}),this.dispatch=m,this.getOptions=_,L.bindMethods(c,this)},x=[{key:"handleHighlightKeyDown",value:function(c){var f=this.getOptions();f.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(c)&&(c.preventDefault(),c.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(c);this.dispatch(function(m){var _,S,C=m.getButtonElement(p),E=m.getButtonElement("{".concat(p,"}"));if(C)_=C,S=p;else{if(!E)return;_=E,S="{".concat(p,"}")}var N,O,D,A,j=function(U){U.style.background=f.physicalKeyboardHighlightBgColor||"#dadce4",U.style.color=f.physicalKeyboardHighlightTextColor||"black"};if(_)if(Array.isArray(_)){if(_.forEach(function(U){return j(U)}),f.physicalKeyboardHighlightPress)if(f.physicalKeyboardHighlightPressUsePointerEvents)(N=_[0])===null||N===void 0||(O=N.onpointerdown)===null||O===void 0||O.call(N,c);else if(f.physicalKeyboardHighlightPressUseClick){var R;(R=_[0])===null||R===void 0||R.click()}else m.handleButtonClicked(S,c)}else j(_),f.physicalKeyboardHighlightPress&&(f.physicalKeyboardHighlightPressUsePointerEvents?(D=_)===null||D===void 0||(A=D.onpointerdown)===null||A===void 0||A.call(D,c):f.physicalKeyboardHighlightPressUseClick?_.click():m.handleButtonClicked(S,c))})}},{key:"handleHighlightKeyUp",value:function(c){var f=this.getOptions();f.physicalKeyboardHighlightPreventDefault&&this.isModifierKey(c)&&(c.preventDefault(),c.stopImmediatePropagation());var p=this.getSimpleKeyboardLayoutKey(c);this.dispatch(function(m){var _,S,C,E=m.getButtonElement(p)||m.getButtonElement("{".concat(p,"}")),N=function(O){O.removeAttribute&&O.removeAttribute("style")};E&&(Array.isArray(E)?(E.forEach(function(O){return N(O)}),f.physicalKeyboardHighlightPressUsePointerEvents&&((_=E[0])===null||_===void 0||(S=_.onpointerup)===null||S===void 0||S.call(_,c))):(N(E),f.physicalKeyboardHighlightPressUsePointerEvents&&(E==null||(C=E.onpointerup)===null||C===void 0||C.call(E,c))))})}},{key:"getSimpleKeyboardLayoutKey",value:function(c){var f,p="",m=c.code||c.key||this.keyCodeToKey(c==null?void 0:c.keyCode);return(p=m!=null&&m.includes("Numpad")||m!=null&&m.includes("Shift")||m!=null&&m.includes("Space")||m!=null&&m.includes("Backspace")||m!=null&&m.includes("Control")||m!=null&&m.includes("Alt")||m!=null&&m.includes("Meta")?c.code||"":c.key||this.keyCodeToKey(c==null?void 0:c.keyCode)||"").length>1?(f=p)===null||f===void 0?void 0:f.toLowerCase():p}},{key:"keyCodeToKey",value:function(c){return{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",107:"NumpadAdd",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}[c]||""}}],x&&H(v.prototype,x),a&&H(v,a),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,x,a}();function ue(v){return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},ue(v)}function ze(v,x){for(var a=0;a<x.length;a++){var c=x[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,ln(c.key),c)}}function mt(v,x,a){return(x=ln(x))in v?Object.defineProperty(v,x,{value:a,enumerable:!0,configurable:!0,writable:!0}):v[x]=a,v}function ln(v){var x=function(a,c){if(ue(a)!="object"||!a)return a;var f=a[Symbol.toPrimitive];if(f!==void 0){var p=f.call(a,c||"default");if(ue(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}(v,"string");return ue(x)=="symbol"?x:x+""}var Ln=function(){return v=function c(f){var p=f.utilities,m=f.options;(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,c),mt(this,"utilities",void 0),mt(this,"options",void 0),mt(this,"candidateBoxElement",void 0),mt(this,"pageIndex",0),mt(this,"pageSize",void 0),this.utilities=p,this.options=m,L.bindMethods(c,this),this.pageSize=this.utilities.getOptions().layoutCandidatesPageSize||5},x=[{key:"destroy",value:function(){this.candidateBoxElement&&(this.candidateBoxElement.remove(),this.pageIndex=0)}},{key:"show",value:function(c){var f=this,p=c.candidateValue,m=c.targetElement,_=c.onSelect;if(p&&p.length){var S=this.utilities.chunkArray(p.split(" "),this.pageSize);this.renderPage({candidateListPages:S,targetElement:m,pageIndex:this.pageIndex,nbPages:S.length,onItemSelected:function(C,E){_(C,E),f.destroy()}})}}},{key:"renderPage",value:function(c){var f,p=this,m=c.candidateListPages,_=c.targetElement,S=c.pageIndex,C=c.nbPages,E=c.onItemSelected;(f=this.candidateBoxElement)===null||f===void 0||f.remove(),this.candidateBoxElement=document.createElement("div"),this.candidateBoxElement.className="hg-candidate-box";var N=document.createElement("ul");N.className="hg-candidate-box-list",m[S].forEach(function(V){var z,$=document.createElement("li"),W=function(){var Z=new(p.options.useTouchEvents?TouchEvent:MouseEvent)("click");return Object.defineProperty(Z,"target",{value:$}),Z};$.className="hg-candidate-box-list-item",$.innerHTML=((z=p.options.display)===null||z===void 0?void 0:z[V])||V,p.options.useTouchEvents?$.ontouchstart=function(Z){return E(V,Z||W())}:$.onclick=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W();return E(V,Z)},N.appendChild($)});var O=S>0,D=document.createElement("div");D.classList.add("hg-candidate-box-prev"),O&&D.classList.add("hg-candidate-box-btn-active");var A=function(){O&&p.renderPage({candidateListPages:m,targetElement:_,pageIndex:S-1,nbPages:C,onItemSelected:E})};this.options.useTouchEvents?D.ontouchstart=A:D.onclick=A,this.candidateBoxElement.appendChild(D),this.candidateBoxElement.appendChild(N);var j=S<C-1,R=document.createElement("div");R.classList.add("hg-candidate-box-next"),j&&R.classList.add("hg-candidate-box-btn-active");var U=function(){j&&p.renderPage({candidateListPages:m,targetElement:_,pageIndex:S+1,nbPages:C,onItemSelected:E})};this.options.useTouchEvents?R.ontouchstart=U:R.onclick=U,this.candidateBoxElement.appendChild(R),_.prepend(this.candidateBoxElement)}}],x&&ze(v.prototype,x),a&&ze(v,a),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,x,a}(),Yn=Ln;function un(v){return function(x){if(Array.isArray(x))return Ye(x)}(v)||function(x){if(typeof Symbol!="undefined"&&x[Symbol.iterator]!=null||x["@@iterator"]!=null)return Array.from(x)}(v)||function(x,a){if(x){if(typeof x=="string")return Ye(x,a);var c={}.toString.call(x).slice(8,-1);return c==="Object"&&x.constructor&&(c=x.constructor.name),c==="Map"||c==="Set"?Array.from(x):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Ye(x,a):void 0}}(v)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ye(v,x){(x==null||x>v.length)&&(x=v.length);for(var a=0,c=Array(x);a<x;a++)c[a]=v[a];return c}function re(v){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},re(v)}function pe(v,x){var a=Object.keys(v);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(v);x&&(c=c.filter(function(f){return Object.getOwnPropertyDescriptor(v,f).enumerable})),a.push.apply(a,c)}return a}function ge(v,x){for(var a=0;a<x.length;a++){var c=x[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,lt(c.key),c)}}function fe(v,x,a){return(x=lt(x))in v?Object.defineProperty(v,x,{value:a,enumerable:!0,configurable:!0,writable:!0}):v[x]=a,v}function lt(v){var x=function(a,c){if(re(a)!="object"||!a)return a;var f=a[Symbol.toPrimitive];if(f!==void 0){var p=f.call(a,c||"default");if(re(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(c==="string"?String:Number)(a)}(v,"string");return re(x)=="symbol"?x:x+""}var ki=function(){return v=function c(f,p){var m=this;if(function(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}(this,c),fe(this,"input",void 0),fe(this,"options",void 0),fe(this,"utilities",void 0),fe(this,"caretPosition",void 0),fe(this,"caretPositionEnd",void 0),fe(this,"keyboardDOM",void 0),fe(this,"keyboardPluginClasses",void 0),fe(this,"keyboardDOMClass",void 0),fe(this,"buttonElements",void 0),fe(this,"currentInstanceName",void 0),fe(this,"allKeyboardInstances",void 0),fe(this,"keyboardInstanceNames",void 0),fe(this,"isFirstKeyboardInstance",void 0),fe(this,"physicalKeyboard",void 0),fe(this,"modules",void 0),fe(this,"activeButtonClass",void 0),fe(this,"holdInteractionTimeout",void 0),fe(this,"holdTimeout",void 0),fe(this,"isMouseHold",void 0),fe(this,"initialized",void 0),fe(this,"candidateBox",void 0),fe(this,"keyboardRowsDOM",void 0),fe(this,"defaultName","default"),fe(this,"activeInputElement",null),fe(this,"handleParams",function(A,j){var R,U,V;if(typeof A=="string")R=A.split(".").join(""),U=document.querySelector(".".concat(R)),V=j;else if(A instanceof HTMLDivElement){if(!A.className)throw console.warn("Any DOM element passed as parameter must have a class."),new Error("KEYBOARD_DOM_CLASS_ERROR");R=A.className.split(" ")[0],U=A,V=j}else R="simple-keyboard",U=document.querySelector(".".concat(R)),V=A;return{keyboardDOMClass:R,keyboardDOM:U,options:V}}),fe(this,"getOptions",function(){return m.options}),fe(this,"getCaretPosition",function(){return m.caretPosition}),fe(this,"getCaretPositionEnd",function(){return m.caretPositionEnd}),fe(this,"registerModule",function(A,j){m.modules[A]||(m.modules[A]={}),j(m.modules[A])}),fe(this,"getKeyboardClassString",function(){for(var A=arguments.length,j=new Array(A),R=0;R<A;R++)j[R]=arguments[R];return[m.keyboardDOMClass].concat(j).filter(function(U){return!!U}).join(" ")}),typeof window!="undefined"){var _=this.handleParams(f,p),S=_.keyboardDOMClass,C=_.keyboardDOM,E=_.options,N=E===void 0?{}:E;this.utilities=new L({getOptions:this.getOptions,getCaretPosition:this.getCaretPosition,getCaretPositionEnd:this.getCaretPositionEnd,dispatch:this.dispatch}),this.caretPosition=null,this.caretPositionEnd=null,this.keyboardDOM=C,this.options=function(A){for(var j=1;j<arguments.length;j++){var R=arguments[j]!=null?arguments[j]:{};j%2?pe(Object(R),!0).forEach(function(U){fe(A,U,R[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(R)):pe(Object(R)).forEach(function(U){Object.defineProperty(A,U,Object.getOwnPropertyDescriptor(R,U))})}return A}({layoutName:"default",theme:"hg-theme-default",inputName:"default",preventMouseDownDefault:!1,enableLayoutCandidates:!0,excludeFromLayout:{}},N),this.keyboardPluginClasses="",L.bindMethods(c,this);var O=this.options.inputName,D=O===void 0?this.defaultName:O;if(this.input={},this.input[D]="",this.keyboardDOMClass=S,this.buttonElements={},window.SimpleKeyboardInstances||(window.SimpleKeyboardInstances={}),this.currentInstanceName=this.utilities.camelCase(this.keyboardDOMClass),window.SimpleKeyboardInstances[this.currentInstanceName]=this,this.allKeyboardInstances=window.SimpleKeyboardInstances,this.keyboardInstanceNames=Object.keys(window.SimpleKeyboardInstances),this.isFirstKeyboardInstance=this.keyboardInstanceNames[0]===this.currentInstanceName,this.physicalKeyboard=new me({dispatch:this.dispatch,getOptions:this.getOptions}),this.candidateBox=this.options.enableLayoutCandidates?new Yn({utilities:this.utilities,options:this.options}):null,!this.keyboardDOM)throw console.warn('".'.concat(S,'" was not found in the DOM.')),new Error("KEYBOARD_DOM_ERROR");this.render(),this.modules={},this.loadModules()}},x=[{key:"setCaretPosition",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c;this.caretPosition=c,this.caretPositionEnd=f}},{key:"getInputCandidates",value:function(c){var f=this,p=this.options,m=p.layoutCandidates,_=p.layoutCandidatesCaseSensitiveMatch;if(!m||re(m)!=="object")return{};var S=Object.keys(m).filter(function(N){var O=c.substring(0,f.getCaretPositionEnd()||0)||c,D=new RegExp("".concat(f.utilities.escapeRegex(N),"$"),_?"g":"gi");return!!un(O.matchAll(D)).length});if(S.length>1){var C=S.sort(function(N,O){return O.length-N.length})[0];return{candidateKey:C,candidateValue:m[C]}}if(S.length){var E=S[0];return{candidateKey:E,candidateValue:m[E]}}return{}}},{key:"showCandidatesBox",value:function(c,f,p){var m=this;this.candidateBox&&this.candidateBox.show({candidateValue:f,targetElement:p,onSelect:function(_,S){var C=m.options,E=C.layoutCandidatesCaseSensitiveMatch,N=C.disableCandidateNormalization,O=C.enableLayoutCandidatesKeyPress,D=_;N||(D=_.normalize("NFD")),typeof m.options.beforeInputUpdate=="function"&&m.options.beforeInputUpdate(m);var A=m.getInput(m.options.inputName,!0),j=m.getCaretPositionEnd()||0,R=A.substring(0,j||0)||A,U=new RegExp("".concat(m.utilities.escapeRegex(c),"$"),E?"g":"gi"),V=R.replace(U,D),z=A.replace(R,V),$=V.length-R.length,W=(j||A.length)+$;W<0&&(W=0),m.setInput(z,m.options.inputName,!0),m.setCaretPosition(W),O&&typeof m.options.onKeyPress=="function"&&m.options.onKeyPress(_,S),typeof m.options.onChange=="function"&&m.options.onChange(m.getInput(m.options.inputName,!0),S),typeof m.options.onChangeAll=="function"&&m.options.onChangeAll(m.getAllInputs(),S)}})}},{key:"handleButtonClicked",value:function(c,f){var p=this.options,m=p.inputName,_=m===void 0?this.defaultName:m,S=p.debug;if(c!=="{//}"){this.input[_]||(this.input[_]=""),typeof this.options.beforeInputUpdate=="function"&&this.options.beforeInputUpdate(this);var C=this.utilities.getUpdatedInput(c,this.input[_],this.caretPosition,this.caretPositionEnd);if(this.utilities.isStandardButton(c)&&this.activeInputElement&&this.input[_]&&this.input[_]===C&&this.caretPosition===0&&this.caretPositionEnd===C.length)return this.setInput("",this.options.inputName,!0),this.setCaretPosition(0),this.activeInputElement.value="",this.activeInputElement.setSelectionRange(0,0),void this.handleButtonClicked(c,f);if(typeof this.options.onKeyPress=="function"&&this.options.onKeyPress(c,f),this.input[_]!==C&&(!this.options.inputPattern||this.options.inputPattern&&this.inputPatternIsValid(C))){if(this.options.maxLength&&this.utilities.handleMaxLength(this.input,C))return;var E=this.utilities.getUpdatedInput(c,this.input[_],this.caretPosition,this.caretPositionEnd,!0);if(this.setInput(E,this.options.inputName,!0),S&&console.log("Input changed:",this.getAllInputs()),this.options.debug&&console.log("Caret at: ",this.getCaretPosition(),this.getCaretPositionEnd(),"(".concat(this.keyboardDOMClass,")"),f==null?void 0:f.type),this.options.syncInstanceInputs&&this.syncInstanceInputs(),typeof this.options.onChange=="function"&&this.options.onChange(this.getInput(this.options.inputName,!0),f),typeof this.options.onChangeAll=="function"&&this.options.onChangeAll(this.getAllInputs(),f),f!=null&&f.target&&this.options.enableLayoutCandidates){var N,O=this.getInputCandidates(C),D=O.candidateKey,A=O.candidateValue;D&&A?this.showCandidatesBox(D,A,this.keyboardDOM):(N=this.candidateBox)===null||N===void 0||N.destroy()}}this.caretPositionEnd&&this.caretPosition!==this.caretPositionEnd&&(this.setCaretPosition(this.caretPositionEnd,this.caretPositionEnd),this.activeInputElement&&this.activeInputElement.setSelectionRange(this.caretPositionEnd,this.caretPositionEnd),this.options.debug&&console.log("Caret position aligned",this.caretPosition)),S&&console.log("Key pressed:",c)}}},{key:"getMouseHold",value:function(){return this.isMouseHold}},{key:"setMouseHold",value:function(c){this.options.syncInstanceInputs?this.dispatch(function(f){f.isMouseHold=c}):this.isMouseHold=c}},{key:"handleButtonMouseDown",value:function(c,f){var p=this;f&&(this.options.preventMouseDownDefault&&f.preventDefault(),this.options.stopMouseDownPropagation&&f.stopPropagation(),f.target.classList.add(this.activeButtonClass)),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdTimeout&&clearTimeout(this.holdTimeout),this.setMouseHold(!0),this.options.disableButtonHold||(this.holdTimeout=window.setTimeout(function(){(p.getMouseHold()&&(!c.includes("{")&&!c.includes("}")||c==="{delete}"||c==="{backspace}"||c==="{bksp}"||c==="{space}"||c==="{tab}")||c==="{arrowright}"||c==="{arrowleft}"||c==="{arrowup}"||c==="{arrowdown}")&&(p.options.debug&&console.log("Button held:",c),p.handleButtonHold(c)),clearTimeout(p.holdTimeout)},500))}},{key:"handleButtonMouseUp",value:function(c,f){var p=this;f&&(this.options.preventMouseUpDefault&&f.preventDefault&&f.preventDefault(),this.options.stopMouseUpPropagation&&f.stopPropagation&&f.stopPropagation(),!(f.target===this.keyboardDOM||f.target&&this.keyboardDOM.contains(f.target)||this.candidateBox&&this.candidateBox.candidateBoxElement&&(f.target===this.candidateBox.candidateBoxElement||f.target&&this.candidateBox.candidateBoxElement.contains(f.target)))&&this.candidateBox&&this.candidateBox.destroy()),this.recurseButtons(function(m){m.classList.remove(p.activeButtonClass)}),this.setMouseHold(!1),this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),c&&typeof this.options.onKeyReleased=="function"&&this.options.onKeyReleased(c,f)}},{key:"handleKeyboardContainerMouseDown",value:function(c){this.options.preventMouseDownDefault&&c.preventDefault()}},{key:"handleButtonHold",value:function(c){var f=this;this.holdInteractionTimeout&&clearTimeout(this.holdInteractionTimeout),this.holdInteractionTimeout=window.setTimeout(function(){f.getMouseHold()?(f.handleButtonClicked(c),f.handleButtonHold(c)):clearTimeout(f.holdInteractionTimeout)},100)}},{key:"syncInstanceInputs",value:function(){var c=this;this.dispatch(function(f){f.replaceInput(c.input),f.setCaretPosition(c.caretPosition,c.caretPositionEnd)})}},{key:"clearInput",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName;this.input[c]="",this.setCaretPosition(0),this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"getInput",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.inputName||this.defaultName,f=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.options.syncInstanceInputs&&!f&&this.syncInstanceInputs(),this.options.rtl?"‫"+this.input[c].replace("‫","").replace("‬","")+"‬":this.input[c]}},{key:"getAllInputs",value:function(){var c=this,f={};return Object.keys(this.input).forEach(function(p){f[p]=c.getInput(p,!0)}),f}},{key:"setInput",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.inputName||this.defaultName,p=arguments.length>2?arguments[2]:void 0;this.input[f]=c,!p&&this.options.syncInstanceInputs&&this.syncInstanceInputs()}},{key:"replaceInput",value:function(c){this.input=c}},{key:"setOptions",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=this.changedOptions(c);this.options=Object.assign(this.options,c),f.length&&(this.options.debug&&console.log("changedOptions",f),this.onSetOptions(f),this.render())}},{key:"changedOptions",value:function(c){var f=this;return Object.keys(c).filter(function(p){return JSON.stringify(c[p])!==JSON.stringify(f.options[p])})}},{key:"onSetOptions",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];c.includes("layoutName")&&this.candidateBox&&this.candidateBox.destroy(),(c.includes("layoutCandidatesPageSize")||c.includes("layoutCandidates"))&&this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=new Yn({utilities:this.utilities,options:this.options}))}},{key:"resetRows",value:function(){this.keyboardRowsDOM&&this.keyboardRowsDOM.remove(),this.keyboardDOM.className=this.keyboardDOMClass,this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.buttonElements={}}},{key:"dispatch",value:function(c){if(!window.SimpleKeyboardInstances)throw console.warn("SimpleKeyboardInstances is not defined. Dispatch cannot be called."),new Error("INSTANCES_VAR_ERROR");return Object.keys(window.SimpleKeyboardInstances).forEach(function(f){c(window.SimpleKeyboardInstances[f],f)})}},{key:"addButtonTheme",value:function(c,f){var p=this;f&&c&&(c.split(" ").forEach(function(m){f.split(" ").forEach(function(_){p.options.buttonTheme||(p.options.buttonTheme=[]);var S=!1;p.options.buttonTheme.map(function(C){if(C!=null&&C.class.split(" ").includes(_)){S=!0;var E=C.buttons.split(" ");E.includes(m)||(S=!0,E.push(m),C.buttons=E.join(" "))}return C}),S||p.options.buttonTheme.push({class:_,buttons:c})})}),this.render())}},{key:"removeButtonTheme",value:function(c,f){var p=this;if(!c&&!f)return this.options.buttonTheme=[],void this.render();c&&Array.isArray(this.options.buttonTheme)&&this.options.buttonTheme.length&&(c.split(" ").forEach(function(m){var _;(_=p.options)===null||_===void 0||(_=_.buttonTheme)===null||_===void 0||_.map(function(S,C){if(S&&f&&f.includes(S.class)||!f){var E,N,O=(E=S)===null||E===void 0?void 0:E.buttons.split(" ").filter(function(D){return D!==m});S&&O!=null&&O.length?S.buttons=O.join(" "):((N=p.options.buttonTheme)===null||N===void 0||N.splice(C,1),S=null)}return S})}),this.render())}},{key:"getButtonElement",value:function(c){var f,p=this.buttonElements[c];return p&&(f=p.length>1?p:p[0]),f}},{key:"inputPatternIsValid",value:function(c){var f,p=this.options.inputPattern;if((f=p instanceof RegExp?p:p[this.options.inputName||this.defaultName])&&c){var m=f.test(c);return this.options.debug&&console.log('inputPattern ("'.concat(f,'"): ').concat(m?"passed":"did not pass!")),m}return!0}},{key:"setEventListeners",value:function(){if(this.isFirstKeyboardInstance||!this.allKeyboardInstances){this.options.debug&&console.log("Caret handling started (".concat(this.keyboardDOMClass,")"));var c=this.options.physicalKeyboardHighlightPreventDefault,f=c!==void 0&&c;document.addEventListener("keyup",this.handleKeyUp,f),document.addEventListener("keydown",this.handleKeyDown,f),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleTouchEnd),this.options.updateCaretOnSelectionChange&&document.addEventListener("selectionchange",this.handleSelectionChange),document.addEventListener("select",this.handleSelect)}}},{key:"handleKeyUp",value:function(c){this.caretEventHandler(c),this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyUp(c)}},{key:"handleKeyDown",value:function(c){this.options.physicalKeyboardHighlight&&this.physicalKeyboard.handleHighlightKeyDown(c)}},{key:"handleMouseUp",value:function(c){this.caretEventHandler(c)}},{key:"handleTouchEnd",value:function(c){this.caretEventHandler(c)}},{key:"handleSelect",value:function(c){this.caretEventHandler(c)}},{key:"handleSelectionChange",value:function(c){navigator.userAgent.includes("Firefox")||this.caretEventHandler(c)}},{key:"caretEventHandler",value:function(c){var f,p=this;c.target.tagName&&(f=c.target.tagName.toLowerCase()),this.dispatch(function(m){var _=c.target===m.keyboardDOM||c.target&&m.keyboardDOM.contains(c.target);if(p.options.syncInstanceInputs&&Array.isArray(c.path)&&(_=c.path.some(function(E){var N;return E==null||(N=E.hasAttribute)===null||N===void 0?void 0:N.call(E,"data-skInstance")})),(f==="textarea"||f==="input"&&["text","search","url","tel","password"].includes(c.target.type))&&!m.options.disableCaretPositioning){var S=c.target.selectionStart,C=c.target.selectionEnd;m.options.rtl&&(S=m.utilities.getRtlOffset(S,m.getInput()),C=m.utilities.getRtlOffset(C,m.getInput())),m.setCaretPosition(S,C),m.activeInputElement=c.target,m.options.debug&&console.log("Caret at: ",m.getCaretPosition(),m.getCaretPositionEnd(),c&&c.target.tagName.toLowerCase(),"(".concat(m.keyboardDOMClass,")"),c==null?void 0:c.type)}else!m.options.disableCaretPositioning&&_||(c==null?void 0:c.type)==="selectionchange"||(m.setCaretPosition(null),m.activeInputElement=null,m.options.debug&&console.log('Caret position reset due to "'.concat(c==null?void 0:c.type,'" event'),c))})}},{key:"recurseButtons",value:function(c){var f=this;c&&Object.keys(this.buttonElements).forEach(function(p){return f.buttonElements[p].forEach(c)})}},{key:"destroy",value:function(){this.options.debug&&console.log("Destroying simple-keyboard instance: ".concat(this.currentInstanceName));var c=this.options.physicalKeyboardHighlightPreventDefault,f=c!==void 0&&c;document.removeEventListener("keyup",this.handleKeyUp,f),document.removeEventListener("keydown",this.handleKeyDown,f),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleTouchEnd),document.removeEventListener("select",this.handleSelect),this.options.updateCaretOnSelectionChange&&document.removeEventListener("selectionchange",this.handleSelectionChange),document.onpointerup=null,document.ontouchend=null,document.ontouchcancel=null,document.onmouseup=null,this.recurseButtons(function(p){p&&(p.onpointerdown=null,p.onpointerup=null,p.onpointercancel=null,p.ontouchstart=null,p.ontouchend=null,p.ontouchcancel=null,p.onclick=null,p.onmousedown=null,p.onmouseup=null,p.remove(),p=null)}),this.keyboardDOM.onpointerdown=null,this.keyboardDOM.ontouchstart=null,this.keyboardDOM.onmousedown=null,this.resetRows(),this.candidateBox&&(this.candidateBox.destroy(),this.candidateBox=null),this.activeInputElement=null,this.keyboardDOM.removeAttribute("data-skInstance"),this.keyboardDOM.innerHTML="",window.SimpleKeyboardInstances[this.currentInstanceName]=null,delete window.SimpleKeyboardInstances[this.currentInstanceName],this.initialized=!1}},{key:"getButtonThemeClasses",value:function(c){var f=this.options.buttonTheme,p=[];return Array.isArray(f)&&f.forEach(function(m){if(m&&m.class&&typeof m.class=="string"&&m.buttons&&typeof m.buttons=="string"){var _=m.class.split(" ");m.buttons.split(" ").includes(c)&&(p=[].concat(un(p),un(_)))}else console.warn('Incorrect "buttonTheme". Please check the documentation.',m)}),p}},{key:"setDOMButtonAttributes",value:function(c,f){var p=this.options.buttonAttributes;Array.isArray(p)&&p.forEach(function(m){m.attribute&&typeof m.attribute=="string"&&m.value&&typeof m.value=="string"?m.buttons&&typeof m.buttons=="string"?m.buttons.split(" ").includes(c)&&f(m.attribute,m.value):f(m.attribute,m.value):console.warn('Incorrect "buttonAttributes". Please check the documentation.',m)})}},{key:"onTouchDeviceDetected",value:function(){this.processAutoTouchEvents(),this.disableContextualWindow()}},{key:"disableContextualWindow",value:function(){window.oncontextmenu=function(c){var f;if((f=c.target.classList)!==null&&f!==void 0&&f.contains("hg-button"))return c.preventDefault(),c.stopPropagation(),!1}}},{key:"processAutoTouchEvents",value:function(){this.options.autoUseTouchEvents&&(this.options.useTouchEvents=!0,this.options.debug&&console.log("autoUseTouchEvents: Touch device detected, useTouchEvents enabled."))}},{key:"onInit",value:function(){this.options.debug&&console.log("".concat(this.keyboardDOMClass," Initialized")),this.setEventListeners(),typeof this.options.onInit=="function"&&this.options.onInit(this)}},{key:"beforeFirstRender",value:function(){this.utilities.isTouchDevice()&&this.onTouchDeviceDetected(),typeof this.options.beforeFirstRender=="function"&&this.options.beforeFirstRender(this),this.isFirstKeyboardInstance&&this.utilities.pointerEventsSupported()&&!this.options.useTouchEvents&&!this.options.useMouseEvents&&this.options.debug&&console.log("Using PointerEvents as it is supported by this browser"),this.options.useTouchEvents&&this.options.debug&&console.log("useTouchEvents has been enabled. Only touch events will be used.")}},{key:"beforeRender",value:function(){typeof this.options.beforeRender=="function"&&this.options.beforeRender(this)}},{key:"onRender",value:function(){typeof this.options.onRender=="function"&&this.options.onRender(this)}},{key:"onModulesLoaded",value:function(){typeof this.options.onModulesLoaded=="function"&&this.options.onModulesLoaded(this)}},{key:"loadModules",value:function(){var c=this;Array.isArray(this.options.modules)&&(this.options.modules.forEach(function(f){var p=c.utilities.isConstructor(f)?new f(c):f(c);p.init&&p.init(c)}),this.keyboardPluginClasses="modules-loaded",this.render(),this.onModulesLoaded())}},{key:"getModuleProp",value:function(c,f){return!!this.modules[c]&&this.modules[c][f]}},{key:"getModulesList",value:function(){return Object.keys(this.modules)}},{key:"parseRowDOMContainers",value:function(c,f,p,m){var _=this,S=Array.from(c.children),C=0;return S.length&&p.forEach(function(E,N){var O=m[N];if(!(O&&O>E))return!1;var D=E-C,A=O-C,j=document.createElement("div");j.className+="hg-button-container";var R="".concat(_.options.layoutName,"-r").concat(f,"c").concat(N);j.setAttribute("data-skUID",R);var U=S.splice(D,A-D+1);C+=A-D,U.forEach(function(V){return j.appendChild(V)}),S.splice(D,0,j),c.innerHTML="",S.forEach(function(V){return c.appendChild(V)}),_.options.debug&&console.log("rowDOMContainer",U,D,A,C+1)}),c}},{key:"render",value:function(){var c=this;this.resetRows(),this.initialized||this.beforeFirstRender(),this.beforeRender();var f="hg-layout-".concat(this.options.layoutName),p=this.options.layout||{default:["` 1 2 3 4 5 6 7 8 9 0 - = {bksp}","{tab} q w e r t y u i o p [ ] \\","{lock} a s d f g h j k l ; ' {enter}","{shift} z x c v b n m , . / {shift}",".com @ {space}"],shift:["~ ! @ # $ % ^ & * ( ) _ + {bksp}","{tab} Q W E R T Y U I O P { } |",'{lock} A S D F G H J K L : " {enter}',"{shift} Z X C V B N M < > ? {shift}",".com @ {space}"]},m=this.options.useTouchEvents||!1,_=m?"hg-touch-events":"",S=this.options.useMouseEvents||!1,C=this.options.disableRowButtonContainers;this.keyboardDOM.className=this.getKeyboardClassString(this.options.theme,f,this.keyboardPluginClasses,_),this.keyboardDOM.setAttribute("data-skInstance",this.currentInstanceName),this.keyboardRowsDOM=document.createElement("div"),this.keyboardRowsDOM.className="hg-rows",p[this.options.layoutName||this.defaultName].forEach(function(E,N){var O=E.split(" ");c.options.excludeFromLayout&&c.options.excludeFromLayout[c.options.layoutName||c.defaultName]&&(O=O.filter(function(R){return c.options.excludeFromLayout&&!c.options.excludeFromLayout[c.options.layoutName||c.defaultName].includes(R)}));var D=document.createElement("div");D.className+="hg-row";var A=[],j=[];O.forEach(function(R,U){var V,z=!C&&typeof R=="string"&&R.length>1&&R.indexOf("[")===0,$=!C&&typeof R=="string"&&R.length>1&&R.indexOf("]")===R.length-1;z&&(A.push(U),R=R.replace(/\[/g,"")),$&&(j.push(U),R=R.replace(/\]/g,""));var W=c.utilities.getButtonClass(R),Z=c.utilities.getButtonDisplayName(R,c.options.display,c.options.mergeDisplay),q=c.options.useButtonTag?"button":"div",G=document.createElement(q);G.className+="hg-button ".concat(W),(V=G.classList).add.apply(V,un(c.getButtonThemeClasses(R))),c.setDOMButtonAttributes(R,function(X,ce){G.setAttribute(X,ce)}),c.activeButtonClass="hg-activeButton",!c.utilities.pointerEventsSupported()||m||S?m?(G.ontouchstart=function(X){c.handleButtonClicked(R,X),c.handleButtonMouseDown(R,X)},G.ontouchend=function(X){c.handleButtonMouseUp(R,X)},G.ontouchcancel=function(X){c.handleButtonMouseUp(R,X)}):(G.onclick=function(X){c.setMouseHold(!1),typeof c.options.onKeyReleased=="function"||c.options.useMouseEvents&&c.options.clickOnMouseDown||c.handleButtonClicked(R,X)},G.onmousedown=function(X){(typeof c.options.onKeyReleased=="function"||c.options.useMouseEvents&&c.options.clickOnMouseDown)&&!c.isMouseHold&&c.handleButtonClicked(R,X),c.handleButtonMouseDown(R,X)},G.onmouseup=function(X){c.handleButtonMouseUp(R,X)}):(G.onpointerdown=function(X){c.handleButtonClicked(R,X),c.handleButtonMouseDown(R,X)},G.onpointerup=function(X){c.handleButtonMouseUp(R,X)},G.onpointercancel=function(X){c.handleButtonMouseUp(R,X)}),G.setAttribute("data-skBtn",R);var te="".concat(c.options.layoutName,"-r").concat(N,"b").concat(U);G.setAttribute("data-skBtnUID",te);var ie=document.createElement("span");ie.innerHTML=Z,G.appendChild(ie),c.buttonElements[R]||(c.buttonElements[R]=[]),c.buttonElements[R].push(G),D.appendChild(G)}),D=c.parseRowDOMContainers(D,N,A,j),c.keyboardRowsDOM.appendChild(D)}),this.keyboardDOM.appendChild(this.keyboardRowsDOM),this.onRender(),this.initialized||(this.initialized=!0,!this.utilities.pointerEventsSupported()||m||S?m?(document.ontouchend=function(E){return c.handleButtonMouseUp(void 0,E)},document.ontouchcancel=function(E){return c.handleButtonMouseUp(void 0,E)},this.keyboardDOM.ontouchstart=function(E){return c.handleKeyboardContainerMouseDown(E)}):m||(document.onmouseup=function(E){return c.handleButtonMouseUp(void 0,E)},this.keyboardDOM.onmousedown=function(E){return c.handleKeyboardContainerMouseDown(E)}):(document.onpointerup=function(E){return c.handleButtonMouseUp(void 0,E)},this.keyboardDOM.onpointerdown=function(E){return c.handleKeyboardContainerMouseDown(E)}),this.onInit())}}],x&&ge(v.prototype,x),a&&ge(v,a),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,x,a}(),jn=ki,Os=jn;return g}()},981:function(){typeof Element=="undefined"||"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof self!="undefined"&&"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(l){if("Element"in l){var u="classList",d="prototype",h=l.Element[d],g=Object,y=String[d].trim||function(){return this.replace(/^\s+|\s+$/g,"")},w=Array[d].indexOf||function(L){for(var F=0,H=this.length;F<H;F++)if(F in this&&this[F]===L)return F;return-1},I=function(L,F){this.name=L,this.code=DOMException[L],this.message=F},k=function(L,F){if(F==="")throw new I("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(F))throw new I("INVALID_CHARACTER_ERR","The token must not contain space characters.");return w.call(L,F)},B=function(L){for(var F=y.call(L.getAttribute("class")||""),H=F?F.split(/\s+/):[],K=0,Y=H.length;K<Y;K++)this.push(H[K]);this._updateClassName=function(){L.setAttribute("class",this.toString())}},b=B[d]=[],T=function(){return new B(this)};if(I[d]=Error[d],b.item=function(L){return this[L]||null},b.contains=function(L){return~k(this,L+"")},b.add=function(){var L,F=arguments,H=0,K=F.length,Y=!1;do~k(this,L=F[H]+"")||(this.push(L),Y=!0);while(++H<K);Y&&this._updateClassName()},b.remove=function(){var L,F,H=arguments,K=0,Y=H.length,me=!1;do for(F=k(this,L=H[K]+"");~F;)this.splice(F,1),me=!0,F=k(this,L);while(++K<Y);me&&this._updateClassName()},b.toggle=function(L,F){var H=this.contains(L),K=H?F!==!0&&"remove":F!==!1&&"add";return K&&this[K](L),F===!0||F===!1?F:!H},b.replace=function(L,F){var H=k(L+"");~H&&(this.splice(H,1,F),this._updateClassName())},b.toString=function(){return this.join(" ")},g.defineProperty){var P={get:T,enumerable:!0,configurable:!0};try{g.defineProperty(h,u,P)}catch(L){L.number!==void 0&&L.number!==-2146823252||(P.enumerable=!1,g.defineProperty(h,u,P))}}else g[d].__defineGetter__&&h.__defineGetter__(u,T)}}(self),function(){var l=document.createElement("_");if(l.classList.add("c1","c2"),!l.classList.contains("c2")){var u=function(h){var g=DOMTokenList.prototype[h];DOMTokenList.prototype[h]=function(y){var w,I=arguments.length;for(w=0;w<I;w++)y=arguments[w],g.call(this,y)}};u("add"),u("remove")}if(l.classList.toggle("c3",!1),l.classList.contains("c3")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(h,g){return 1 in arguments&&!this.contains(h)==!g?g:d.call(this,h)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(h,g){var y=this.toString().split(" "),w=y.indexOf(h+"");~w&&(y=y.slice(w),this.remove.apply(this,y),this.add(g),this.add.apply(this,y.slice(1)))}),l=null}())}},i={};function s(l){var u=i[l];if(u!==void 0)return u.exports;var d=i[l]={exports:{}};return r[l].call(d.exports,d,d.exports,s),d.exports}s.n=function(l){var u=l&&l.__esModule?function(){return l.default}:function(){return l};return s.d(u,{a:u}),u},s.d=function(l,u){for(var d in u)s.o(u,d)&&!s.o(l,d)&&Object.defineProperty(l,d,{enumerable:!0,get:u[d]})},s.o=function(l,u){return Object.prototype.hasOwnProperty.call(l,u)},s.r=function(l){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return function(){s.r(o),s.d(o,{KeyboardReact:function(){return k},default:function(){return B}}),s(981);var l=s(442),u=s(548),d=s.n(u);function h(b){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},h(b)}function g(b,T){var P=Object.keys(b);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(b);T&&(L=L.filter(function(F){return Object.getOwnPropertyDescriptor(b,F).enumerable})),P.push.apply(P,L)}return P}function y(b){for(var T=1;T<arguments.length;T++){var P=arguments[T]!=null?arguments[T]:{};T%2?g(Object(P),!0).forEach(function(L){w(b,L,P[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(P)):g(Object(P)).forEach(function(L){Object.defineProperty(b,L,Object.getOwnPropertyDescriptor(P,L))})}return b}function w(b,T,P){return(T=function(L){var F=function(H,K){if(h(H)!="object"||!H)return H;var Y=H[Symbol.toPrimitive];if(Y!==void 0){var me=Y.call(H,K||"default");if(h(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(H)}(L,"string");return h(F)=="symbol"?F:F+""}(T))in b?Object.defineProperty(b,T,{value:P,enumerable:!0,configurable:!0,writable:!0}):b[T]=P,b}var I=function(b){return y(y({},b),{},{keyboardRef:null})},k=function(b){var T=b.baseClass||"react-simple-keyboard",P=l.useRef(null),L=l.useRef(null),F=l.useRef(null),H=l.useRef(b);return l.useEffect(function(){return function(){F.current&&F.current.destroy(),P.current=!1}},[]),l.useEffect(function(){var K=function(mt){return y(y({},mt),{},{theme:"simple-keyboard ".concat(mt.theme||"hg-theme-default")})}(b);if(!P.current){P.current=!0,K.debug&&console.log("ReactSimpleKeyboard: Init");var Y=L.current,me=".".concat(T);F.current=new(d())(Y||me,K),K.keyboardRef&&K.keyboardRef(F.current)}var ue=function(mt,ln){var Ln=I(ln),Yn=I(mt);return Object.keys(Ln).filter(function(un){return Ln[un]!==Yn[un]})}(H.current,K);if(ue.length){var ze=F.current;H.current=K,ze==null||ze.setOptions(K),K.debug&&console.log("ReactSimpleKeyboard - setOptions called due to updated props:",ue)}},[P,T,H,b]),l.createElement("div",{className:T,ref:L})},B=k}(),o}()})})(O2);function Gd({isOpen:t,task:e,onClose:n,onSave:r,onDelete:i}){const[s,o]=Q.useState(""),[l,u]=Q.useState(""),[d,h]=Q.useState(""),[g,y]=Q.useState(!1),w=Q.useRef(null);if(Q.useRef(null),Q.useEffect(()=>{e&&(o(e.description||""),u(e.frequency||""),h(e.recurring?"true":"false"))},[e]),Q.useEffect(()=>{var k;if(t&&w.current){const B="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0||window.TouchEvent!==void 0;console.log("Touch device detection:",{ontouchstart:"ontouchstart"in window,maxTouchPoints:navigator.maxTouchPoints,msMaxTouchPoints:navigator.msMaxTouchPoints,TouchEvent:window.TouchEvent!==void 0,userAgent:navigator.userAgent,isTouchDevice:B});const b=navigator.platform.toLowerCase().includes("linux")||navigator.userAgent.toLowerCase().includes("linux");B||b?(console.log("Showing TouchKeyboard"),y(!0),(k=w.current)==null||k.blur()):(console.log("Desktop mode - using regular keyboard"),w.current.focus())}},[t]),!t&&!e)return null;function I(k){if(k.preventDefault(),!s||!l||!d)return;const B={id:e?e.id:Date.now(),description:s,frequency:l,recurring:d==="true",done:e?e.done:!1,lastCompleted:e?e.lastCompleted:null};r==null||r(B),n(),y(!1)}return M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md border",style:{marginBottom:g?"300px":"0"},children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-lg font-bold",children:e?"Edit Task":"Add a New To-Do"}),M.jsx("button",{onClick:()=>{n(),y(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),M.jsxs("form",{className:"space-y-4",onSubmit:I,children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),M.jsx("input",{ref:w,type:"text",className:"w-full border rounded p-2",value:s,onChange:k=>o(k.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequency"}),M.jsxs("select",{className:"w-full border rounded p-2",value:l,onChange:k=>u(k.target.value),children:[M.jsx("option",{value:"",children:"Select..."}),M.jsx("option",{value:"daily",children:"Daily"}),M.jsx("option",{value:"weekly",children:"Weekly"}),M.jsx("option",{value:"monthly",children:"Monthly"}),M.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recurring"}),M.jsxs("select",{className:"w-full border rounded p-2",value:d,onChange:k=>h(k.target.value),children:[M.jsx("option",{value:"",children:"Select..."}),M.jsx("option",{value:"true",children:"Yes"}),M.jsx("option",{value:"false",children:"No"})]})]}),M.jsxs("div",{className:"flex justify-between mt-6",children:[M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>{n(),y(!1)},children:"Cancel"}),e&&i&&M.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:()=>{i(e),n(),y(!1)},children:"Delete"})]}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})}),!1]})}const uy=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function L2({isOpen:t,initialData:e,onClose:n,onSave:r}){const[i,s]=Q.useState(e||{}),o=Q.useRef(null);if(Q.useEffect(()=>{t&&o.current&&o.current.focus()},[t]),!t)return null;const l=(d,h)=>{s(be(ee({},i),{[d]:h}))},u=d=>{d.preventDefault(),r==null||r(i),n()};return M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:M.jsxs("form",{onSubmit:u,className:"bg-card rounded-xl shadow-modal p-6 w-full max-w-md",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-lg font-bold",children:"Edit Weekly Meals"}),M.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),M.jsx("div",{className:"flex flex-col gap-3 max-h-[60vh] overflow-y-auto scrollbar-hide",children:uy.map(d=>M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d}),M.jsx("input",{ref:d===uy[0]?o:null,type:"text",value:i[d]||"",onChange:h=>l(d,h.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1 text-sm"})]},d))}),M.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[M.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded text-sm bg-gray-100 hover:bg-gray-200",children:"Cancel"}),M.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})})}function j2({current:t,onNavigate:e,onSaveGrocery:n,onSaveTask:r,onSaveMeals:i,groceryItems:s}){const o=typeof window!="undefined"&&window.innerWidth<768,l=o?["ALERTS"]:["ALERTS","HOME","FAMILY"],[u,d]=Q.useState(null),h=()=>d(null);return M.jsxs(M.Fragment,{children:[M.jsx("footer",{className:"fixed bottom-0 left-0 w-full z-30 bg-[#F7E4C3] h-[70px] sm:h-[111px] md:h-[108px]",children:M.jsxs("div",{className:"flex items-center justify-between max-w-screen-xl mx-auto px-4 sm:px-8 h-full",children:[M.jsx("div",{className:"flex gap-4 sm:gap-16 text-[#5A3210] text-lg sm:text-2xl md:text-3xl lg:text-4xl font-bold font-condensed uppercase tracking-wide ml-[10px] sm:ml-[25px]",children:l.map(g=>M.jsx("button",{onClick:()=>e(g),className:`transition-opacity duration-200 ${g===t?"opacity-100":"opacity-60"} font-condensed font-bold`,children:g},g))}),M.jsx("div",{className:"relative z-10",style:{right:o?"0px":"5px",position:"relative"},children:M.jsxs("div",{className:`flex ${o?"gap-0":"gap-8"} bg-[#F7E4C3] rounded-tl-[74px] rounded-tr-[74px] px-3 sm:px-5 pt-4 sm:pt-7 pb-2 sm:pb-4 -translate-y-3 sm:-translate-y-6`,style:{transform:o?"translateY(-12px) scale(0.8)":"translateY(-24px) scale(1.15)"},children:[M.jsx(F2,{onSelect:d}),!o&&M.jsx(B2,{})]})})]})}),M.jsx(M2,{isOpen:u==="grocery",onClose:h,onSave:n,currentItems:s}),M.jsx(Gd,{isOpen:u==="task",task:null,onClose:h,onSave:r}),M.jsx(L2,{isOpen:u==="meals",onClose:h,onSave:i})]})}function F2({onSelect:t}){const[e,n]=Q.useState(!1),r=i=>{n(!1),t(i)};return M.jsxs("div",{className:"relative",children:[M.jsx("button",{onClick:()=>n(!e),className:"w-20 h-20 rounded-full flex items-center justify-center text-white transition-transform duration-300 ease-in-out active:scale-95",style:{backgroundColor:"#B75634"},children:M.jsx(Go.div,{initial:!1,animate:{rotate:e?405:0},transition:{duration:.3},className:"w-10 h-10",children:M.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-black",children:M.jsx("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),M.jsx(Oh,{children:e&&M.jsxs(Go.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:-50,scale:1.25,x:-75},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute bottom-20 left-0 w-56 bg-white rounded-xl shadow-lg p-6 text-left z-20",children:[M.jsx("div",{className:"text-sm text-gray-500 mb-1 text-left pl-2",children:"Create a new"}),M.jsxs("ul",{className:"space-y-2 text-left",children:[M.jsx("li",{children:M.jsx("button",{onClick:i=>{i.stopPropagation(),r("grocery")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"Grocery Item"})}),M.jsx("li",{children:M.jsx("button",{onClick:i=>{i.stopPropagation(),r("task")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"To-Do"})}),M.jsx("li",{children:M.jsx("button",{onClick:i=>{i.stopPropagation(),r("meals")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"Weekly Meal Plan"})})]})]})})]})}function B2(){return M.jsx("button",{onClick:()=>{},className:"w-20 h-20 rounded-full flex items-center justify-center text-black transition-transform duration-100 ease-in-out active:scale-95",style:{backgroundColor:"#EFB643"},children:M.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-black",children:[M.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12V6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6V12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),M.jsx("path",{d:"M19 10V12C19 15.3137 16.3137 18 13 18H11C7.68629 18 5 15.3137 5 12V10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),M.jsx("path",{d:"M12 18V22",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),M.jsx("path",{d:"M8 22H16",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}function yu({title:t,rightSlot:e=null,className:n=""}){return M.jsxs("div",{className:`flex justify-between items-center mb-block ${n}`,children:[M.jsx("h2",{className:"text-[36px] font-serif text-[#5A3210]",children:t}),e&&M.jsx("div",{children:e})]})}class V2{constructor(){this.apiKey=null,this.isInitialized=!1}initialize(e,n){return ft(this,null,function*(){try{if(!e)throw new Error("API key is required");return this.apiKey=e,this.isInitialized=!0,!0}catch(r){return console.error("Failed to initialize Google Calendar service:",r),!1}})}getEvents(e="primary",n=10){return ft(this,null,function*(){if(!this.isInitialized)throw new Error("Google Calendar service not initialized");try{const r=new Date,i=new Date(r);i.setDate(r.getDate()+7);const s=new URLSearchParams({key:this.apiKey,timeMin:r.toISOString(),timeMax:i.toISOString(),maxResults:n.toString(),singleEvents:"true",orderBy:"startTime"}),o=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(e)}/events?${s}`,l=yield fetch(o);if(!l.ok)throw new Error(`Google Calendar API error: ${l.status} ${l.statusText}`);const u=yield l.json();return this.formatEvents(u.items||[])}catch(r){throw console.error("Failed to fetch calendar events:",r),r}})}formatEvents(e){return e.map(n=>{var u,d,h,g;const r=((u=n.start)==null?void 0:u.dateTime)||((d=n.start)==null?void 0:d.date),i=((h=n.end)==null?void 0:h.dateTime)||((g=n.end)==null?void 0:g.date);let s="",o=60,l="1h";if(r){const y=new Date(r);if(s=y.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),i){const w=new Date(i);if(o=Math.round((w-y)/(1e3*60)),o>=60){const I=Math.floor(o/60),k=o%60;l=k>0?`${I}h${k}`:`${I}h`}else l=`${o} minutes`}}return{id:n.id,summary:n.summary||"No title",time:s,duration:o,formattedDuration:l,date:r?new Date(r):new Date,location:n.location,description:n.description}})}groupEventsByDay(e){const n=[[],[],[]];return e.forEach(r=>{if(!r.date)return;let i=new Date(r.date);const s=new Date;for(let o=0;o<3;o++){const l=new Date(s);if(l.setDate(s.getDate()+o),i.getDate()===l.getDate()&&i.getMonth()===l.getMonth()&&i.getFullYear()===l.getFullYear()){n[o].push(r);break}}}),n}}const _c=new V2,ro={API_KEY:"AIzaSyAYiobTSL1_Zn2ZZQXp140AM23U7wlELpk",CLIENT_ID:"your_client_id_here",CALENDAR_ID:"kyle.e.schultz@gmail.com",MAX_RESULTS:20},U2=()=>!!ro.API_KEY;function z2(){const[t,e]=Q.useState([]),[n,r]=Q.useState(!0),[i,s]=Q.useState(null),[o,l]=Q.useState(!1),u=new Date,d=[[{id:1,summary:"School Pickup",time:"2:30 pm",duration:30,formattedDuration:"30 minutes"},{id:2,summary:"Grocery Run",time:"3:30 pm",duration:45,formattedDuration:"45 minutes"},{id:3,summary:"Soccer Practice",time:"5:00 pm",duration:90,formattedDuration:"1h30"}],[{id:4,summary:"Therapy Session",time:"10:00 am",duration:60,formattedDuration:"1h"},{id:5,summary:"Zoom Meeting",time:"11:30 am",duration:30,formattedDuration:"30 minutes"},{id:6,summary:"Pizza Friday",time:"6:00 pm",duration:60,formattedDuration:"1h"}],[{id:7,summary:"Morning Run",time:"7:00 am",duration:45,formattedDuration:"45 minutes"},{id:8,summary:"Book Club with Really Long Name That Might Overflow",time:"4:00 pm",duration:90,formattedDuration:"1h30"},{id:9,summary:"Date Night",time:"7:30 pm",duration:120,formattedDuration:"2h"}]];return Q.useEffect(()=>{(()=>ft(this,null,function*(){try{if(r(!0),s(null),!U2()){e(d),l(!0),r(!1);return}if(!(yield _c.initialize(ro.API_KEY,ro.CLIENT_ID)))throw new Error("Failed to initialize calendar service");const y=yield _c.getEvents(ro.CALENDAR_ID,ro.MAX_RESULTS),w=_c.groupEventsByDay(y);e(w),l(!1)}catch(g){console.error("Error fetching calendar events:",g),s(g.message),e(d),l(!0)}finally{r(!1)}}))()},[]),M.jsxs("section",{className:"w-full mb-8",children:[M.jsx(yu,{title:`Calendar ${o?"(Demo)":""}`,className:"mb-4"}),i&&M.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:M.jsxs("p",{className:"text-sm text-yellow-800",children:["Calendar sync issue: ",i,". Showing demo data."]})}),M.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-xl px-6 pt-6 pb-6 overflow-x-auto h-[350px]",children:n?M.jsx("div",{className:"flex items-center justify-center h-full",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#48AF55] mx-auto mb-2"}),M.jsx("p",{className:"text-gray-500",children:"Loading calendar events..."})]})}):M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-x divide-gray-300 h-full",children:t.map((h,g)=>{const y=new Date(u);y.setDate(u.getDate()+g);const w=y.toLocaleDateString(void 0,{month:"long",day:"numeric"}),I=y.toLocaleDateString(void 0,{weekday:"long"});return M.jsxs("div",{className:`${g===2?"pl-6 pr-2":"px-6"} flex flex-col h-full`,children:[M.jsx("div",{className:"text-base text-gray-500 font-medium leading-none",children:I}),M.jsx("div",{className:"text-xl font-serif font-bold text-black mb-3",children:w}),M.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:M.jsx("div",{className:"flex flex-col gap-2 pb-6",children:h.length===0?M.jsx("p",{className:"text-base text-gray-500 italic",children:"No events"}):h.map(k=>{const B=new Date(`${y.toDateString()} ${k.time}`),b=new Date(B);b.setMinutes(b.getMinutes()+k.duration);const T=b<new Date;return M.jsxs("div",{className:`w-full bg-[#0B3D42] rounded-md px-2 py-4 text-base text-white ${T?"opacity-70":""}`,children:[M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-10 bg-gradient-to-l from-[#0B3D42] to-transparent pointer-events-none z-10"}),M.jsx("div",{className:"font-semibold text-lg truncate whitespace-nowrap overflow-hidden pr-10",children:k.summary})]}),M.jsxs("div",{className:"text-sm",children:[k.time," | ",k.formattedDuration]})]},k.id)})})})]},g)})})})]})}function W2(t,e){function n(u){u=u.replace("#",""),u.length===3&&(u=u.split("").map(h=>h+h).join(""));const d=parseInt(u,16);return[d>>16,d>>8&255,d&255]}function r([u,d,h]){const g=[u,d,h].map(y=>(y/=255,y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4)));return .2126*g[0]+.7152*g[1]+.0722*g[2]}const i=r(n(t)),s=r(n(e)),o=Math.max(i,s),l=Math.min(i,s);return(o+.05)/(l+.05)}const cy=["#5398cb","#6d3231","#48af55","#0b3d42","#caccad"],wc=["/family-hub/watermarks/Bowl.svg","/family-hub/watermarks/Cheese.svg","/family-hub/watermarks/Lemons.svg","/family-hub/watermarks/Lettuce.svg","/family-hub/watermarks/Strawberries.svg"],ai={"/family-hub/watermarks/Bowl.svg":{size:"213px 106px",position:"calc(100% + 25px) calc(50% - 5px)",opacity:.6},"/family-hub/watermarks/Cheese.svg":{size:"238px 119px",position:"calc(100% + 35px) center",opacity:.6},"/family-hub/watermarks/Lemons.svg":{size:"250px 125px",position:"calc(100% + 25px) center",opacity:.6},"/family-hub/watermarks/Lettuce.svg":{size:"280px 140px",position:"calc(100% + 55px) calc(50% - 10px)",opacity:.6,transform:"rotate(15deg)"},"/family-hub/watermarks/Strawberries.svg":{size:"250px 125px",position:"calc(100% + 25px) center",opacity:.6}};function H2({text:t,isSpecial:e,bgColor:n,bgPattern:r,className:i,textColor:s}){var d,h,g,y;const o=Q.useRef(null),[l,u]=Q.useState(!1);return Q.useEffect(()=>{const w=()=>{if(o.current){const I=o.current;u(I.scrollWidth>I.clientWidth)}};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[t]),M.jsxs("span",{ref:o,className:`${i} whitespace-nowrap overflow-hidden relative`,children:[t,l&&M.jsx("div",{className:"absolute top-0 right-0 w-8 h-full pointer-events-none",style:{background:e?`linear-gradient(to right, transparent 0%, ${n||"#ffffff"} 100%)`:"linear-gradient(to right, transparent 0%, rgb(249, 250, 251) 100%)",backgroundImage:e&&r?`url('${r}')`:void 0,backgroundRepeat:"no-repeat",backgroundSize:e&&r&&((h=(d=ai[r])==null?void 0:d.size)==null?void 0:h.replace("250px","125px").replace("125px","62px"))||"125px 62px",backgroundPosition:e&&r&&((g=ai[r])==null?void 0:g.position)||"calc(100% + 25px) center",backgroundBlendMode:"normal",opacity:e&&r?((y=ai[r])==null?void 0:y.opacity)||.6:1,filter:e&&r&&s?s==="#000000"?"brightness(0) invert(0)":"brightness(0) invert(1)":"none"}})]})}function $2({items:t=[],setItems:e,addGroceryItem:n,updateGroceryItem:r}){const i=typeof window!="undefined"&&window.innerWidth<768;console.log("ShoppingList render - items:",t),console.log("ShoppingList render - unchecked items:",t.filter(k=>!k.checked));function s(k){return k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():""}const[o,l]=Q.useState(!1),[u,d]=Q.useState(null),[h,g]=Q.useState(""),y=Q.useRef(null);t=t||[],Q.useEffect(()=>{o&&y.current&&setTimeout(()=>{var k;(k=y.current)==null||k.focus()},100)},[o]);function w(){if(h.trim()){if(console.log("handleSave called. editItem:",u,"input:",h),u)if(r)r(u.id,{text:h});else{const k=t.map(B=>B.id===u.id?be(ee({},B),{text:h}):B);console.log("Updated items after edit:",k),e(k)}else{let k=!i&&Math.random()<.75;console.log("Random special decision:",k,"isMobile:",i);let B=null,b=null;if(k){B=cy[Math.floor(Math.random()*cy.length)],console.log("Current items array:",t.slice(0,5).map(F=>({text:F.text,special:F.special,pattern:F.bgPattern})));let P=null;for(let F=0;F<Math.min(10,t.length);F++)if(t[F].special&&t[F].bgPattern){P=t[F].bgPattern,console.log("Found last special pattern at index",F,":",P);break}let L=wc.filter(F=>F!==P);L.length===0&&(L=wc),b=L[Math.floor(Math.random()*L.length)],console.log("Assigning pattern:",b,"to special item (avoiding:",P,")"),console.log("Available patterns were:",L),console.log("All patterns:",wc)}const T={id:Date.now(),text:h,checked:!1,special:k,bgColor:B,bgPattern:b};if(console.log("Adding new item with pattern:",T),n)n(T);else{const P=[T,...t];console.log("Updated items after add:",P),e(P)}}l(!1),g(""),d(null)}}function I(k){if(r){const B=t.find(b=>b.id===k);B&&r(k,{checked:!B.checked})}else{const B=t.map(b=>b.id===k?be(ee({},b),{checked:!b.checked}):b);e(B)}}return M.jsxs("div",{className:"h-full",children:[M.jsx(yu,{title:"Shopping List",className:"mb-4",rightSlot:M.jsx("button",{onClick:()=>{e([])},className:"text-gray-500 hover:text-red-500 text-sm font-medium transition-all duration-200 active:scale-95",style:{marginRight:i?"0px":"50px"},children:"Delete All"})}),M.jsx("div",{className:`bg-white border border-gray-200 rounded-3xl shadow-xl ${i?"p-4 h-[400px]":"p-8 h-[500px]"} flex flex-col`,children:t.filter(k=>!k.checked).length===0?M.jsx("div",{className:"flex-1"}):M.jsx("ul",{className:`${i?"space-y-2":"space-y-3"} overflow-y-auto pr-2 scrollbar-hide`,children:M.jsx(Oh,{children:t.filter(k=>!k.checked).map(k=>{var L,F,H,K;let B={},b="#ffffff",T=i?"1rem":"1.5rem",P=i?"3rem":"4.5rem";return k.special&&!i&&(P="7.875rem",T="1.75rem",k.bgColor&&W2(k.bgColor,b)<4.5&&(b="#000000"),console.log("Special item - bgColor:",k.bgColor,"bgPattern:",k.bgPattern,"textColor:",b),B={background:k.bgColor,backgroundImage:"none",backgroundRepeat:"no-repeat",backgroundSize:"250px 125px",backgroundPosition:"calc(100% + 25px) center",backgroundBlendMode:"normal",position:"relative",color:b,fontSize:T,height:P,borderRadius:"1rem",display:"flex",alignItems:"center",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)",border:"2px solid #e5e7eb",padding:"0 1.5rem",fontWeight:700}),M.jsxs(Go.li,{className:"flex items-center gap-[43px]",initial:{opacity:0,scale:.8,x:40},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:40},transition:{duration:.4,ease:"easeInOut"},children:[M.jsx("input",{type:"checkbox",className:`${i?"w-4 h-4":"w-5 h-5"} accent-primary flex-shrink-0`,checked:k.checked,onChange:()=>I(k.id)}),M.jsxs("div",{className:k.special&&!i?"flex-1 flex items-center justify-between overflow-hidden relative":`bg-gray-50 rounded-xl ${i?"px-3 py-2 text-sm":"px-4 py-3 text-base"} text-gray-800 flex-1 flex items-center shadow-sm border border-gray-100 hover:shadow-md transition overflow-hidden`,style:k.special&&!i?B:{},children:[k.special&&!i&&k.bgPattern&&M.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`url('${k.bgPattern}')`,backgroundRepeat:"no-repeat",backgroundSize:((L=ai[k.bgPattern])==null?void 0:L.size)||"250px 125px",backgroundPosition:((F=ai[k.bgPattern])==null?void 0:F.position)||"calc(100% + 25px) center",opacity:((H=ai[k.bgPattern])==null?void 0:H.opacity)||.6,transform:((K=ai[k.bgPattern])==null?void 0:K.transform)||"none",filter:b==="#000000"?"brightness(0) invert(0)":"brightness(0) invert(1)"}}),M.jsx(H2,{text:s(k.text||k.name||""),isSpecial:k.special&&!i,bgColor:k.bgColor,bgPattern:k.bgPattern,textColor:b,className:k.special&&!i?"tracking-wide":"font-medium tracking-wide"})]})]},k.id)})})})}),o&&M.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:M.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md border border-gray-100",children:[M.jsxs("div",{className:"flex justify-between items-center mb-6",children:[M.jsx("h2",{className:"text-2xl font-serif text-[#5A3210]",children:u?"Edit Item":"Add New Item"}),M.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-light w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:"✕"})]}),M.jsxs("div",{className:"mb-6",children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Name"}),M.jsx("input",{ref:y,type:"text",value:h,onChange:k=>g(k.target.value),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-primary focus:outline-none transition-colors text-base",placeholder:"e.g., Bananas, Milk, Bread...",onKeyDown:k=>k.key==="Enter"&&w()})]}),M.jsxs("div",{className:"flex justify-between gap-3",children:[M.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),M.jsx("button",{onClick:w,className:"flex-1 px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors shadow-md",children:u?"Update":"Add Item"})]})]})})]})}function K2({task:t,onToggle:e,onLongPress:n,isDeleting:r,frequencyColor:i}){const s=Q.useRef(null),[o,l]=Q.useState([]),u=g=>{const y=g.currentTarget.getBoundingClientRect(),w=g.clientX-y.left,I=g.clientY-y.top;s.current=setTimeout(()=>{l(k=>[...k,{id:Date.now(),x:w,y:I}]),n(t)},600)},d=()=>{clearTimeout(s.current)},h=g=>{l(y=>y.filter(w=>w.id!==g))};return M.jsxs("li",{onPointerDown:u,onPointerUp:d,onPointerLeave:d,className:`
        relative overflow-hidden flex items-center justify-between
        rounded-md px-4 py-4 text-base text-white transition-all duration-300
        ${r?"opacity-0 translate-x-4":""}
      `,style:{backgroundColor:i},children:[o.map(g=>M.jsx("span",{onAnimationEnd:()=>h(g.id),className:"absolute pointer-events-none animate-ripple bg-black/10 rounded-full",style:{left:g.x,top:g.y,width:100,height:100,marginLeft:-50,marginTop:-50}},g.id)),M.jsxs("div",{className:"flex items-center gap-3 w-full",children:[M.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:t.done,onChange:()=>e(t.id)}),M.jsx("span",{className:"w-full cursor-pointer",children:t.description})]})]})}const G2=["daily","weekly","monthly","quarterly"],dy={daily:"#69A5D1",weekly:"#B75634",monthly:"#EFB643",quarterly:"#6AA968"};function Y2({tasks:t=[],setTasks:e,addTask:n,updateTask:r,removeTask:i}){const s=[{id:1,description:"Feed Coltrane",frequency:"daily",recurring:!0,done:!1},{id:2,description:"Unload dishwasher",frequency:"daily",recurring:!1,done:!1},{id:3,description:"Take out trash",frequency:"weekly",recurring:!0,done:!1},{id:4,description:"Change air filter",frequency:"monthly",recurring:!0,done:!1},{id:5,description:"Clean gutters",frequency:"quarterly",recurring:!0,done:!1}],[o,l]=Q.useState(!1),[u,d]=Q.useState(null),[h,g]=Q.useState([]);Q.useEffect(()=>{t.length===0&&e&&e(s)},[t.length,e,s]),Q.useEffect(()=>{if(e&&t.length>0){const I=t.map(k=>{if(!k.recurring||!k.lastCompleted||!k.done)return k;const B=new Date(k.lastCompleted),T=Math.floor((new Date-B)/(1e3*60*60*24)),P={daily:1,weekly:7,monthly:30,quarterly:120}[k.frequency];return T>=P?be(ee({},k),{done:!1,lastCompleted:null}):k});JSON.stringify(I)!==JSON.stringify(t)&&e(I)}},[e,t]);function y(I){g(k=>[...k,I]),setTimeout(()=>{const k=t.find(b=>b.id===I);if(!k)return;const B=be(ee({},k),{done:!k.done,lastCompleted:k.done?null:new Date().toISOString()});if(!k.recurring&&!k.done){if(i)i(I);else if(e){const b=t.filter(T=>T.id!==I);e(b)}}else if(r)r(I,B);else if(e){const b=t.map(T=>T.id===I?B:T);e(b)}g(b=>b.filter(T=>T!==I))},300)}function w(I){d(I)}return M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"h-full",children:[M.jsx(yu,{title:"Our Tasks",className:"mb-4"}),M.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-xl p-6 h-[500px] overflow-y-auto flex flex-col scrollbar-hide",children:G2.map(I=>{const k=t.filter(B=>B.frequency===I&&!B.done);return k.length===0?null:M.jsxs("div",{className:"mb-block",children:[M.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-2",style:{color:dy[I]},children:I}),M.jsx("ul",{className:"space-y-2",children:k.map(B=>M.jsx(K2,{task:B,onToggle:y,onLongPress:w,isDeleting:h.includes(B.id),frequencyColor:dy[B.frequency]},B.id))})]},I)})})]}),o&&M.jsx(Gd,{onClose:()=>l(!1),onSave:I=>{n?n(I):e&&e([...t,I]),l(!1)}}),u&&M.jsx(Gd,{isOpen:!0,task:u,onClose:()=>d(null),onSave:I=>{if(r)r(I.id,I);else if(e){const k=t.map(B=>B.id===I.id?I:B);e(k)}d(null)},onDelete:I=>{if(i)i(I.id);else if(e){const k=t.filter(B=>B.id!==I.id);e(k)}d(null)}})]})}function Q2({meals:t={}}){console.log("WeeklyMeals: received meals prop:",t);const e=["Chicken Alfredo","Taco Tuesday","Beef Stir Fry","Lemon Herb Salmon","Pizza Night","BBQ Ribs","Roast Chicken"],n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],r=n.map((u,d)=>t[u]||e[d]);console.log("WeeklyMeals: final mealNames:",r);const i=["https://images.unsplash.com/photo-1578515637272-e4afe0b8ec82?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1526213174737-acd9757c6bf3?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1482275548304-a58859dc31b7?q=80&w=2076&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1547573854-74d2a71d0826?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1630443876697-e0d2faac7b51?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1471193945509-9ad0617afabf?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1519671482749-fd09be7ccebf?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?q=80&w=2081&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=2174&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],s=(new Date().getDay()+6)%7,[o,l]=Q.useState(()=>{const u=i[s],d=i.filter(g=>g!==u),h=d.length>0?d[Math.floor(Math.random()*d.length)]:i[0];return console.log("Initial small card photo selected:",h),h});return Q.useEffect(()=>{const d=setInterval(()=>{const h=i[s],g=i.filter(y=>y!==h&&y!==o);if(g.length>0){const y=g[Math.floor(Math.random()*g.length)];console.log("Rotating small card to new photo:",y),l(y)}else{const y=i.find(w=>w!==o)||i[0];console.log("Using fallback photo for small card:",y),l(y)}},72e5);return()=>clearInterval(d)},[o,s]),M.jsxs("div",{className:"w-full mb-8 pt-8",children:[M.jsx(yu,{title:"Weekly Meal Plan",className:"mb-6"}),M.jsxs("div",{style:{width:"100%",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"stretch",gap:"12px",position:"relative"},children:[M.jsxs("div",{className:"parallax-bg",style:{flex:"2 1 0",height:"380px",borderRadius:"16px",backgroundImage:`linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.0) 66%, rgba(0,0,0,0.0) 100%), url('${i[s]}')`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(229, 231, 235, 1)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",position:"relative",overflow:"hidden",paddingLeft:"40px",minWidth:0},children:[M.jsx("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#48AF55",marginBottom:"6px",letterSpacing:"0.5px",textTransform:"uppercase",textAlign:"left"},children:"Today"}),M.jsx("div",{style:{fontWeight:"200",fontSize:"2.75rem",color:"#ffffff",textAlign:"left"},children:r[s]})]}),M.jsx(Go.div,{className:"relative overflow-hidden bg-cover bg-center bg-no-repeat",style:{flex:"1 1 0",height:"380px",borderRadius:"16px",backgroundImage:`url('${o}')`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(229, 231, 235, 1)",minWidth:0,marginRight:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:M.jsx("div",{className:"absolute inset-0 flex flex-col",style:{background:"linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.4) 100%)",display:"flex",flexDirection:"column"},children:M.jsx("div",{style:{flex:"1 1 0",overflowY:"auto",paddingLeft:"32px",paddingRight:"16px",paddingTop:"24px",paddingBottom:"24px"},className:"scrollbar-hide",children:M.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:n.map((u,d)=>{const g=d<s?.6:1;return M.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",opacity:g},children:[M.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:d===s?"#48AF55":"#93C5FD",textTransform:"uppercase",letterSpacing:"0.5px"},children:d===s?"Today":u}),M.jsx("div",{style:{fontSize:"1.375rem",fontWeight:"300",color:"#ffffff",lineHeight:"1.3"},children:r[d]})]},u)})})})})},o)]})]})}function q2({groceryItems:t,setGroceryItems:e,addGroceryItem:n,updateGroceryItem:r,removeGroceryItem:i,tasks:s,setTasks:o,addTask:l,updateTask:u,removeTask:d,meals:h,setMeals:g}){const y=typeof window!="undefined"&&window.innerWidth<768;return M.jsxs("div",{className:`p-2 sm:p-4 flex flex-col ${y?"gap-3":"gap-4"}`,children:[!y&&M.jsx(z2,{}),M.jsxs("section",{className:`grid grid-cols-1 ${y?"":"md:grid-cols-2"} gap-3 sm:gap-4`,children:[M.jsx($2,{items:t,setItems:e,addGroceryItem:n,updateGroceryItem:r}),M.jsx(Y2,{tasks:s,setTasks:o,addTask:l,updateTask:u,removeTask:d})]}),!y&&M.jsx(Q2,{meals:h,setMeals:g})]})}function X2(){return M.jsx("div",{className:"text-center p-10 text-xl",children:"Coming soon: Home Dashboard"})}function Z2(){return M.jsx("div",{className:"text-center p-10 text-xl",children:"Coming soon: Family Dashboard"})}const J2={ALERTS:q2,HOME:X2,FAMILY:Z2};function eI({currentTab:t,groceryItems:e,setGroceryItems:n,addGroceryItem:r,updateGroceryItem:i,removeGroceryItem:s,tasks:o,setTasks:l,addTask:u,updateTask:d,removeTask:h,meals:g,setMeals:y}){const w=J2[t];return M.jsx("div",{className:"relative w-full",children:M.jsx(Oh,{mode:"wait",children:M.jsx(Go.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},children:M.jsx(w,{groceryItems:e,setGroceryItems:n,addGroceryItem:r,updateGroceryItem:i,removeGroceryItem:s,tasks:o,setTasks:l,addTask:u,updateTask:d,removeTask:h,meals:g,setMeals:y})},t)})})}function tI({children:t}){return M.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[M.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(ellipse_at_center,_#FDF6E7,_#FBEED4)]"}),M.jsx("div",{className:"absolute inset-0 z-10 grid grid-cols-3 grid-rows-3 w-full h-full pointer-events-none",children:[...Array(9)].map((e,n)=>M.jsx("img",{src:"/family-hub/PatternBG.svg",alt:"",className:"w-full h-full object-cover",draggable:"false"},n))}),M.jsx("div",{className:"absolute inset-0 z-15 overflow-hidden pointer-events-none",children:M.jsx("div",{className:"glint-mask"})}),M.jsx("div",{className:"relative z-20",children:t})]})}const nI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(t,e){if(!t)throw Ns(e)},Ns=function(t){return new Error("Firebase Database ("+Y_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,h=s>>2,g=(s&3)<<4|l>>4;let y=(l&15)<<2|d>>6,w=d&63;u||(w=64,o||(y=64)),r.push(n[h],n[g],n[y],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||g==null)throw new iI;const y=s<<2|l>>4;if(r.push(y),d!==64){const w=l<<4&240|d>>2;if(r.push(w),g!==64){const I=d<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q_=function(t){const e=Q_(t);return $h.encodeByteArray(e,!0)},Ml=function(t){return q_(t).replace(/\./g,"")},Yd=function(t){try{return $h.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){return X_(void 0,t)}function X_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oI(n)||(t[n]=X_(t[n],e[n]));return t}function oI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=()=>aI().__FIREBASE_DEFAULTS__,uI=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cI=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Yd(t[1]);return e&&JSON.parse(e)},Z_=()=>{try{return nI()||lI()||uI()||cI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dI=t=>{var e,n;return(n=(e=Z_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},fI=t=>{const e=dI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},J_=()=>{var t;return(t=Z_())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function hI(t){return ft(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=ee({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Ml(JSON.stringify(n)),Ml(JSON.stringify(o)),l].join(".")}const _o={};function mI(){const t={prod:[],emulator:[]};for(const e of Object.keys(_o))_o[e]?t.emulator.push(e):t.prod.push(e);return t}function gI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fy=!1;function yI(t,e){if(typeof window=="undefined"||typeof document=="undefined"||!Kh(window.location.host)||_o[t]===e||_o[t]||fy)return;_o[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",s=mI().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function l(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,w){y.setAttribute("width","24"),y.setAttribute("id",w),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{fy=!0,o()},y}function h(y,w){y.setAttribute("id",w),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function g(){const y=gI(r),w=n("text"),I=document.getElementById(w)||document.createElement("span"),k=n("learnmore"),B=document.getElementById(k)||document.createElement("a"),b=n("preprendIcon"),T=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const P=y.element;l(P),h(B,k);const L=d();u(T,b),P.append(T,I,B,L),document.body.appendChild(P)}s?(I.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ew(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vI())}function _I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tw(){return Y_.NODE_ADMIN===!0}function wI(){try{return typeof indexedDB=="object"}catch(t){return!1}}function xI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="FirebaseError";class pa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SI,Object.setPrototypeOf(this,pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nw.prototype.create)}}class nw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CI(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new pa(i,l,r)}}function CI(t,e){return t.replace(EI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t){return JSON.parse(t)}function Et(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Yo(Yd(s[0])||""),n=Yo(Yd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},bI=function(t){const e=rw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},TI=function(t){const e=rw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ys(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ol(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(py(s)&&py(o)){if(!Ll(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function py(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const y=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],d,h;for(let g=0;g<80;g++){g<40?g<20?(d=l^s&(o^l),h=1518500249):(d=s^o^l,h=1859775393):g<60?(d=s&o|l&(s|o),h=2400959708):(d=s^o^l,h=3395469782);const y=(i<<5|i>>>27)+d+u+h+r[g]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function vu(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,ne(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_u=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){return t&&t._delegate?t._delegate:t}class Qo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ha;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!=null?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AI(e))try{this.getOrInitializeService({instanceIdentifier:ei})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return ft(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ei){return this.instances.has(e)}getOptions(e=ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var o;const r=this.normalizeInstanceIdentifier(n),i=(o=this.onInitCallbacks.get(r))!=null?o:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=ei){return this.component?this.component.multipleInstances?e:ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DI(t){return t===ei?void 0:t}function AI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const MI={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},OI=$e.INFO,LI={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},jI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LI[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iw{constructor(e){this.name=e,this._logLevel=OI,this._logHandler=jI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const FI=(t,e)=>e.some(n=>t instanceof n);let my,gy;function BI(){return my||(my=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VI(){return gy||(gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sw=new WeakMap,Qd=new WeakMap,ow=new WeakMap,xc=new WeakMap,Gh=new WeakMap;function UI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sw.set(n,t)}).catch(()=>{}),Gh.set(e,t),e}function zI(t){if(Qd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qd.set(t,e)}let qd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ow.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WI(t){qd=t(qd)}function HI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sc(this),e,...n);return ow.set(r,e.sort?e.sort():[e]),jr(r)}:VI().includes(t)?function(...e){return t.apply(Sc(this),e),jr(sw.get(this))}:function(...e){return jr(t.apply(Sc(this),e))}}function $I(t){return typeof t=="function"?HI(t):(t instanceof IDBTransaction&&zI(t),FI(t,BI())?new Proxy(t,qd):t)}function jr(t){if(t instanceof IDBRequest)return UI(t);if(xc.has(t))return xc.get(t);const e=$I(t);return e!==t&&(xc.set(t,e),Gh.set(e,t)),e}const Sc=t=>Gh.get(t);function KI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=jr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(jr(o.result),u.oldVersion,u.newVersion,jr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const GI=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],Cc=new Map;function yy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cc.get(e))return Cc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GI.includes(n)))return;const s=function(o,...l){return ft(this,null,function*(){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(yield Promise.all([d[n](...l),i&&u.done]))[0]})};return Cc.set(e,s),s}WI(t=>be(ee({},t),{get:(e,n,r)=>yy(e,n)||t.get(e,n,r),has:(e,n)=>!!yy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",vy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new iw("@firebase/app"),XI="@firebase/app-compat",ZI="@firebase/analytics-compat",JI="@firebase/analytics",eP="@firebase/app-check-compat",tP="@firebase/app-check",nP="@firebase/auth",rP="@firebase/auth-compat",iP="@firebase/database",sP="@firebase/data-connect",oP="@firebase/database-compat",aP="@firebase/functions",lP="@firebase/functions-compat",uP="@firebase/installations",cP="@firebase/installations-compat",dP="@firebase/messaging",fP="@firebase/messaging-compat",hP="@firebase/performance",pP="@firebase/performance-compat",mP="@firebase/remote-config",gP="@firebase/remote-config-compat",yP="@firebase/storage",vP="@firebase/storage-compat",_P="@firebase/firestore",wP="@firebase/ai",xP="@firebase/firestore-compat",SP="firebase",CP="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",EP={[Xd]:"fire-core",[XI]:"fire-core-compat",[JI]:"fire-analytics",[ZI]:"fire-analytics-compat",[tP]:"fire-app-check",[eP]:"fire-app-check-compat",[nP]:"fire-auth",[rP]:"fire-auth-compat",[iP]:"fire-rtdb",[sP]:"fire-data-connect",[oP]:"fire-rtdb-compat",[aP]:"fire-fn",[lP]:"fire-fn-compat",[uP]:"fire-iid",[cP]:"fire-iid-compat",[dP]:"fire-fcm",[fP]:"fire-fcm-compat",[hP]:"fire-perf",[pP]:"fire-perf-compat",[mP]:"fire-rc",[gP]:"fire-rc-compat",[yP]:"fire-gcs",[vP]:"fire-gcs-compat",[_P]:"fire-fst",[xP]:"fire-fst-compat",[wP]:"fire-vertex","fire-js":"fire-js",[SP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new Map,bP=new Map,Jd=new Map;function _y(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fl(t){const e=t.name;if(Jd.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,t);for(const n of jl.values())_y(n,t);for(const n of bP.values())_y(n,t);return!0}function TP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new nw("app","Firebase",IP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r){this._isDeleted=!1,this._options=ee({},e),this._config=ee({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=CP;function aw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=ee({name:Zd,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=J_()),!n)throw Fr.create("no-options");const s=jl.get(i);if(s){if(Ll(n,s.options)&&Ll(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new RI(i);for(const u of Jd.values())o.addComponent(u);const l=new PP(n,r,o);return jl.set(i,l),l}function DP(t=Zd){const e=jl.get(t);if(!e&&t===Zd&&J_())return aw();if(!e)throw Fr.create("no-app",{appName:t});return e}function rs(t,e,n){var o;let r=(o=EP[t])!=null?o:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(l.join(" "));return}Fl(new Qo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="firebase-heartbeat-database",RP=1,qo="firebase-heartbeat-store";let Ec=null;function lw(){return Ec||(Ec=KI(AP,RP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Ec}function MP(t){return ft(this,null,function*(){try{const n=(yield lw()).transaction(qo),r=yield n.objectStore(qo).get(uw(t));return yield n.done,r}catch(e){if(e instanceof pa)hr.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}})}function wy(t,e){return ft(this,null,function*(){try{const r=(yield lw()).transaction(qo,"readwrite");yield r.objectStore(qo).put(e,uw(t)),yield r.done}catch(n){if(n instanceof pa)hr.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(r.message)}}})}function uw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=1024,LP=30;class jP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return ft(this,null,function*(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>LP){const o=VP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hr.warn(r)}})}getHeartbeatsHeader(){return ft(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xy(),{heartbeatsToSend:r,unsentEntries:i}=FP(this._heartbeatsCache.heartbeats),s=Ml(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return hr.warn(n),""}})}}function xy(){return new Date().toISOString().substring(0,10)}function FP(t,e=OP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return ft(this,null,function*(){return wI()?xI().then(()=>!0).catch(()=>!1):!1})}read(){return ft(this,null,function*(){if(yield this._canUseIndexedDBPromise){const n=yield MP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return ft(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return wy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return ft(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return wy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}}function Sy(t){return Ml(JSON.stringify({version:2,heartbeats:t})).length}function VP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t){Fl(new Qo("platform-logger",e=>new QI(e),"PRIVATE")),Fl(new Qo("heartbeat",e=>new jP(e),"PRIVATE")),rs(Xd,vy,t),rs(Xd,vy,"esm2020"),rs("fire-js","")}UP("");const Cy="@firebase/database",Ey="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cw="";function zP(t){cw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Yo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Gn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new WP(e)}}catch(e){}return new HP},li=dw("localStorage"),ef=dw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new iw("@firebase/database"),$P=function(){let t=1;return function(){return t++}}(),fw=function(t){const e=PI(t),n=new II;n.update(e);const r=n.digest();return $h.encodeByteArray(r)},ma=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ma.apply(null,r):typeof r=="object"?e+=Et(r):e+=r,e+=" "}return e};let hi=null,by=!0;const KP=function(t,e){ne(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(is.logLevel=$e.VERBOSE,hi=is.log.bind(is),e&&ef.set("logging_enabled",!0)):typeof t=="function"?hi=t:(hi=null,ef.remove("logging_enabled"))},Pt=function(...t){if(by===!0&&(by=!1,hi===null&&ef.get("logging_enabled")===!0&&KP(!0)),hi){const e=ma.apply(null,t);hi(e)}},ga=function(t){return function(...e){Pt(t,...e)}},tf=function(...t){const e="FIREBASE INTERNAL ERROR: "+ma(...t);is.error(e)},pr=function(...t){const e=`FIREBASE FATAL ERROR: ${ma(...t)}`;throw is.error(e),new Error(e)},Wt=function(...t){const e="FIREBASE WARNING: "+ma(...t);is.warn(e)},GP=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Yh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},vs="[MIN_NAME]",_i="[MAX_NAME]",bi=function(t,e){if(t===e)return 0;if(t===vs||e===_i)return-1;if(e===vs||t===_i)return 1;{const n=Ty(t),r=Ty(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},QP=function(t,e){return t===e?0:t<e?-1:1},Ks=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Et(e))},Qh=function(t){if(typeof t!="object"||t===null)return Et(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Et(e[r]),n+=":",n+=Qh(t[e[r]]);return n+="}",n},hw=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function At(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pw=function(t){ne(!Yh(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const d=[];for(u=n;u;u-=1)d.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)d.push(s%2?1:0),s=Math.floor(s/2);d.push(i?1:0),d.reverse();const h=d.join("");let g="";for(u=0;u<64;u+=8){let y=parseInt(h.substr(u,8),2).toString(16);y.length===1&&(y="0"+y),g=g+y}return g.toLowerCase()},qP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},XP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ZP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const JP=new RegExp("^-?(0*)\\d{1,10}$"),eN=-2147483648,tN=2147483647,Ty=function(t){if(JP.test(t)){const e=Number(t);if(e>=eN&&e<=tN)return e}return null},As=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},nN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},wo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno!="undefined"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,kP(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(e)}}class ss{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ss.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh="5",mw="v",gw="s",yw="r",vw="f",_w=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ww="ls",xw="p",nf="ac",Sw="websocket",Cw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r,i,s=!1,o="",l=!1,u=!1,d=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=li.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&li.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function sN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function bw(t,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===Sw)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Cw)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sN(t)&&(n.ns=t.namespace);const i=[];return At(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.counters_={}}incrementCounter(e,n=1){Gn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={},Tc={};function Xh(t){const e=t.toString();return bc[e]||(bc[e]=new oN),bc[e]}function aN(t,e){const n=t.toString();return Tc[n]||(Tc[n]=e()),Tc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&As(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="start",uN="close",cN="pLPCommand",dN="pRTLPCB",Tw="id",kw="pw",Iw="ser",fN="cb",hN="seg",pN="ts",mN="d",gN="dframe",Pw=1870,Nw=30,yN=Pw-Nw,vN=25e3,_N=3e4;class Qi{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ga(e),this.stats_=Xh(n),this.urlFn=u=>(this.appCheckToken&&(u[nf]=this.appCheckToken),bw(n,Cw,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_N)),YP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zh((...s)=>{const[o,l,u,d,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ky)this.id=l,this.password=u;else if(o===uN)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[ky]="t",r[Iw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[fN]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mw]=qh,this.transportSessionId&&(r[gw]=this.transportSessionId),this.lastSessionId&&(r[ww]=this.lastSessionId),this.applicationId&&(r[xw]=this.applicationId),this.appCheckToken&&(r[nf]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&_w.test(location.hostname)&&(r[yw]=vw);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qi.forceAllow_=!0}static forceDisallow(){Qi.forceDisallow_=!0}static isAvailable(){return Qi.forceAllow_?!0:!Qi.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!qP()&&!XP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=q_(n),i=hw(r,yN);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[gN]="t",r[Tw]=e,r[kw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Zh{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$P(),window[cN+this.uniqueCallbackIdentifier]=e,window[dN+this.uniqueCallbackIdentifier]=n,this.myIFrame=Zh.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Pt("frame writing exception"),l.stack&&Pt(l.stack),Pt(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pt("No IE domain setting required")}catch(n){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Tw]=this.myID,e[kw]=this.myPW,e[Iw]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Nw+r.length<=Pw;){const o=this.pendingSegs.shift();r=r+"&"+hN+i+"="+o.seg+"&"+pN+i+"="+o.ts+"&"+mN+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(vN)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=16384,xN=45e3;let Bl=null;typeof MozWebSocket!="undefined"?Bl=MozWebSocket:typeof WebSocket!="undefined"&&(Bl=WebSocket);class Pn{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ga(this.connId),this.stats_=Xh(n),this.connURL=Pn.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[mw]=qh,typeof location!="undefined"&&location.hostname&&_w.test(location.hostname)&&(o[yw]=vw),n&&(o[gw]=n),r&&(o[ww]=r),i&&(o[nf]=i),s&&(o[xw]=s),bw(e,Sw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,li.set("previous_websocket_failure",!0);try{let r;tw(),this.mySock=new Bl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Bl!==null&&!Pn.forceDisallow_}static previouslyFailed(){return li.isInMemoryStorage||li.get("previous_websocket_failure")===!0}markConnectionHealthy(){li.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Yo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hw(n,wN);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pn.responsesRequiredToBeHealthy=2;Pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static get ALL_TRANSPORTS(){return[Qi,Pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Pn&&Pn.isAvailable();let r=n&&!Pn.previouslyFailed();if(e.webSocketOnly&&(n||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Pn];else{const i=this.transports_=[];for(const s of Xo.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Xo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=6e4,CN=5e3,EN=10*1024,bN=100*1024,kc="t",Iy="d",TN="s",Py="r",kN="e",Ny="o",Dy="a",Ay="n",Ry="p",IN="h";class PN{constructor(e,n,r,i,s,o,l,u,d,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=d,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ga("c:"+this.id+":"),this.transportManager_=new Xo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=wo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>EN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kc in e){const n=e[kc];n===Dy?this.upgradeIfSecondaryHealthy_():n===Py?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ny&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ks("t",e),r=Ks("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ry,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Dy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ay,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ks("t",e),r=Ks("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ks(kc,e);if(Iy in e){const r=e[Iy];if(n===IN){const i=ee({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Ay){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===TN?this.onConnectionShutdown_(r):n===Py?this.onReset_(r):n===kN?tf("Server Error: "+r):n===Ny?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qh!==r&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),wo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(SN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(CN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ry,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(li.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends Aw{static getInstance(){return new Vl}constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!ew()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=32,Oy=768;class Ue{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new Ue("")}function Ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Hr(t){return t.pieces_.length-t.pieceNum_}function Ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ue(t.pieces_,e)}function Jh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function NN(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Zo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Rw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ue(e,0)}function ot(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ue(n,0)}function De(t){return t.pieceNum_>=t.pieces_.length}function qt(t,e){const n=Ie(t),r=Ie(e);if(n===null)return e;if(n===r)return qt(Ke(t),Ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function DN(t,e){const n=Zo(t,0),r=Zo(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=bi(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function ep(t,e){if(Hr(t)!==Hr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function yn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Hr(t)>Hr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class AN{constructor(e,n){this.errorPrefix_=n,this.parts_=Zo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=_u(this.parts_[r]);Mw(this)}}function RN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_u(e),Mw(t)}function MN(t){const e=t.parts_.pop();t.byteLength_-=_u(e),t.parts_.length>0&&(t.byteLength_-=1)}function Mw(t){if(t.byteLength_>Oy)throw new Error(t.errorPrefix_+"has a key path longer than "+Oy+" bytes ("+t.byteLength_+").");if(t.parts_.length>My)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+My+") or object contains a cycle "+ti(t))}function ti(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Aw{static getInstance(){return new tp}constructor(){super(["visible"]);let e,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=1e3,ON=60*5*1e3,Ly=30*1e3,LN=1.3,jN=3e4,FN="server_kill",jy=3;class or extends Dw{constructor(e,n,r,i,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=or.nextPersistentConnectionId_++,this.log_=ga("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gs,this.maxReconnectDelay_=ON,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!tw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Vl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Et(s)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ha,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,d=l.s;or.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),d!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(d,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Gn(e,"w")){const r=ys(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TI(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ly)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=bI(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Et(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):tf("Unrecognized action received from server: "+Et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jN&&(this.reconnectDelay_=Gs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*LN)}this.onConnectStatus_(!1)}establishConnection_(){return ft(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+or.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,r())},d=function(g){ne(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)};this.realtime_={close:u,sendRequest:d};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,y]=yield Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?Pt("getToken() completed but was canceled"):(Pt("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=y&&y.token,l=new PN(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{Wt(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(FN)},s))}catch(g){this.log_("Failed to get token: "+g),o||(this.repoInfo_.nodeAdmin&&Wt(g),u())}}})}interrupt(e){Pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hy(this.interruptReasons_)&&(this.reconnectDelay_=Gs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Qh(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Ue(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Pt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jy&&(this.reconnectDelay_=Ly,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cw.replace(/\./g,"-")]=1,ew()?e["framework.cordova"]=1:_I()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vl.getInstance().currentlyOnline();return hy(this.interruptReasons_)&&e}}or.nextPersistentConnectionId_=0;or.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Pe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Pe(vs,e),i=new Pe(vs,n);return this.compare(r,i)!==0}minPost(){return Pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua;class Ow extends wu{static get __EMPTY_NODE(){return Ua}static set __EMPTY_NODE(e){Ua=e}compare(e,n){return bi(e.name,n.name)}isDefinedOn(e){throw Ns("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Pe.MIN}maxPost(){return new Pe(_i,Ua)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Pe(e,Ua)}toString(){return".key"}}const os=new Ow;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class St{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:St.RED,this.left=i!=null?i:Xt.EMPTY_NODE,this.right=s!=null?s:Xt.EMPTY_NODE}copy(e,n,r,i,s){return new St(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Xt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}St.RED=!0;St.BLACK=!1;class BN{copy(e,n,r,i,s){return this}insert(e,n,r){return new St(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xt{constructor(e,n=Xt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,St.BLACK,null,null))}remove(e){return new Xt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,St.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new za(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new za(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new za(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new za(this.root_,null,this.comparator_,!0,e)}}Xt.EMPTY_NODE=new BN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t,e){return bi(t.name,e.name)}function np(t,e){return bi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf;function UN(t){rf=t}const Lw=function(t){return typeof t=="number"?"number:"+pw(t):"string:"+t},jw=function(t){if(t.isLeafNode()){const e=t.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gn(e,".sv"),"Priority must be a string or number.")}else ne(t===rf||t.isEmpty(),"priority of unexpected type.");ne(t===rf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fy;class wt{static set __childrenNodeConstructor(e){Fy=e}static get __childrenNodeConstructor(){return Fy}constructor(e,n=wt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jw(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:wt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return De(e)?this:Ie(e)===".priority"?this.priorityNode_:wt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:wt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ie(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||Hr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,wt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Lw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pw(this.value_):e+=this.value_,this.lazyHash_=fw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wt.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=wt.VALUE_TYPE_ORDER.indexOf(n),s=wt.VALUE_TYPE_ORDER.indexOf(r);return ne(i>=0,"Unknown leaf type: "+n),ne(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}wt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw,Bw;function zN(t){Fw=t}function WN(t){Bw=t}class HN extends wu{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?bi(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Pe.MIN}maxPost(){return new Pe(_i,new wt("[PRIORITY-POST]",Bw))}makePost(e,n){const r=Fw(e);return new Pe(n,new wt("[PRIORITY-POST]",r))}toString(){return".priority"}}const at=new HN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=Math.log(2);class KN{constructor(e){const n=s=>parseInt(Math.log(s)/$N,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ul=function(t,e,n,r){t.sort(e);const i=function(u,d){const h=d-u;let g,y;if(h===0)return null;if(h===1)return g=t[u],y=n?n(g):g,new St(y,g.node,St.BLACK,null,null);{const w=parseInt(h/2,10)+u,I=i(u,w),k=i(w+1,d);return g=t[w],y=n?n(g):g,new St(y,g.node,St.BLACK,I,k)}},s=function(u){let d=null,h=null,g=t.length;const y=function(I,k){const B=g-I,b=g;g-=I;const T=i(B+1,b),P=t[B],L=n?n(P):P;w(new St(L,P.node,k,null,T))},w=function(I){d?(d.left=I,d=I):(h=I,d=I)};for(let I=0;I<u.count;++I){const k=u.nextBitIsOne(),B=Math.pow(2,u.count-(I+1));k?y(B,St.BLACK):(y(B,St.BLACK),y(B,St.RED))}return h},o=new KN(t.length),l=s(o);return new Xt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic;const Di={};class ir{static get Default(){return ne(Di&&at,"ChildrenNode.ts has not been loaded"),Ic=Ic||new ir({".priority":Di},{".priority":at}),Ic}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=ys(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xt?n:null}hasIndex(e){return Gn(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Pe.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Ul(r,e.getCompare()):l=Di;const u=e.toString(),d=ee({},this.indexSet_);d[u]=e;const h=ee({},this.indexes_);return h[u]=l,new ir(h,d)}addToIndexes(e,n){const r=Ol(this.indexes_,(i,s)=>{const o=ys(this.indexSet_,s);if(ne(o,"Missing index implementation for "+s),i===Di)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(Pe.Wrap);let d=u.getNext();for(;d;)d.name!==e.name&&l.push(d),d=u.getNext();return l.push(e),Ul(l,o.getCompare())}else return Di;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new Pe(e.name,l))),u.insert(e,e.node)}});return new ir(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ol(this.indexes_,i=>{if(i===Di)return i;{const s=n.get(e.name);return s?i.remove(new Pe(e.name,s)):i}});return new ir(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys;class _e{static get EMPTY_NODE(){return Ys||(Ys=new _e(new Xt(np),null,ir.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jw(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ys}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ys:n}}getChild(e){const n=Ie(e);return n===null?this:this.getImmediateChild(n).getChild(Ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Pe(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ys:this.priorityNode_;return new _e(i,o,s)}}updateChild(e,n){const r=Ie(e);if(r===null)return n;{ne(Ie(e)!==".priority"||Hr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Ke(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(at,(o,l)=>{n[o]=l.val(e),r++,s&&_e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Lw(this.getPriority().val())+":"),this.forEachChild(at,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":fw(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Pe(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Pe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Pe(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Pe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Pe.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ya?-1:0}withIndex(e){if(e===os||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===os||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(at),i=n.getIterator(at);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===os?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GN extends _e{constructor(){super(new Xt(np),_e.EMPTY_NODE,ir.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const ya=new GN;Object.defineProperties(Pe,{MIN:{value:new Pe(vs,_e.EMPTY_NODE)},MAX:{value:new Pe(_i,ya)}});Ow.__EMPTY_NODE=_e.EMPTY_NODE;wt.__childrenNodeConstructor=_e;UN(ya);WN(ya);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=!0;function Ct(t,e=null){if(t===null)return _e.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new wt(n,Ct(e))}if(!(t instanceof Array)&&YN){const n=[];let r=!1;if(At(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=Ct(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new Pe(o,u)))}}),n.length===0)return _e.EMPTY_NODE;const s=Ul(n,VN,o=>o.name,np);if(r){const o=Ul(n,at.getCompare());return new _e(s,Ct(e),new ir({".priority":o},{".priority":at}))}else return new _e(s,Ct(e),ir.Default)}else{let n=_e.EMPTY_NODE;return At(t,(r,i)=>{if(Gn(t,r)&&r.substring(0,1)!=="."){const s=Ct(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ct(e))}}zN(Ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends wu{constructor(e){super(),this.indexPath_=e,ne(!De(e)&&Ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?bi(e.name,n.name):s}makePost(e,n){const r=Ct(e),i=_e.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pe(n,i)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,ya);return new Pe(_i,e)}toString(){return Zo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN extends wu{compare(e,n){const r=e.node.compareTo(n.node);return r===0?bi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Pe.MIN}maxPost(){return Pe.MAX}makePost(e,n){const r=Ct(e);return new Pe(n,r)}toString(){return".value"}}const XN=new qN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){return{type:"value",snapshotNode:t}}function _s(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ea(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ZN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Jo(n,l)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(_s(n,r)):o.trackChildChange(ea(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(at,(i,s)=>{n.hasChild(i)||r.trackChildChange(Jo(i,s))}),n.isLeafNode()||n.forEachChild(at,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ea(i,s,o))}else r.trackChildChange(_s(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?_e.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.indexedFilter_=new rp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ta.getStartPost_(e),this.endPost_=ta.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Pe(n,r))||(r=_e.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=_e.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(_e.EMPTY_NODE);const s=this;return n.forEachChild(at,(o,l)=>{s.matches(new Pe(o,l))||(i=i.updateImmediateChild(o,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ta(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Pe(n,r))||(r=_e.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=_e.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(_e.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const g=this.index_.getCompare();o=(y,w)=>g(w,y)}else o=this.index_.getCompare();const l=e;ne(l.numChildren()===this.limit_,"");const u=new Pe(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(n)){const g=l.getImmediateChild(n);let y=i.getChildAfterChild(this.index_,d,this.reverse_);for(;y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);const w=y==null?1:o(y,u);if(h&&!r.isEmpty()&&w>=0)return s!=null&&s.trackChildChange(ea(n,r,g)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Jo(n,g));const k=l.updateImmediateChild(n,_e.EMPTY_NODE);return y!=null&&this.rangedFilter_.matches(y)?(s!=null&&s.trackChildChange(_s(y.name,y.node)),k.updateImmediateChild(y.name,y.node)):k}}else return r.isEmpty()?e:h&&o(d,u)>=0?(s!=null&&(s.trackChildChange(Jo(d.name,d.node)),s.trackChildChange(_s(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,_e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=at}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vs}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===at}copy(){const e=new ip;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function eD(t){return t.loadsAllData()?new rp(t.getIndex()):t.hasLimit()?new JN(t):new ta(t)}function By(t){const e={};if(t.isDefault())return e;let n;if(t.index_===at?n="$priority":t.index_===XN?n="$value":t.index_===os?n="$key":(ne(t.index_ instanceof QN,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Et(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Et(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Et(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Et(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Vy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==at&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Dw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ga("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=zl.getListenId_(e,r),l={};this.listens_[o]=l;const u=By(e._queryParams);this.restRequest_(s+".json",u,(d,h)=>{let g=h;if(d===404&&(g=null,d=null),d===null&&this.onDataUpdate_(s,g,!1,r),ys(this.listens_,o)===l){let y;d?d===401?y="permission_denied":y="rest_error:"+d:y="ok",i(y,null)}})}unlisten(e,n){const r=zl.getListenId_(e,n);delete this.listens_[r]}get(e){const n=By(e._queryParams),r=e._path.toString(),i=new ha;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+kI(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=Yo(l.responseText)}catch(d){Wt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&Wt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(){return{value:null,children:new Map}}function Uw(t,e,n){if(De(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ie(e);t.children.has(r)||t.children.set(r,Wl());const i=t.children.get(r);e=Ke(e),Uw(i,e,n)}}function sf(t,e,n){t.value!==null?n(e,t.value):nD(t,(r,i)=>{const s=new Ue(e.toString()+"/"+r);sf(i,s,n)})}function nD(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=ee({},e);return this.last_&&At(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=10*1e3,iD=30*1e3,sD=5*60*1e3;class oD{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rD(e);const r=Uy+(iD-Uy)*Math.random();wo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;At(e,(i,s)=>{s>0&&Gn(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),wo(this.reportStats_.bind(this),Math.floor(Math.random()*2*sD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nn||(Nn={}));function sp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function op(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ap(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nn.ACK_USER_WRITE,this.source=sp()}operationForChild(e){if(De(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ue(e));return new Hl(Fe(),n,this.revert)}}else return ne(Ie(this.path)===e,"operationForChild called for unrelated child."),new Hl(Ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.source=e,this.path=n,this.type=Nn.LISTEN_COMPLETE}operationForChild(e){return De(this.path)?new na(this.source,Fe()):new na(this.source,Ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nn.OVERWRITE}operationForChild(e){return De(this.path)?new wi(this.source,Fe(),this.snap.getImmediateChild(e)):new wi(this.source,Ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nn.MERGE}operationForChild(e){if(De(this.path)){const n=this.children.subtree(new Ue(e));return n.isEmpty()?null:n.value?new wi(this.source,Fe(),n.value):new ws(this.source,Fe(),n)}else return ne(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ws(this.source,Ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(De(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lD(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ZN(o.childName,o.snapshotNode))}),Qs(t,i,"child_removed",e,r,n),Qs(t,i,"child_added",e,r,n),Qs(t,i,"child_moved",s,r,n),Qs(t,i,"child_changed",e,r,n),Qs(t,i,"value",e,r,n),i}function Qs(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>cD(t,l,u)),o.forEach(l=>{const u=uD(t,l,s);i.forEach(d=>{d.respondsTo(l.type)&&e.push(d.createEvent(u,t.query_))})})}function uD(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function cD(t,e,n){if(e.childName==null||n.childName==null)throw Ns("Should only compare child_ events.");const r=new Pe(e.childName,e.snapshotNode),i=new Pe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t,e){return{eventCache:t,serverCache:e}}function xo(t,e,n,r){return xu(new xi(e,n,r),t.serverCache)}function zw(t,e,n,r){return xu(t.eventCache,new xi(e,n,r))}function of(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Si(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;const dD=()=>(Pc||(Pc=new Xt(QP)),Pc);class He{static fromObject(e){let n=new He(null);return At(e,(r,i)=>{n=n.set(new Ue(r),i)}),n}constructor(e,n=dD()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(De(e))return null;{const r=Ie(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Ke(e),n);return s!=null?{path:ot(new Ue(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(De(e))return this;{const n=Ie(e),r=this.children.get(n);return r!==null?r.subtree(Ke(e)):new He(null)}}set(e,n){if(De(e))return new He(n,this.children);{const r=Ie(e),s=(this.children.get(r)||new He(null)).set(Ke(e),n),o=this.children.insert(r,s);return new He(this.value,o)}}remove(e){if(De(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=Ie(e),r=this.children.get(n);if(r){const i=r.remove(Ke(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new He(null):new He(this.value,s)}else return this}}get(e){if(De(e))return this.value;{const n=Ie(e),r=this.children.get(n);return r?r.get(Ke(e)):null}}setTree(e,n){if(De(e))return n;{const r=Ie(e),s=(this.children.get(r)||new He(null)).setTree(Ke(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new He(this.value,o)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ot(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(De(e))return null;{const s=Ie(e),o=this.children.get(s);return o?o.findOnPath_(Ke(e),ot(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,r){if(De(e))return this;{this.value&&r(n,this.value);const i=Ie(e),s=this.children.get(i);return s?s.foreachOnPath_(Ke(e),ot(n,i),r):new He(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ot(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.writeTree_=e}static empty(){return new Rn(new He(null))}}function So(t,e,n){if(De(e))return new Rn(new He(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=qt(i,e);return s=s.updateChild(o,n),new Rn(t.writeTree_.set(i,s))}else{const i=new He(n),s=t.writeTree_.setTree(e,i);return new Rn(s)}}}function af(t,e,n){let r=t;return At(n,(i,s)=>{r=So(r,ot(e,i),s)}),r}function zy(t,e){if(De(e))return Rn.empty();{const n=t.writeTree_.setTree(e,new He(null));return new Rn(n)}}function lf(t,e){return Ti(t,e)!=null}function Ti(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(qt(n.path,e)):null}function Wy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(at,(r,i)=>{e.push(new Pe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Pe(r,i.value))}),e}function Br(t,e){if(De(e))return t;{const n=Ti(t,e);return n!=null?new Rn(new He(n)):new Rn(t.writeTree_.subtree(e))}}function uf(t){return t.writeTree_.isEmpty()}function xs(t,e){return Ww(Fe(),t.writeTree_,e)}function Ww(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(ne(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Ww(ot(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ot(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e){return Gw(e,t)}function fD(t,e,n,r,i){ne(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=So(t.visibleWrites,e,n)),t.lastWriteId=r}function hD(t,e,n,r){ne(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=af(t.visibleWrites,e,n),t.lastWriteId=r}function pD(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function mD(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&gD(l,r.path)?i=!1:yn(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return yD(t),!0;if(r.snap)t.visibleWrites=zy(t.visibleWrites,r.path);else{const l=r.children;At(l,u=>{t.visibleWrites=zy(t.visibleWrites,ot(r.path,u))})}return!0}else return!1}function gD(t,e){if(t.snap)return yn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&yn(ot(t.path,n),e))return!0;return!1}function yD(t){t.visibleWrites=Hw(t.allWrites,vD,Fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vD(t){return t.visible}function Hw(t,e,n){let r=Rn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)yn(n,o)?(l=qt(n,o),r=So(r,l,s.snap)):yn(o,n)&&(l=qt(o,n),r=So(r,Fe(),s.snap.getChild(l)));else if(s.children){if(yn(n,o))l=qt(n,o),r=af(r,l,s.children);else if(yn(o,n))if(l=qt(o,n),De(l))r=af(r,Fe(),s.children);else{const u=ys(s.children,Ie(l));if(u){const d=u.getChild(Ke(l));r=So(r,Fe(),d)}}}else throw Ns("WriteRecord should have .snap or .children")}}return r}function $w(t,e,n,r,i){if(!r&&!i){const s=Ti(t.visibleWrites,e);if(s!=null)return s;{const o=Br(t.visibleWrites,e);if(uf(o))return n;if(n==null&&!lf(o,Fe()))return null;{const l=n||_e.EMPTY_NODE;return xs(o,l)}}}else{const s=Br(t.visibleWrites,e);if(!i&&uf(s))return n;if(!i&&n==null&&!lf(s,Fe()))return null;{const o=function(d){return(d.visible||i)&&(!r||!~r.indexOf(d.writeId))&&(yn(d.path,e)||yn(e,d.path))},l=Hw(t.allWrites,o,e),u=n||_e.EMPTY_NODE;return xs(l,u)}}}function _D(t,e,n){let r=_e.EMPTY_NODE;const i=Ti(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(at,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Br(t.visibleWrites,e);return n.forEachChild(at,(o,l)=>{const u=xs(Br(s,new Ue(o)),l);r=r.updateImmediateChild(o,u)}),Wy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Br(t.visibleWrites,e);return Wy(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wD(t,e,n,r,i){ne(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ot(e,n);if(lf(t.visibleWrites,s))return null;{const o=Br(t.visibleWrites,s);return uf(o)?i.getChild(n):xs(o,i.getChild(n))}}function xD(t,e,n,r){const i=ot(e,n),s=Ti(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Br(t.visibleWrites,i);return xs(o,r.getNode().getImmediateChild(n))}else return null}function SD(t,e){return Ti(t.visibleWrites,e)}function CD(t,e,n,r,i,s,o){let l;const u=Br(t.visibleWrites,e),d=Ti(u,Fe());if(d!=null)l=d;else if(n!=null)l=xs(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],g=o.getCompare(),y=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let w=y.getNext();for(;w&&h.length<i;)g(w,r)!==0&&h.push(w),w=y.getNext();return h}else return[]}function ED(){return{visibleWrites:Rn.empty(),allWrites:[],lastWriteId:-1}}function $l(t,e,n,r){return $w(t.writeTree,t.treePath,e,n,r)}function up(t,e){return _D(t.writeTree,t.treePath,e)}function Hy(t,e,n,r){return wD(t.writeTree,t.treePath,e,n,r)}function Kl(t,e){return SD(t.writeTree,ot(t.treePath,e))}function bD(t,e,n,r,i,s){return CD(t.writeTree,t.treePath,e,n,r,i,s)}function cp(t,e,n){return xD(t.writeTree,t.treePath,e,n)}function Kw(t,e){return Gw(ot(t.treePath,e),t.writeTree)}function Gw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ea(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Jo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,_s(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ea(r,e.snapshotNode,i.oldSnap));else throw Ns("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Yw=new kD;class dp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Si(this.viewCache_),s=bD(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return{filter:t}}function PD(t,e){ne(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ND(t,e,n,r,i){const s=new TD;let o,l;if(n.type===Nn.OVERWRITE){const d=n;d.source.fromUser?o=cf(t,e,d.path,d.snap,r,i,s):(ne(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered()&&!De(d.path),o=Gl(t,e,d.path,d.snap,r,i,l,s))}else if(n.type===Nn.MERGE){const d=n;d.source.fromUser?o=AD(t,e,d.path,d.children,r,i,s):(ne(d.source.fromServer,"Unknown source."),l=d.source.tagged||e.serverCache.isFiltered(),o=df(t,e,d.path,d.children,r,i,l,s))}else if(n.type===Nn.ACK_USER_WRITE){const d=n;d.revert?o=OD(t,e,d.path,r,i,s):o=RD(t,e,d.path,d.affectedTree,r,i,s)}else if(n.type===Nn.LISTEN_COMPLETE)o=MD(t,e,n.path,r,s);else throw Ns("Unknown operation type: "+n.type);const u=s.getChanges();return DD(e,o,u),{viewCache:o,changes:u}}function DD(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=of(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Vw(of(e)))}}function Qw(t,e,n,r,i,s){const o=e.eventCache;if(Kl(r,n)!=null)return e;{let l,u;if(De(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Si(e),h=d instanceof _e?d:_e.EMPTY_NODE,g=up(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const d=$l(r,Si(e));l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const d=Ie(n);if(d===".priority"){ne(Hr(n)===1,"Can't have a priority with additional path components");const h=o.getNode();u=e.serverCache.getNode();const g=Hy(r,n,h,u);g!=null?l=t.filter.updatePriority(h,g):l=o.getNode()}else{const h=Ke(n);let g;if(o.isCompleteForChild(d)){u=e.serverCache.getNode();const y=Hy(r,n,o.getNode(),u);y!=null?g=o.getNode().getImmediateChild(d).updateChild(h,y):g=o.getNode().getImmediateChild(d)}else g=cp(r,d,e.serverCache);g!=null?l=t.filter.updateChild(o.getNode(),d,g,h,i,s):l=o.getNode()}}return xo(e,l,o.isFullyInitialized()||De(n),t.filter.filtersNodes())}}function Gl(t,e,n,r,i,s,o,l){const u=e.serverCache;let d;const h=o?t.filter:t.filter.getIndexedFilter();if(De(n))d=h.updateFullNode(u.getNode(),r,null);else if(h.filtersNodes()&&!u.isFiltered()){const w=u.getNode().updateChild(n,r);d=h.updateFullNode(u.getNode(),w,null)}else{const w=Ie(n);if(!u.isCompleteForPath(n)&&Hr(n)>1)return e;const I=Ke(n),B=u.getNode().getImmediateChild(w).updateChild(I,r);w===".priority"?d=h.updatePriority(u.getNode(),B):d=h.updateChild(u.getNode(),w,B,I,Yw,null)}const g=zw(e,d,u.isFullyInitialized()||De(n),h.filtersNodes()),y=new dp(i,g,s);return Qw(t,g,n,i,y,l)}function cf(t,e,n,r,i,s,o){const l=e.eventCache;let u,d;const h=new dp(i,e,s);if(De(n))d=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=xo(e,d,!0,t.filter.filtersNodes());else{const g=Ie(n);if(g===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),r),u=xo(e,d,l.isFullyInitialized(),l.isFiltered());else{const y=Ke(n),w=l.getNode().getImmediateChild(g);let I;if(De(y))I=r;else{const k=h.getCompleteChild(g);k!=null?Jh(y)===".priority"&&k.getChild(Rw(y)).isEmpty()?I=k:I=k.updateChild(y,r):I=_e.EMPTY_NODE}if(w.equals(I))u=e;else{const k=t.filter.updateChild(l.getNode(),g,I,y,h,o);u=xo(e,k,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function $y(t,e){return t.eventCache.isCompleteForChild(e)}function AD(t,e,n,r,i,s,o){let l=e;return r.foreach((u,d)=>{const h=ot(n,u);$y(e,Ie(h))&&(l=cf(t,l,h,d,i,s,o))}),r.foreach((u,d)=>{const h=ot(n,u);$y(e,Ie(h))||(l=cf(t,l,h,d,i,s,o))}),l}function Ky(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function df(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,d;De(n)?d=r:d=new He(null).setTree(n,r);const h=e.serverCache.getNode();return d.children.inorderTraversal((g,y)=>{if(h.hasChild(g)){const w=e.serverCache.getNode().getImmediateChild(g),I=Ky(t,w,y);u=Gl(t,u,new Ue(g),I,i,s,o,l)}}),d.children.inorderTraversal((g,y)=>{const w=!e.serverCache.isCompleteForChild(g)&&y.value===null;if(!h.hasChild(g)&&!w){const I=e.serverCache.getNode().getImmediateChild(g),k=Ky(t,I,y);u=Gl(t,u,new Ue(g),k,i,s,o,l)}}),u}function RD(t,e,n,r,i,s,o){if(Kl(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(De(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Gl(t,e,n,u.getNode().getChild(n),i,s,l,o);if(De(n)){let d=new He(null);return u.getNode().forEachChild(os,(h,g)=>{d=d.set(new Ue(h),g)}),df(t,e,n,d,i,s,l,o)}else return e}else{let d=new He(null);return r.foreach((h,g)=>{const y=ot(n,h);u.isCompleteForPath(y)&&(d=d.set(h,u.getNode().getChild(y)))}),df(t,e,n,d,i,s,l,o)}}function MD(t,e,n,r,i){const s=e.serverCache,o=zw(e,s.getNode(),s.isFullyInitialized()||De(n),s.isFiltered());return Qw(t,o,n,r,Yw,i)}function OD(t,e,n,r,i,s){let o;if(Kl(r,n)!=null)return e;{const l=new dp(r,e,i),u=e.eventCache.getNode();let d;if(De(n)||Ie(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=$l(r,Si(e));else{const g=e.serverCache.getNode();ne(g instanceof _e,"serverChildren would be complete if leaf node"),h=up(r,g)}h=h,d=t.filter.updateFullNode(u,h,s)}else{const h=Ie(n);let g=cp(r,h,e.serverCache);g==null&&e.serverCache.isCompleteForChild(h)&&(g=u.getImmediateChild(h)),g!=null?d=t.filter.updateChild(u,h,g,Ke(n),l,s):e.eventCache.getNode().hasChild(h)?d=t.filter.updateChild(u,h,_e.EMPTY_NODE,Ke(n),l,s):d=u,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=$l(r,Si(e)),o.isLeafNode()&&(d=t.filter.updateFullNode(d,o,s)))}return o=e.serverCache.isFullyInitialized()||Kl(r,Fe())!=null,xo(e,d,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new rp(r.getIndex()),s=eD(r);this.processor_=ID(s);const o=n.serverCache,l=n.eventCache,u=i.updateFullNode(_e.EMPTY_NODE,o.getNode(),null),d=s.updateFullNode(_e.EMPTY_NODE,l.getNode(),null),h=new xi(u,o.isFullyInitialized(),i.filtersNodes()),g=new xi(d,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=xu(g,h),this.eventGenerator_=new aD(this.query_)}get query(){return this.query_}}function jD(t){return t.viewCache_.serverCache.getNode()}function FD(t,e){const n=Si(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!De(e)&&!n.getImmediateChild(Ie(e)).isEmpty())?n.getChild(e):null}function Gy(t){return t.eventRegistrations_.length===0}function BD(t,e){t.eventRegistrations_.push(e)}function Yy(t,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Qy(t,e,n,r){e.type===Nn.MERGE&&e.source.queryId!==null&&(ne(Si(t.viewCache_),"We should always have a full cache before handling merges"),ne(of(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ND(t.processor_,i,e,n,r);return PD(t.processor_,s.viewCache),ne(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,qw(t,s.changes,s.viewCache.eventCache.getNode(),null)}function VD(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(at,(s,o)=>{r.push(_s(s,o))}),n.isFullyInitialized()&&r.push(Vw(n.getNode())),qw(t,r,n.getNode(),e)}function qw(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return lD(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl;class UD{constructor(){this.views=new Map}}function zD(t){ne(!Yl,"__referenceConstructor has already been defined"),Yl=t}function WD(){return ne(Yl,"Reference.ts has not been loaded"),Yl}function HD(t){return t.views.size===0}function fp(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return ne(s!=null,"SyncTree gave us an op for an invalid query."),Qy(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Qy(o,e,n,r));return s}}function $D(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=$l(n,i?r:null),u=!1;l?u=!0:r instanceof _e?(l=up(n,r),u=!1):(l=_e.EMPTY_NODE,u=!1);const d=xu(new xi(l,u,!1),new xi(r,i,!1));return new LD(e,d)}return o}function KD(t,e,n,r,i,s){const o=$D(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),BD(o,n),VD(o,n)}function GD(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=$r(t);if(i==="default")for(const[u,d]of t.views.entries())o=o.concat(Yy(d,n,r)),Gy(d)&&(t.views.delete(u),d.query._queryParams.loadsAllData()||s.push(d.query));else{const u=t.views.get(i);u&&(o=o.concat(Yy(u,n,r)),Gy(u)&&(t.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!$r(t)&&s.push(new(WD())(e._repo,e._path)),{removed:s,events:o}}function Xw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function as(t,e){let n=null;for(const r of t.views.values())n=n||FD(r,e);return n}function Zw(t,e){if(e._queryParams.loadsAllData())return Su(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Jw(t,e){return Zw(t,e)!=null}function $r(t){return Su(t)!=null}function Su(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql;function YD(t){ne(!Ql,"__referenceConstructor has already been defined"),Ql=t}function QD(){return ne(Ql,"Reference.ts has not been loaded"),Ql}let qD=1;class qy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=ED(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ex(t,e,n,r,i){return fD(t.pendingWriteTree_,e,n,r,i),i?Rs(t,new wi(sp(),e,n)):[]}function XD(t,e,n,r){hD(t.pendingWriteTree_,e,n,r);const i=He.fromObject(n);return Rs(t,new ws(sp(),e,i))}function Ir(t,e,n=!1){const r=pD(t.pendingWriteTree_,e);if(mD(t.pendingWriteTree_,e)){let s=new He(null);return r.snap!=null?s=s.set(Fe(),!0):At(r.children,o=>{s=s.set(new Ue(o),!0)}),Rs(t,new Hl(r.path,s,n))}else return[]}function Cu(t,e,n){return Rs(t,new wi(op(),e,n))}function ZD(t,e,n){const r=He.fromObject(n);return Rs(t,new ws(op(),e,r))}function JD(t,e){return Rs(t,new na(op(),e))}function eA(t,e,n){const r=pp(t,n);if(r){const i=mp(r),s=i.path,o=i.queryId,l=qt(s,e),u=new na(ap(o),l);return gp(t,s,u)}else return[]}function ff(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||Jw(o,e))){const u=GD(o,e,n,r);HD(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const d=u.removed;if(l=u.events,!i){const h=d.findIndex(y=>y._queryParams.loadsAllData())!==-1,g=t.syncPointTree_.findOnPath(s,(y,w)=>$r(w));if(h&&!g){const y=t.syncPointTree_.subtree(s);if(!y.isEmpty()){const w=rA(y);for(let I=0;I<w.length;++I){const k=w[I],B=k.query,b=rx(t,k);t.listenProvider_.startListening(Co(B),ql(t,B),b.hashFn,b.onComplete)}}}!g&&d.length>0&&!r&&(h?t.listenProvider_.stopListening(Co(e),null):d.forEach(y=>{const w=t.queryToTagMap.get(Eu(y));t.listenProvider_.stopListening(Co(y),w)}))}iA(t,d)}return l}function tA(t,e,n,r){const i=pp(t,r);if(i!=null){const s=mp(i),o=s.path,l=s.queryId,u=qt(o,e),d=new wi(ap(l),u,n);return gp(t,o,d)}else return[]}function nA(t,e,n,r){const i=pp(t,r);if(i){const s=mp(i),o=s.path,l=s.queryId,u=qt(o,e),d=He.fromObject(n),h=new ws(ap(l),u,d);return gp(t,o,h)}else return[]}function Xy(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(y,w)=>{const I=qt(y,i);s=s||as(w,I),o=o||$r(w)});let l=t.syncPointTree_.get(i);l?(o=o||$r(l),s=s||as(l,Fe())):(l=new UD,t.syncPointTree_=t.syncPointTree_.set(i,l));let u;s!=null?u=!0:(u=!1,s=_e.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((w,I)=>{const k=as(I,Fe());k&&(s=s.updateImmediateChild(w,k))}));const d=Jw(l,e);if(!d&&!e._queryParams.loadsAllData()){const y=Eu(e);ne(!t.queryToTagMap.has(y),"View does not exist, but we have a tag");const w=sA();t.queryToTagMap.set(y,w),t.tagToQueryMap.set(w,y)}const h=lp(t.pendingWriteTree_,i);let g=KD(l,e,n,h,s,u);if(!d&&!o&&!r){const y=Zw(l,e);g=g.concat(oA(t,e,y))}return g}function hp(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=qt(o,e),d=as(l,u);if(d)return d});return $w(i,e,s,n,!0)}function Rs(t,e){return tx(e,t.syncPointTree_,null,lp(t.pendingWriteTree_,Fe()))}function tx(t,e,n,r){if(De(t.path))return nx(t,e,n,r);{const i=e.get(Fe());n==null&&i!=null&&(n=as(i,Fe()));let s=[];const o=Ie(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const d=n?n.getImmediateChild(o):null,h=Kw(r,o);s=s.concat(tx(l,u,d,h))}return i&&(s=s.concat(fp(i,t,r,n))),s}}function nx(t,e,n,r){const i=e.get(Fe());n==null&&i!=null&&(n=as(i,Fe()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,d=Kw(r,o),h=t.operationForChild(o);h&&(s=s.concat(nx(h,l,u,d)))}),i&&(s=s.concat(fp(i,t,r,n))),s}function rx(t,e){const n=e.query,r=ql(t,n);return{hashFn:()=>(jD(e)||_e.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?eA(t,n._path,r):JD(t,n._path);{const s=ZP(i,n);return ff(t,n,null,s)}}}}function ql(t,e){const n=Eu(e);return t.queryToTagMap.get(n)}function Eu(t){return t._path.toString()+"$"+t._queryIdentifier}function pp(t,e){return t.tagToQueryMap.get(e)}function mp(t){const e=t.indexOf("$");return ne(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ue(t.substr(0,e))}}function gp(t,e,n){const r=t.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const i=lp(t.pendingWriteTree_,e);return fp(r,n,i,null)}function rA(t){return t.fold((e,n,r)=>{if(n&&$r(n))return[Su(n)];{let i=[];return n&&(i=Xw(n)),At(r,(s,o)=>{i=i.concat(o)}),i}})}function Co(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(QD())(t._repo,t._path):t}function iA(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Eu(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function sA(){return qD++}function oA(t,e,n){const r=e._path,i=ql(t,e),s=rx(t,n),o=t.listenProvider_.startListening(Co(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)ne(!$r(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((d,h,g)=>{if(!De(d)&&h&&$r(h))return[Su(h).query];{let y=[];return h&&(y=y.concat(Xw(h).map(w=>w.query))),At(g,(w,I)=>{y=y.concat(I)}),y}});for(let d=0;d<u.length;++d){const h=u[d];t.listenProvider_.stopListening(Co(h),ql(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new yp(n)}node(){return this.node_}}class vp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ot(this.path_,e);return new vp(this.syncTree_,n)}node(){return hp(this.syncTree_,this.path_)}}const aA=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Zy=function(t,e,n){if(!t||typeof t!="object")return t;if(ne(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lA(t[".sv"],e,n);if(typeof t[".sv"]=="object")return uA(t[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lA=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+t)}},uA=function(t,e,n){t.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const i=e.node();if(ne(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},ix=function(t,e,n,r){return _p(e,new vp(n,t),r)},sx=function(t,e,n){return _p(t,new yp(e),n)};function _p(t,e,n){const r=t.getPriority().val(),i=Zy(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Zy(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new wt(l,Ct(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new wt(i))),o.forEachChild(at,(l,u)=>{const d=_p(u,e.getImmediateChild(l),n);d!==u&&(s=s.updateImmediateChild(l,d))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function xp(t,e){let n=e instanceof Ue?e:new Ue(e),r=t,i=Ie(n);for(;i!==null;){const s=ys(r.node.children,i)||{children:{},childCount:0};r=new wp(i,r,s),n=Ke(n),i=Ie(n)}return r}function Ms(t){return t.node.value}function ox(t,e){t.node.value=e,hf(t)}function ax(t){return t.node.childCount>0}function cA(t){return Ms(t)===void 0&&!ax(t)}function bu(t,e){At(t.node.children,(n,r)=>{e(new wp(n,t,r))})}function lx(t,e,n,r){n&&!r&&e(t),bu(t,i=>{lx(i,e,!0,r)}),n&&r&&e(t)}function dA(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function va(t){return new Ue(t.parent===null?t.name:va(t.parent)+"/"+t.name)}function hf(t){t.parent!==null&&fA(t.parent,t.name,t)}function fA(t,e,n){const r=cA(n),i=Gn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,hf(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,hf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=/[\[\].#$\/\u0000-\u001F\u007F]/,pA=/[\[\].#$\u0000-\u001F\u007F]/,Nc=10*1024*1024,Sp=function(t){return typeof t=="string"&&t.length!==0&&!hA.test(t)},ux=function(t){return typeof t=="string"&&t.length!==0&&!pA.test(t)},mA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ux(t)},gA=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Yh(t)||t&&typeof t=="object"&&Gn(t,".sv")},cx=function(t,e,n,r){r&&e===void 0||Tu(vu(t,"value"),e,n)},Tu=function(t,e,n){const r=n instanceof Ue?new AN(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ti(r));if(typeof e=="function")throw new Error(t+"contains a function "+ti(r)+" with contents = "+e.toString());if(Yh(e))throw new Error(t+"contains "+e.toString()+" "+ti(r));if(typeof e=="string"&&e.length>Nc/3&&_u(e)>Nc)throw new Error(t+"contains a string greater than "+Nc+" utf8 bytes "+ti(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(At(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Sp(o)))throw new Error(t+" contains an invalid key ("+o+") "+ti(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);RN(r,o),Tu(t,l,r),MN(r)}),i&&s)throw new Error(t+' contains ".value" child '+ti(r)+" in addition to actual children.")}},yA=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Zo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Sp(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(DN);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&yn(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},vA=function(t,e,n,r){if(r&&e===void 0)return;const i=vu(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];At(e,(o,l)=>{const u=new Ue(o);if(Tu(i,l,ot(n,u)),Jh(u)===".priority"&&!gA(l))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),yA(i,s)},dx=function(t,e,n,r){if(!(r&&n===void 0)&&!ux(n))throw new Error(vu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_A=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dx(t,e,n,r)},Cp=function(t,e){if(Ie(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},wA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Sp(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!mA(n))throw new Error(vu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ku(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ep(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function fx(t,e,n){ku(t,n),hx(t,r=>ep(r,e))}function On(t,e,n){ku(t,n),hx(t,r=>yn(r,e)||yn(e,r))}function hx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(SA(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function SA(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();hi&&Pt("event: "+n.toString()),As(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="repo_interrupt",EA=25;class bA{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wl(),this.transactionQueueTree_=new wp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TA(t,e,n){if(t.stats_=Xh(t.repoInfo_),t.forceRestClient_||nN())t.server_=new zl(t.repoInfo_,(r,i,s,o)=>{Jy(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>ev(t,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new or(t.repoInfo_,e,(r,i,s,o)=>{Jy(t,r,i,s,o)},r=>{ev(t,r)},r=>{kA(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=aN(t.repoInfo_,()=>new oD(t.stats_,t.server_)),t.infoData_=new tD,t.infoSyncTree_=new qy({startListening:(r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=Cu(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Ep(t,"connected",!1),t.serverSyncTree_=new qy({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const d=o(l,u);On(t.eventQueue_,r._path,d)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function px(t){const n=t.infoData_.getNode(new Ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Iu(t){return aA({timestamp:px(t)})}function Jy(t,e,n,r,i){t.dataUpdateCount++;const s=new Ue(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Ol(n,d=>Ct(d));o=nA(t.serverSyncTree_,s,u,i)}else{const u=Ct(n);o=tA(t.serverSyncTree_,s,u,i)}else if(r){const u=Ol(n,d=>Ct(d));o=ZD(t.serverSyncTree_,s,u)}else{const u=Ct(n);o=Cu(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=Ss(t,s)),On(t.eventQueue_,l,o)}function ev(t,e){Ep(t,"connected",e),e===!1&&NA(t)}function kA(t,e){At(e,(n,r)=>{Ep(t,n,r)})}function Ep(t,e,n){const r=new Ue("/.info/"+e),i=Ct(n);t.infoData_.updateSnapshot(r,i);const s=Cu(t.infoSyncTree_,r,i);On(t.eventQueue_,r,s)}function bp(t){return t.nextWriteId_++}function IA(t,e,n,r,i){Pu(t,"set",{path:e.toString(),value:n,priority:r});const s=Iu(t),o=Ct(n,r),l=hp(t.serverSyncTree_,e),u=sx(o,l,s),d=bp(t),h=ex(t.serverSyncTree_,e,u,d,!0);ku(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(y,w)=>{const I=y==="ok";I||Wt("set at "+e+" failed: "+y);const k=Ir(t.serverSyncTree_,d,!I);On(t.eventQueue_,e,k),pf(t,i,y,w)});const g=kp(t,e);Ss(t,g),On(t.eventQueue_,g,[])}function PA(t,e,n,r){Pu(t,"update",{path:e.toString(),value:n});let i=!0;const s=Iu(t),o={};if(At(n,(l,u)=>{i=!1,o[l]=ix(ot(e,l),Ct(u),t.serverSyncTree_,s)}),i)Pt("update() called with empty data.  Don't do anything."),pf(t,r,"ok",void 0);else{const l=bp(t),u=XD(t.serverSyncTree_,e,o,l);ku(t.eventQueue_,u),t.server_.merge(e.toString(),n,(d,h)=>{const g=d==="ok";g||Wt("update at "+e+" failed: "+d);const y=Ir(t.serverSyncTree_,l,!g),w=y.length>0?Ss(t,e):e;On(t.eventQueue_,w,y),pf(t,r,d,h)}),At(n,d=>{const h=kp(t,ot(e,d));Ss(t,h)}),On(t.eventQueue_,e,[])}}function NA(t){Pu(t,"onDisconnectEvents");const e=Iu(t),n=Wl();sf(t.onDisconnect_,Fe(),(i,s)=>{const o=ix(i,s,t.serverSyncTree_,e);Uw(n,i,o)});let r=[];sf(n,Fe(),(i,s)=>{r=r.concat(Cu(t.serverSyncTree_,i,s));const o=kp(t,i);Ss(t,o)}),t.onDisconnect_=Wl(),On(t.eventQueue_,Fe(),r)}function DA(t,e,n){let r;Ie(e._path)===".info"?r=Xy(t.infoSyncTree_,e,n):r=Xy(t.serverSyncTree_,e,n),fx(t.eventQueue_,e._path,r)}function tv(t,e,n){let r;Ie(e._path)===".info"?r=ff(t.infoSyncTree_,e,n):r=ff(t.serverSyncTree_,e,n),fx(t.eventQueue_,e._path,r)}function AA(t){t.persistentConnection_&&t.persistentConnection_.interrupt(CA)}function Pu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pt(n,...e)}function pf(t,e,n,r){e&&As(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function mx(t,e,n){return hp(t.serverSyncTree_,e,n)||_e.EMPTY_NODE}function Tp(t,e=t.transactionQueueTree_){if(e||Nu(t,e),Ms(e)){const n=yx(t,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&RA(t,va(e),n)}else ax(e)&&bu(e,n=>{Tp(t,n)})}function RA(t,e,n){const r=n.map(d=>d.currentWriteId),i=mx(t,e,r);let s=i;const o=i.hash();for(let d=0;d<n.length;d++){const h=n[d];ne(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const g=qt(e,h.path);s=s.updateChild(g,h.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,d=>{Pu(t,"transaction put response",{path:u.toString(),status:d});let h=[];if(d==="ok"){const g=[];for(let y=0;y<n.length;y++)n[y].status=2,h=h.concat(Ir(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&g.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();Nu(t,xp(t.transactionQueueTree_,e)),Tp(t,t.transactionQueueTree_),On(t.eventQueue_,e,h);for(let y=0;y<g.length;y++)As(g[y])}else{if(d==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Wt("transaction at "+u.toString()+" failed: "+d);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=d}Ss(t,e)}},o)}function Ss(t,e){const n=gx(t,e),r=va(n),i=yx(t,n);return MA(t,i,r),r}function MA(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],d=qt(n,u.path);let h=!1,g;if(ne(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)h=!0,g=u.abortReason,i=i.concat(Ir(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=EA)h=!0,g="maxretry",i=i.concat(Ir(t.serverSyncTree_,u.currentWriteId,!0));else{const y=mx(t,u.path,o);u.currentInputSnapshot=y;const w=e[l].update(y.val());if(w!==void 0){Tu("transaction failed: Data returned ",w,u.path);let I=Ct(w);typeof w=="object"&&w!=null&&Gn(w,".priority")||(I=I.updatePriority(y.getPriority()));const B=u.currentWriteId,b=Iu(t),T=sx(I,y,b);u.currentOutputSnapshotRaw=I,u.currentOutputSnapshotResolved=T,u.currentWriteId=bp(t),o.splice(o.indexOf(B),1),i=i.concat(ex(t.serverSyncTree_,u.path,T,u.currentWriteId,u.applyLocally)),i=i.concat(Ir(t.serverSyncTree_,B,!0))}else h=!0,g="nodata",i=i.concat(Ir(t.serverSyncTree_,u.currentWriteId,!0))}On(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(y){setTimeout(y,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(g==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(g),!1,null))))}Nu(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)As(r[l]);Tp(t,t.transactionQueueTree_)}function gx(t,e){let n,r=t.transactionQueueTree_;for(n=Ie(e);n!==null&&Ms(r)===void 0;)r=xp(r,n),e=Ke(e),n=Ie(e);return r}function yx(t,e){const n=[];return vx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function vx(t,e,n){const r=Ms(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);bu(e,i=>{vx(t,i,n)})}function Nu(t,e){const n=Ms(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ox(e,n.length>0?n:void 0)}bu(e,r=>{Nu(t,r)})}function kp(t,e){const n=va(gx(t,e)),r=xp(t.transactionQueueTree_,e);return dA(r,i=>{Dc(t,i)}),Dc(t,r),lx(r,i=>{Dc(t,i)}),n}function Dc(t,e){const n=Ms(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(ne(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(ne(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ir(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ox(e,void 0):n.length=s+1,On(t.eventQueue_,va(e),i);for(let o=0;o<r.length;o++)As(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}function LA(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const nv=function(t,e){const n=jA(t),r=n.namespace;n.domain==="firebase.com"&&pr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GP();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ew(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Ue(n.pathString)}},jA=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(l=t.substring(0,d-1),t=t.substring(d+2));let h=t.indexOf("/");h===-1&&(h=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(h,g)),h<g&&(i=OA(t.substring(h,g)));const y=LA(t.substring(Math.min(t.length,g)));d=e.indexOf(":"),d>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(d+1),10)):d=e.length;const w=e.slice(0,d);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),s=r}"ns"in y&&(s=y.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",FA=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=rv.charAt(n%64),n=Math.floor(n/64);ne(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=rv.charAt(e[i]);return ne(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class wx{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return De(this._path)?null:Jh(this._path)}get ref(){return new gr(this._repo,this._path)}get _queryIdentifier(){const e=Vy(this._queryParams),n=Qh(e);return n==="{}"?"default":n}get _queryObject(){return Vy(this._queryParams)}isEqual(e){if(e=Ds(e),!(e instanceof Ip))return!1;const n=this._repo===e._repo,r=ep(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+NN(this._path)}}class gr extends Ip{constructor(e,n){super(e,n,new ip,!1)}get parent(){const e=Rw(this._path);return e===null?null:new gr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ra{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ue(e),r=Cs(this.ref,e);return new ra(this._node.getChild(n),r,at)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ra(i,Cs(this.ref,r),at)))}hasChild(e){const n=new Ue(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qs(t,e){return t=Ds(t),t._checkNotDeleted("ref"),e!==void 0?Cs(t._root,e):t._root}function Cs(t,e){return t=Ds(t),Ie(t._path)===null?_A("child","path",e,!1):dx("child","path",e,!1),new gr(t._repo,ot(t._path,e))}function VA(t,e){t=Ds(t),Cp("push",t._path),cx("push",e,t._path,!0);const n=px(t._repo),r=FA(n),i=Cs(t,r),s=Cs(t,r);let o;return e!=null?o=Pp(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function UA(t){return Cp("remove",t._path),Pp(t,null)}function Pp(t,e){t=Ds(t),Cp("set",t._path),cx("set",e,t._path,!1);const n=new ha;return IA(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function zA(t,e){vA("update",e,t._path,!1);const n=new ha;return PA(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Np{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new _x("value",this,new ra(e.snapshotNode,new gr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new wx(this,e,n):null}matches(e){return e instanceof Np?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Dp{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new wx(this,e,n):null}createEvent(e,n){ne(e.childName!=null,"Child events should have a childName.");const r=Cs(new gr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new _x(e.type,this,new ra(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Dp?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function WA(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const u=n,d=(h,g)=>{tv(t._repo,t,l),u(h,g)};d.userCallback=n.userCallback,d.context=n.context,n=d}const o=new BA(n,s||void 0),l=e==="value"?new Np(o):new Dp(e,o);return DA(t._repo,t,l),()=>tv(t._repo,t,l)}function HA(t,e,n,r){return WA(t,"value",e,n,r)}zD(gr);YD(gr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="FIREBASE_DATABASE_EMULATOR_HOST",mf={};let KA=!1;function GA(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=Kh(s);t.repoInfo_=new Ew(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function YA(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||pr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=nv(s,i),l=o.repoInfo,u,d;typeof process!="undefined"&&process.env&&(d=process.env[$A]),d?(u=!0,s=`http://${d}?ns=${l.namespace}`,o=nv(s,i),l=o.repoInfo):u=!o.repoInfo.secure;const h=i&&u?new ss(ss.OWNER):new iN(t.name,t.options,e);wA("Invalid Firebase Database URL",o),De(o.path)||pr("Database URL must point to the root of a Firebase Database (not including a child path).");const g=qA(l,t,h,new rN(t,n));return new XA(g,t)}function QA(t,e){const n=mf[e];(!n||n[t.key]!==t)&&pr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),AA(t),delete n[t.key]}function qA(t,e,n,r){let i=mf[e.name];i||(i={},mf[e.name]=i);let s=i[t.toURLString()];return s&&pr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bA(t,KA,n,r),i[t.toURLString()]=s,s}class XA{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(TA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gr(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(QA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&pr("Cannot call "+e+" on a deleted database.")}}function ZA(t=DP(),e){const n=TP(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=fI("database");r&&JA(n,...r)}return n}function JA(t,e,n,r={}){t=Ds(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Ll(r,s.repoInfo_.emulatorOptions))return;pr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&pr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ss(ss.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:pI(r.mockUserToken,t.app.options.projectId);o=new ss(l)}Kh(e)&&(hI(e),yI("Database",!0)),GA(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t){zP(NP),Fl(new Qo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return YA(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),rs(Cy,Ey,t),rs(Cy,Ey,"esm2020")}or.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};or.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};e3();var t3="firebase",n3="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(t3,n3,"app");const r3={apiKey:"AIzaSyAgfhlVrNGwhdux6qbmMuSx4wotxMy0pGU",authDomain:"family-hub-dashboard.firebaseapp.com",databaseURL:"https://family-hub-dashboard-default-rtdb.firebaseio.com",projectId:"family-hub-dashboard",storageBucket:"family-hub-dashboard.firebasestorage.app",messagingSenderId:"237122444853",appId:"1:237122444853:web:8d2836b0aea34422d0db7c"},i3=aw(r3),Xs=ZA(i3);function Ac(t,e=[]){const[n,r]=Q.useState(e),[i,s]=Q.useState(!0),[o,l]=Q.useState(null);return Q.useEffect(()=>{const y=qs(Xs,t),w=HA(y,I=>{try{const k=I.val();if(console.log(`Firebase onValue for ${t}:`,k),k){let B;Array.isArray(k)?B=k:B=Object.entries(k).map(([b,T])=>be(ee({},T),{firebaseId:b,id:T.id||b})),console.log(`Converted to array for ${t}:`,B),r(B)}else console.log(`No data found for ${t}, using default:`,e),r(e);s(!1),l(null)}catch(k){console.error("Firebase sync error:",k),l(k),s(!1)}},I=>{console.error("Firebase listener error:",I),l(I),s(!1)});return()=>w()},[t,e]),{data:n,loading:i,error:o,updateData:y=>ft(this,null,function*(){try{console.log(`Updating data for ${t}:`,y);const w=qs(Xs,t);yield Pp(w,y),console.log(`Data updated successfully for ${t}`)}catch(w){console.error("Firebase update error:",w),l(w)}}),addItem:y=>ft(this,null,function*(){try{console.log(`Adding item to ${t}:`,y);const w=qs(Xs,t),I=yield VA(w,y);console.log(`Item added successfully to ${t}, key:`,I.key)}catch(w){console.error("Firebase add error:",w),l(w)}}),updateItem:(y,w)=>ft(this,null,function*(){try{const I=n.find(b=>b.id===y),k=(I==null?void 0:I.firebaseId)||y;console.log(`Updating item ${y} using Firebase key ${k}:`,w);const B=qs(Xs,`${t}/${k}`);yield zA(B,w),console.log(`Item updated successfully: ${k}`)}catch(I){console.error("Firebase item update error:",I),l(I)}}),removeItem:y=>ft(this,null,function*(){try{const w=n.find(B=>B.id===y),I=(w==null?void 0:w.firebaseId)||y;console.log(`Removing item ${y} using Firebase key ${I}`);const k=qs(Xs,`${t}/${I}`);yield UA(k),console.log(`Item removed successfully: ${I}`)}catch(w){console.error("Firebase remove error:",w),l(w)}})}}function s3(){const[t,e]=Q.useState("ALERTS"),{data:n,updateData:r,addItem:i,updateItem:s,removeItem:o,loading:l}=Ac("groceryItems",[]),{data:u,updateData:d,addItem:h,updateItem:g,removeItem:y,loading:w}=Ac("tasks",[]),{data:I,updateData:k,loading:B}=Ac("meals",{}),b=F=>{i?i(F):r([F,...n])},T=F=>{h?h(F):d([F,...u])},P=F=>{console.log("App: saving meals data:",F),k(F)},L=typeof window!="undefined"&&window.innerWidth<768;return M.jsx(tI,{children:M.jsxs("div",{className:"flex flex-col min-h-screen px-2 sm:px-4 md:px-8 text-text font-sans",children:[!L&&M.jsx(tE,{}),M.jsx("div",{className:`flex-grow flex flex-col gap-3 sm:gap-6 overflow-auto ${L?"pb-[80px] pt-4":"pb-[96px]"}`,children:M.jsx(eI,{currentTab:t,groceryItems:n,setGroceryItems:r,addGroceryItem:i,updateGroceryItem:s,removeGroceryItem:o,tasks:u,setTasks:d,addTask:h,updateTask:g,removeTask:y,meals:I,setMeals:k})}),M.jsx(j2,{current:t,onNavigate:e,onSaveGrocery:b,onSaveTask:T,onSaveMeals:P,groceryItems:n})]})})}Rc.createRoot(document.getElementById("root")).render(M.jsx(Ux.StrictMode,{children:M.jsx(s3,{})}));
