var W=Object.defineProperty,G=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var L=(r,a,i)=>a in r?W(r,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[a]=i,M=(r,a)=>{for(var i in a||(a={}))O.call(a,i)&&L(r,i,a[i]);if(I)for(var i of I(a))Y.call(a,i)&&L(r,i,a[i]);return r},S=(r,a)=>G(r,F(a));var k=(r,a,i)=>new Promise((n,o)=>{var x=m=>{try{u(i.next(m))}catch(f){o(f)}},p=m=>{try{u(i.throw(m))}catch(f){o(f)}},u=m=>m.done?n(m.value):Promise.resolve(m.value).then(x,p);u((i=i.apply(r,a)).next())});import{r as y,j as e,A as _,m as $}from"./motion-DtcReM-G.js";import{S as A}from"./SectionHeader-1je8yYJT.js";import R from"./AddTaskModal-Bd6Kgn1Z.js";import{u as q}from"./index-CkcIAYgn.js";import"./vendor-DBiAVD-u.js";import"./firebase-CEraX8R7.js";class U{constructor(){this.apiKey=null,this.isInitialized=!1}initialize(a,i){return k(this,null,function*(){try{if(!a)throw new Error("API key is required");return this.apiKey=a,this.isInitialized=!0,!0}catch(n){return console.error("Failed to initialize Google Calendar service:",n),!1}})}getEvents(a="primary",i=10){return k(this,null,function*(){if(!this.isInitialized)throw new Error("Google Calendar service not initialized");try{const n=new Date,o=new Date(n);o.setDate(n.getDate()+7);const x=new URLSearchParams({key:this.apiKey,timeMin:n.toISOString(),timeMax:o.toISOString(),maxResults:i.toString(),singleEvents:"true",orderBy:"startTime"}),p=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(a)}/events?${x}`,u=yield fetch(p);if(!u.ok)throw new Error(`Google Calendar API error: ${u.status} ${u.statusText}`);const m=yield u.json();return this.formatEvents(m.items||[])}catch(n){throw console.error("Failed to fetch calendar events:",n),n}})}formatEvents(a){return a.map(i=>{var m,f,l,c;const n=((m=i.start)==null?void 0:m.dateTime)||((f=i.start)==null?void 0:f.date),o=((l=i.end)==null?void 0:l.dateTime)||((c=i.end)==null?void 0:c.date);let x="",p=60,u="1h";if(n){const s=new Date(n);if(x=s.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),o){const b=new Date(o);if(p=Math.round((b-s)/(1e3*60)),p>=60){const d=Math.floor(p/60),t=p%60;u=t>0?`${d}h${t}`:`${d}h`}else u=`${p} minutes`}}return{id:i.id,summary:i.summary||"No title",time:x,duration:p,formattedDuration:u,date:n?new Date(n):new Date,location:i.location,description:i.description}})}groupEventsByDay(a){const i=[[],[],[]];return a.forEach(n=>{if(!n.date)return;let o=new Date(n.date);const x=new Date;for(let p=0;p<3;p++){const u=new Date(x);if(u.setDate(x.getDate()+p),o.getDate()===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear()){i[p].push(n);break}}}),i}}const E=new U,C={API_KEY:"AIzaSyAYiobTSL1_Zn2ZZQXp140AM23U7wlELpk",CLIENT_ID:"your_client_id_here",CALENDAR_ID:"kyle.e.schultz@gmail.com",MAX_RESULTS:20},V=()=>!!C.API_KEY;function K(){const[r,a]=y.useState([]),[i,n]=y.useState(!0),[o,x]=y.useState(null),[p,u]=y.useState(!1),m=new Date,f=[[{id:1,summary:"School Pickup",time:"2:30 pm",duration:30,formattedDuration:"30 minutes"},{id:2,summary:"Grocery Run",time:"3:30 pm",duration:45,formattedDuration:"45 minutes"},{id:3,summary:"Soccer Practice",time:"5:00 pm",duration:90,formattedDuration:"1h30"}],[{id:4,summary:"Therapy Session",time:"10:00 am",duration:60,formattedDuration:"1h"},{id:5,summary:"Zoom Meeting",time:"11:30 am",duration:30,formattedDuration:"30 minutes"},{id:6,summary:"Pizza Friday",time:"6:00 pm",duration:60,formattedDuration:"1h"}],[{id:7,summary:"Morning Run",time:"7:00 am",duration:45,formattedDuration:"45 minutes"},{id:8,summary:"Book Club with Really Long Name That Might Overflow",time:"4:00 pm",duration:90,formattedDuration:"1h30"},{id:9,summary:"Date Night",time:"7:30 pm",duration:120,formattedDuration:"2h"}]];return y.useEffect(()=>{k(null,null,function*(){try{if(n(!0),x(null),!V()){a(f),u(!0),n(!1);return}if(!(yield E.initialize(C.API_KEY,C.CLIENT_ID)))throw new Error("Failed to initialize calendar service");const s=yield E.getEvents(C.CALENDAR_ID,C.MAX_RESULTS),b=E.groupEventsByDay(s);a(b),u(!1)}catch(c){console.error("Error fetching calendar events:",c),x(c.message),a(f),u(!0)}finally{n(!1)}})},[]),e.jsxs("section",{className:"w-full mb-8",children:[e.jsx(A,{title:`Calendar ${p?"(Demo)":""}`,className:"mb-4"}),o&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:["Calendar sync issue: ",o,". Showing demo data."]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-xl px-6 pt-6 pb-6 overflow-x-auto h-[350px]",children:i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#48AF55] mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Loading calendar events..."})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-x divide-gray-300 h-full",children:r.map((l,c)=>{const s=new Date(m);s.setDate(m.getDate()+c);const b=s.toLocaleDateString(void 0,{month:"long",day:"numeric"}),d=s.toLocaleDateString(void 0,{weekday:"long"});return e.jsxs("div",{className:`${c===2?"pl-6 pr-2":"px-6"} flex flex-col h-full`,children:[e.jsx("div",{className:"text-base text-gray-500 font-medium leading-none",children:d}),e.jsx("div",{className:"text-xl font-serif font-bold text-black mb-3",children:b}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:e.jsx("div",{className:"flex flex-col gap-2 pb-6",children:l.length===0?e.jsx("p",{className:"text-base text-gray-500 italic",children:"No events"}):l.map(t=>{const h=new Date(`${s.toDateString()} ${t.time}`),g=new Date(h);g.setMinutes(g.getMinutes()+t.duration);const w=g<new Date;return e.jsxs("div",{className:`w-full bg-[#0B3D42] rounded-md px-2 py-4 text-base text-white ${w?"opacity-70":""}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-10 bg-gradient-to-l from-[#0B3D42] to-transparent pointer-events-none z-10"}),e.jsx("div",{className:"font-semibold text-lg truncate whitespace-nowrap overflow-hidden pr-10",children:t.summary})]}),e.jsxs("div",{className:"text-sm",children:[t.time," | ",t.formattedDuration]})]},t.id)})})})]},c)})})})]})}function X(r,a){function i(m){m=m.replace("#",""),m.length===3&&(m=m.split("").map(l=>l+l).join(""));const f=parseInt(m,16);return[f>>16,f>>8&255,f&255]}function n([m,f,l]){const c=[m,f,l].map(s=>(s/=255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return .2126*c[0]+.7152*c[1]+.0722*c[2]}const o=n(i(r)),x=n(i(a)),p=Math.max(o,x),u=Math.min(o,x);return(p+.05)/(u+.05)}const z=["#5398cb","#6d3231","#48af55","#0b3d42","#caccad"],H=["/family-hub/watermarks/Bowl.svg","/family-hub/watermarks/Cheese.svg","/family-hub/watermarks/Lemons.svg","/family-hub/watermarks/Lettuce.svg","/family-hub/watermarks/Strawberries.svg"],N={"/family-hub/watermarks/Bowl.svg":{size:"213px 106px",position:"calc(100% + 25px) calc(50% - 5px)",opacity:.6},"/family-hub/watermarks/Cheese.svg":{size:"238px 119px",position:"calc(100% + 35px) center",opacity:.6},"/family-hub/watermarks/Lemons.svg":{size:"250px 125px",position:"calc(100% + 25px) center",opacity:.6},"/family-hub/watermarks/Lettuce.svg":{size:"280px 140px",position:"calc(100% + 55px) calc(50% - 10px)",opacity:.6,transform:"rotate(15deg)"},"/family-hub/watermarks/Strawberries.svg":{size:"250px 125px",position:"calc(100% + 25px) center",opacity:.6}};function Z({text:r,isSpecial:a,bgColor:i,bgPattern:n,className:o,textColor:x}){var f,l,c,s;const p=y.useRef(null),[u,m]=y.useState(!1);return y.useEffect(()=>{const b=()=>{if(p.current){const d=p.current;m(d.scrollWidth>d.clientWidth)}};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[r]),e.jsxs("span",{ref:p,className:`${o} whitespace-nowrap overflow-hidden relative`,children:[r,u&&e.jsx("div",{className:"absolute top-0 right-0 w-8 h-full pointer-events-none",style:{background:a?`linear-gradient(to right, transparent 0%, ${i||"#ffffff"} 100%)`:"linear-gradient(to right, transparent 0%, rgb(249, 250, 251) 100%)",backgroundImage:a&&n?`url('${n}')`:void 0,backgroundRepeat:"no-repeat",backgroundSize:a&&n&&((l=(f=N[n])==null?void 0:f.size)==null?void 0:l.replace("250px","125px").replace("125px","62px"))||"125px 62px",backgroundPosition:a&&n&&((c=N[n])==null?void 0:c.position)||"calc(100% + 25px) center",backgroundBlendMode:"normal",opacity:a&&n?((s=N[n])==null?void 0:s.opacity)||.6:1,filter:a&&n&&x?x==="#000000"?"brightness(0) invert(0)":"brightness(0) invert(1)":"none"}})]})}function J({items:r=[],setItems:a,addGroceryItem:i,updateGroceryItem:n}){const o=typeof window!="undefined"&&window.innerWidth<768;function x(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}const[p,u]=y.useState(!1),[m,f]=y.useState(null),[l,c]=y.useState(""),s=y.useRef(null);r=r||[],y.useEffect(()=>{p&&s.current&&setTimeout(()=>{var t;(t=s.current)==null||t.focus()},100)},[p]);function b(){if(l.trim()){if(m)if(n)n(m.id,{text:l});else{const t=r.map(h=>h.id===m.id?S(M({},h),{text:l}):h);a(t)}else{let t=!o&&Math.random()<.75,h=null,g=null;if(t){h=z[Math.floor(Math.random()*z.length)];let D=null;for(let v=0;v<Math.min(10,r.length);v++)if(r[v].special&&r[v].bgPattern){D=r[v].bgPattern;break}let j=H.filter(v=>v!==D);j.length===0&&(j=H),g=j[Math.floor(Math.random()*j.length)]}const w={id:Date.now(),text:l,checked:!1,special:t,bgColor:h,bgPattern:g};if(i)i(w);else{const D=[w,...r];a(D)}}u(!1),c(""),f(null)}}function d(t){if(n){const h=r.find(g=>g.id===t);h&&n(t,{checked:!h.checked})}else{const h=r.map(g=>g.id===t?S(M({},g),{checked:!g.checked}):g);a(h)}}return e.jsxs("div",{className:"h-full",children:[e.jsx(A,{title:"Shopping List",className:"mb-4",rightSlot:e.jsx("button",{onClick:()=>{a([])},className:"touch-target touch-feedback text-gray-500 hover:text-red-500 text-sm font-medium transition-all duration-200 px-3 py-2",style:{marginRight:o?"0px":"50px"},children:"Delete All"})}),e.jsx("div",{className:`bg-white border border-gray-200 rounded-3xl shadow-xl ${o?"p-4":"p-8 h-[500px]"} flex flex-col`,children:r.filter(t=>!t.checked).length===0?e.jsx("div",{className:"flex-1"}):e.jsx("ul",{className:`${o?"space-y-2":"space-y-3 overflow-y-auto pr-2 scrollbar-hide"}`,children:e.jsx(_,{children:r.filter(t=>!t.checked).map(t=>{var j,v,B,P;let h={},g="#ffffff",w=o?"1rem":"1.5rem",D=o?"3rem":"4.5rem";return t.special&&!o&&(D="7.875rem",w="1.75rem",t.bgColor&&X(t.bgColor,g)<4.5&&(g="#000000"),h={background:t.bgColor,backgroundImage:"none",backgroundRepeat:"no-repeat",backgroundSize:"250px 125px",backgroundPosition:"calc(100% + 25px) center",backgroundBlendMode:"normal",position:"relative",color:g,fontSize:w,height:D,borderRadius:"1rem",display:"flex",alignItems:"center",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)",border:"2px solid #e5e7eb",padding:"0 1.5rem",fontWeight:700}),e.jsxs($.li,{className:`flex items-center ${o?"gap-4":"gap-[43px]"}`,initial:{opacity:0,scale:.8,x:40},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:40},transition:{duration:.4,ease:"easeInOut"},children:[e.jsx("input",{type:"checkbox",className:`accent-primary flex-shrink-0 ${o?"mobile-checkbox":"desktop-checkbox"}`,checked:t.checked,onChange:()=>d(t.id)}),e.jsxs("div",{className:t.special&&!o?"flex-1 flex items-center justify-between overflow-hidden relative":`bg-gray-50 rounded-xl ${o?"px-3 py-2 text-sm":"px-4 py-3 text-base"} text-gray-800 flex-1 flex items-center shadow-sm border border-gray-100 hover:shadow-md transition overflow-hidden`,style:t.special&&!o?h:{},children:[t.special&&!o&&t.bgPattern&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`url('${t.bgPattern}')`,backgroundRepeat:"no-repeat",backgroundSize:((j=N[t.bgPattern])==null?void 0:j.size)||"250px 125px",backgroundPosition:((v=N[t.bgPattern])==null?void 0:v.position)||"calc(100% + 25px) center",opacity:((B=N[t.bgPattern])==null?void 0:B.opacity)||.6,transform:((P=N[t.bgPattern])==null?void 0:P.transform)||"none",filter:g==="#000000"?"brightness(0) invert(0)":"brightness(0) invert(1)"}}),e.jsx(Z,{text:x(t.text||""),isSpecial:t.special&&!o,bgColor:t.bgColor,bgPattern:t.bgPattern,textColor:g,className:t.special&&!o?"tracking-wide":"font-medium tracking-wide"})]})]},t.id)})})})}),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{id:"modal-title",className:"text-2xl font-serif text-[#5A3210]",children:m?"Edit Item":"Add New Item"}),e.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-light w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors touch-target touch-feedback","aria-label":"Close modal",children:"✕"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"item-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Name"}),e.jsx("input",{id:"item-input",ref:s,type:"text",value:l,onChange:t=>c(t.target.value),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-primary focus:outline-none transition-colors text-base",placeholder:"e.g., Bananas, Milk, Bread...",onKeyDown:t=>t.key==="Enter"&&b(),"aria-describedby":"item-hint"}),e.jsx("div",{id:"item-hint",className:"sr-only",children:"Enter a grocery item name and press Enter or click Add Item to save"})]}),e.jsxs("div",{className:"flex justify-between gap-3",children:[e.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors touch-target touch-feedback",children:"Cancel"}),e.jsx("button",{onClick:b,className:"flex-1 px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors shadow-md touch-target touch-feedback",children:m?"Update":"Add Item"})]})]})})]})}function Q({task:r,onToggle:a,onLongPress:i,isDeleting:n,frequencyColor:o}){const x=y.useRef(null),[p,u]=y.useState([]),m=c=>{const s=c.currentTarget.getBoundingClientRect(),b=c.clientX-s.left,d=c.clientY-s.top;x.current=setTimeout(()=>{u(t=>[...t,{id:Date.now(),x:b,y:d}]),i(r)},600)},f=()=>{clearTimeout(x.current)},l=c=>{u(s=>s.filter(b=>b.id!==c))};return e.jsxs("li",{onPointerDown:m,onPointerUp:f,onPointerLeave:f,style:{backgroundColor:o,height:"48px",display:"flex",alignItems:"center",padding:"14px 12px",borderRadius:"6px",marginBottom:"8px",position:"relative",overflow:"hidden",transition:"all 0.3s ease",opacity:n?0:1,transform:n?"translateX(16px)":"translateX(0)"},children:[p.map(c=>e.jsx("span",{onAnimationEnd:()=>l(c.id),style:{position:"absolute",pointerEvents:"none",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"50%",left:c.x,top:c.y,width:100,height:100,marginLeft:-50,marginTop:-50,animation:"ripple 0.6s linear"}},c.id)),e.jsx("input",{type:"checkbox",checked:r.done,onChange:()=>a(r.id),style:{width:"16px",height:"16px",marginRight:"12px",flexShrink:0}}),e.jsx("span",{onClick:()=>a(r.id),style:{flex:1,color:"white",fontSize:"14px",fontWeight:"500",fontFamily:"Lato, sans-serif",cursor:"pointer",lineHeight:"1.2"},children:r.description})]})}const ee=["daily","weekly","monthly","quarterly"],T={daily:"#69A5D1",weekly:"#B75634",monthly:"#EFB643",quarterly:"#6AA968"};function te({tasks:r=[],setTasks:a,addTask:i,updateTask:n,removeTask:o}){const x=[{id:1,description:"Feed Coltrane",frequency:"daily",recurring:!0,done:!1},{id:2,description:"Unload dishwasher",frequency:"daily",recurring:!1,done:!1},{id:3,description:"Take out trash",frequency:"weekly",recurring:!0,done:!1},{id:4,description:"Change air filter",frequency:"monthly",recurring:!0,done:!1},{id:5,description:"Clean gutters",frequency:"quarterly",recurring:!0,done:!1}],[p,u]=y.useState(!1),[m,f]=y.useState(null),[l,c]=y.useState([]);y.useEffect(()=>{r.length===0&&a&&a(x)},[r.length,a,x]),y.useEffect(()=>{if(a&&r.length>0){const d=r.map(t=>{if(!t.recurring||!t.lastCompleted||!t.done)return t;const h=new Date(t.lastCompleted),w=Math.floor((new Date-h)/(1e3*60*60*24)),D={daily:1,weekly:7,monthly:30,quarterly:120}[t.frequency];return w>=D?S(M({},t),{done:!1,lastCompleted:null}):t});JSON.stringify(d)!==JSON.stringify(r)&&a(d)}},[a,r]);function s(d){c(t=>[...t,d]),setTimeout(()=>{const t=r.find(g=>g.id===d);if(!t)return;const h=S(M({},t),{done:!t.done,lastCompleted:t.done?null:new Date().toISOString()});if(!t.recurring&&!t.done){if(o)o(d);else if(a){const g=r.filter(w=>w.id!==d);a(g)}}else if(n)n(d,h);else if(a){const g=r.map(w=>w.id===d?h:w);a(g)}c(g=>g.filter(w=>w!==d))},300)}function b(d){f(d)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-full",children:[e.jsx(A,{title:"Our Tasks",className:"mb-4"}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-xl p-6 h-[500px] overflow-y-auto flex flex-col scrollbar-hide",children:ee.map(d=>{const t=r.filter(h=>h.frequency===d&&!h.done);return t.length===0?null:e.jsxs("div",{className:"mb-block",children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-2",style:{color:T[d]},children:d}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map(h=>e.jsx(Q,{task:h,onToggle:s,onLongPress:b,isDeleting:l.includes(h.id),frequencyColor:T[h.frequency]},h.id))})]},d)})})]}),p&&e.jsx(R,{onClose:()=>u(!1),onSave:d=>{i?i(d):a&&a([...r,d]),u(!1)}}),m&&e.jsx(R,{isOpen:!0,task:m,onClose:()=>f(null),onSave:d=>{if(n)n(d.id,d);else if(a){const t=r.map(h=>h.id===d.id?d:h);a(t)}f(null)},onDelete:d=>{if(o)o(d.id);else if(a){const t=r.filter(h=>h.id!==d.id);a(t)}f(null)}})]})}function ae({meals:r={}}){const a=["Chicken Alfredo","Taco Tuesday","Beef Stir Fry","Lemon Herb Salmon","Pizza Night","BBQ Ribs","Roast Chicken"],i=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n=i.map((f,l)=>r[f]||a[l]),o=["https://images.unsplash.com/photo-1578515637272-e4afe0b8ec82?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1526213174737-acd9757c6bf3?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1482275548304-a58859dc31b7?q=80&w=2076&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1547573854-74d2a71d0826?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1630443876697-e0d2faac7b51?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1471193945509-9ad0617afabf?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1519671482749-fd09be7ccebf?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?q=80&w=2081&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=2174&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],x=(new Date().getDay()+6)%7,[p,u]=y.useState(()=>{const f=o[x],l=o.filter(s=>s!==f);return l.length>0?l[Math.floor(Math.random()*l.length)]:o[0]});return y.useEffect(()=>{const l=setInterval(()=>{const c=o[x],s=o.filter(b=>b!==c&&b!==p);if(s.length>0){const b=s[Math.floor(Math.random()*s.length)];u(b)}else{const b=o.find(d=>d!==p)||o[0];u(b)}},72e5);return()=>clearInterval(l)},[p,x]),q()?e.jsxs("div",{className:"w-full mb-6",children:[e.jsx(A,{title:"Weekly Meal Plan",className:"mb-4"}),e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm border",children:e.jsx("div",{className:"space-y-3",children:i.map((f,l)=>{const c=l<x,s=l===x;return e.jsxs("div",{className:`flex justify-between items-center py-2 px-3 rounded ${s?"bg-green-50 border border-green-200":c?"opacity-60":"hover:bg-gray-50"}`,children:[e.jsx("div",{className:`text-sm font-medium ${s?"text-green-600":"text-gray-600"}`,children:s?"Today":f}),e.jsx("div",{className:`text-sm ${s?"text-green-800 font-medium":"text-gray-800"}`,children:n[l]})]},f)})})})]}):e.jsxs("div",{className:"w-full mb-8 pt-8",children:[e.jsx(A,{title:"Weekly Meal Plan",className:"mb-6"}),e.jsxs("div",{style:{width:"100%",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"stretch",gap:"12px",position:"relative"},children:[e.jsxs("div",{className:"parallax-bg",style:{flex:"2 1 0",height:"380px",borderRadius:"16px",backgroundImage:`linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.0) 66%, rgba(0,0,0,0.0) 100%), url('${o[x]}')`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(229, 231, 235, 1)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",position:"relative",overflow:"hidden",paddingLeft:"40px",minWidth:0},children:[e.jsx("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#48AF55",marginBottom:"6px",letterSpacing:"0.5px",textTransform:"uppercase",textAlign:"left"},children:"Today"}),e.jsx("div",{style:{fontWeight:"200",fontSize:"2.75rem",color:"#ffffff",textAlign:"left"},children:n[x]})]}),e.jsx($.div,{className:"relative overflow-hidden bg-cover bg-center bg-no-repeat meals-small-card",style:{flex:"1 1 0",height:"380px",borderRadius:"16px",backgroundImage:`url('${p}')`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(229, 231, 235, 1)",minWidth:0,marginRight:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:e.jsx("div",{className:"absolute inset-0 flex flex-col",style:{background:"linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.4) 100%)",display:"flex",flexDirection:"column"},children:e.jsx("div",{style:{flex:"1 1 0",overflowY:"auto",paddingLeft:"32px",paddingRight:"16px",paddingTop:"24px",paddingBottom:"24px"},className:"scrollbar-hide",children:e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:i.map((f,l)=>{const s=l<x?.6:1;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",opacity:s},children:[e.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:l===x?"#48AF55":"#93C5FD",textTransform:"uppercase",letterSpacing:"0.5px"},children:l===x?"Today":f}),e.jsx("div",{style:{fontSize:"1.375rem",fontWeight:"300",color:"#ffffff",lineHeight:"1.3"},children:n[l]})]},f)})})})})},p)]})]})}function fe({groceryItems:r,setGroceryItems:a,addGroceryItem:i,updateGroceryItem:n,removeGroceryItem:o,tasks:x,setTasks:p,addTask:u,updateTask:m,removeTask:f,meals:l,setMeals:c}){const s=q();return e.jsxs("div",{className:`p-2 sm:p-4 flex flex-col ${s?"gap-3":"gap-4"}`,children:[!s&&e.jsx(K,{}),e.jsxs("section",{className:`grid grid-cols-1 ${s?"":"md:grid-cols-2"} gap-3 sm:gap-4`,children:[e.jsx(J,{items:r,setItems:a,addGroceryItem:i,updateGroceryItem:n}),!s&&e.jsx(te,{tasks:x,setTasks:p,addTask:u,updateTask:m,removeTask:f})]}),e.jsx(ae,{meals:l,setMeals:c})]})}export{fe as default};
