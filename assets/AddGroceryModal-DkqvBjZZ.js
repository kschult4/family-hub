import{r as l,j as o}from"./motion-DtcReM-G.js";import"./vendor-DBiAVD-u.js";const h=["#5398cb","#6d3231","#48af55","#0b3d42","#caccad"],y=["/family-hub/watermarks/Bowl.svg","/family-hub/watermarks/Cheese.svg","/family-hub/watermarks/Lemons.svg","/family-hub/watermarks/Lettuce.svg","/family-hub/watermarks/Strawberries.svg"];function S({isOpen:s,onClose:d,onSave:p,currentItems:j=[]}){const[x,r]=l.useState(""),[m,i]=l.useState(!1),c=l.useRef(null);if(l.useRef(null),l.useEffect(()=>{s&&c.current&&c.current.focus()},[s]),!s)return null;function C(e){e.preventDefault();const t=x.trim();if(!t)return;const a=j;let w=a.length>0?a[0].special:!1,b=0;for(let u=0;u<Math.min(5,a.length)&&!a[u].special;u++)b++;let n=!1;w?n=!1:b>=5?n=!0:n=Math.random()<.25;let g=null,f=null;n&&(g=h[Math.floor(Math.random()*h.length)],f=y[Math.floor(Math.random()*y.length)],console.log("AddGroceryModal: Assigning pattern:",f,"to special item"));const v={id:Date.now(),text:t,addedAt:Date.now(),done:!1,checked:!1,special:n,bgColor:g,bgPattern:f};p==null||p(v),d(),r(""),i(!1)}return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md border",style:{marginBottom:m?"300px":"0"},children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-bold",children:"Add a New Grocery Item"}),o.jsx("button",{onClick:()=>{d(),i(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),o.jsxs("form",{className:"space-y-4",onSubmit:C,children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item"}),o.jsx("input",{ref:c,type:"text",className:"w-full border rounded p-2",placeholder:"e.g. Bananas",value:x,onChange:e=>r(e.target.value)})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>{d(),i(!1)},children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})}),m?o.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"#f5f5f5",padding:"12px",borderTop:"1px solid #d1d5db",zIndex:9999},children:[o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"2px",marginBottom:"2px"},children:["1","2","3","4","5","6","7","8","9","0"].map(e=>o.jsx("button",{onMouseDown:t=>t.preventDefault(),onClick:()=>r(t=>t+e),style:{padding:"14px 8px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"16px",fontWeight:"normal",touchAction:"manipulation",userSelect:"none",cursor:"pointer"},children:e},e))}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"2px",marginBottom:"2px"},children:["q","w","e","r","t","y","u","i","o","p"].map(e=>o.jsx("button",{onMouseDown:t=>t.preventDefault(),onClick:()=>r(t=>t+e),style:{padding:"14px 8px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"16px",fontWeight:"normal",touchAction:"manipulation",userSelect:"none",cursor:"pointer"},children:e.toUpperCase()},e))}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(9, 1fr)",gap:"2px",marginBottom:"2px"},children:["a","s","d","f","g","h","j","k","l"].map(e=>o.jsx("button",{onMouseDown:t=>t.preventDefault(),onClick:()=>r(t=>t+e),style:{padding:"14px 8px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"16px",fontWeight:"normal",touchAction:"manipulation",userSelect:"none",cursor:"pointer"},children:e.toUpperCase()},e))}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"8px"},children:["z","x","c","v","b","n","m"].map(e=>o.jsx("button",{onMouseDown:t=>t.preventDefault(),onClick:()=>r(t=>t+e),style:{padding:"14px 8px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"16px",fontWeight:"normal",touchAction:"manipulation",userSelect:"none",cursor:"pointer"},children:e.toUpperCase()},e))}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",gap:"2px"},children:[o.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>r(e=>e+" "),style:{padding:"12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"14px",fontWeight:"normal",touchAction:"manipulation",cursor:"pointer"},children:"space"}),o.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>r(e=>e.slice(0,-1)),style:{padding:"12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"14px",fontWeight:"normal",touchAction:"manipulation",cursor:"pointer"},children:"⌫"}),o.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>r(""),style:{padding:"12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"14px",fontWeight:"normal",touchAction:"manipulation",cursor:"pointer"},children:"clear"}),o.jsx("button",{onMouseDown:e=>e.preventDefault(),onClick:()=>i(!1),style:{padding:"12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"14px",fontWeight:"normal",touchAction:"manipulation",cursor:"pointer"},children:"✕"})]})]}):null]})}export{S as default};
