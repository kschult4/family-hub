(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function G1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ng={exports:{}},Na={},Dg={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=Symbol.for("react.element"),K1=Symbol.for("react.portal"),Y1=Symbol.for("react.fragment"),Q1=Symbol.for("react.strict_mode"),q1=Symbol.for("react.profiler"),X1=Symbol.for("react.provider"),Z1=Symbol.for("react.context"),J1=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),ch=Symbol.iterator;function iw(t){return t===null||typeof t!="object"?null:(t=ch&&t[ch]||t["@@iterator"],typeof t=="function"?t:null)}var Ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rg=Object.assign,Mg={};function er(t,e,n){this.props=t,this.context=e,this.refs=Mg,this.updater=n||Ag}er.prototype.isReactComponent={};er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bg(){}bg.prototype=er.prototype;function Kc(t,e,n){this.props=t,this.context=e,this.refs=Mg,this.updater=n||Ag}var Yc=Kc.prototype=new bg;Yc.constructor=Kc;Rg(Yc,er.prototype);Yc.isPureReactComponent=!0;var dh=Array.isArray,Lg=Object.prototype.hasOwnProperty,Qc={current:null},Og={key:!0,ref:!0,__self:!0,__source:!0};function Fg(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lg.call(e,i)&&!Og.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Rs,type:t,key:s,ref:o,props:r,_owner:Qc.current}}function rw(t,e){return{$$typeof:Rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rs}function sw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fh=/\/+/g;function cl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sw(""+t.key):e.toString(36)}function xo(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rs:case K1:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+cl(o,0):i,dh(r)?(n="",t!=null&&(n=t.replace(fh,"$&/")+"/"),xo(r,e,n,"",function(u){return u})):r!=null&&(qc(r)&&(r=rw(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(fh,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",dh(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+cl(s,a);o+=xo(s,e,n,l,r)}else if(l=iw(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+cl(s,a++),o+=xo(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xs(t,e,n){if(t==null)return t;var i=[],r=0;return xo(t,i,"","",function(s){return e.call(n,s,r++)}),i}function ow(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var je={current:null},Co={transition:null},aw={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Co,ReactCurrentOwner:Qc};function jg(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Xs,forEach:function(t,e,n){Xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xs(t,function(){e++}),e},toArray:function(t){return Xs(t,function(e){return e})||[]},only:function(t){if(!qc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=er;B.Fragment=Y1;B.Profiler=q1;B.PureComponent=Kc;B.StrictMode=Q1;B.Suspense=ew;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aw;B.act=jg;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Rg({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Qc.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Lg.call(e,l)&&!Og.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Rs,type:t.type,key:r,ref:s,props:i,_owner:o}};B.createContext=function(t){return t={$$typeof:Z1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X1,_context:t},t.Consumer=t};B.createElement=Fg;B.createFactory=function(t){var e=Fg.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:J1,render:t}};B.isValidElement=qc;B.lazy=function(t){return{$$typeof:nw,_payload:{_status:-1,_result:t},_init:ow}};B.memo=function(t,e){return{$$typeof:tw,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=Co.transition;Co.transition={};try{t()}finally{Co.transition=e}};B.unstable_act=jg;B.useCallback=function(t,e){return je.current.useCallback(t,e)};B.useContext=function(t){return je.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return je.current.useDeferredValue(t)};B.useEffect=function(t,e){return je.current.useEffect(t,e)};B.useId=function(){return je.current.useId()};B.useImperativeHandle=function(t,e,n){return je.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return je.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return je.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return je.current.useMemo(t,e)};B.useReducer=function(t,e,n){return je.current.useReducer(t,e,n)};B.useRef=function(t){return je.current.useRef(t)};B.useState=function(t){return je.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return je.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return je.current.useTransition()};B.version="18.3.1";Dg.exports=B;var S=Dg.exports;const lw=G1(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw=S,cw=Symbol.for("react.element"),dw=Symbol.for("react.fragment"),fw=Object.prototype.hasOwnProperty,hw=uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pw={key:!0,ref:!0,__self:!0,__source:!0};function Vg(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)fw.call(e,i)&&!pw.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:cw,type:t,key:s,ref:o,props:r,_owner:hw.current}}Na.Fragment=dw;Na.jsx=Vg;Na.jsxs=Vg;Ng.exports=Na;var _=Ng.exports,du={},Bg={exports:{}},Ze={},zg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,R){var L=N.length;N.push(R);e:for(;0<L;){var J=L-1>>>1,ge=N[J];if(0<r(ge,R))N[J]=R,N[L]=ge,L=J;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var R=N[0],L=N.pop();if(L!==R){N[0]=L;e:for(var J=0,ge=N.length,Qs=ge>>>1;J<Qs;){var In=2*(J+1)-1,ul=N[In],Pn=In+1,qs=N[Pn];if(0>r(ul,L))Pn<ge&&0>r(qs,ul)?(N[J]=qs,N[Pn]=L,J=Pn):(N[J]=ul,N[In]=L,J=In);else if(Pn<ge&&0>r(qs,L))N[J]=qs,N[Pn]=L,J=Pn;else break e}}return R}function r(N,R){var L=N.sortIndex-R.sortIndex;return L!==0?L:N.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,y=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var R=n(u);R!==null;){if(R.callback===null)i(u);else if(R.startTime<=N)i(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function x(N){if(m=!1,v(N),!y)if(n(l)!==null)y=!0,Ys(C);else{var R=n(u);R!==null&&le(x,R.startTime-N)}}function C(N,R){y=!1,m&&(m=!1,p(T),T=-1),h=!0;var L=f;try{for(v(R),d=n(l);d!==null&&(!(d.expirationTime>R)||N&&!de());){var J=d.callback;if(typeof J=="function"){d.callback=null,f=d.priorityLevel;var ge=J(d.expirationTime<=R);R=t.unstable_now(),typeof ge=="function"?d.callback=ge:d===n(l)&&i(l),v(R)}else i(l);d=n(l)}if(d!==null)var Qs=!0;else{var In=n(u);In!==null&&le(x,In.startTime-R),Qs=!1}return Qs}finally{d=null,f=L,h=!1}}var E=!1,k=null,T=-1,O=5,A=-1;function de(){return!(t.unstable_now()-A<O)}function Yt(){if(k!==null){var N=t.unstable_now();A=N;var R=!0;try{R=k(!0,N)}finally{R?kn():(E=!1,k=null)}}else E=!1}var kn;if(typeof g=="function")kn=function(){g(Yt)};else if(typeof MessageChannel<"u"){var dr=new MessageChannel,Ks=dr.port2;dr.port1.onmessage=Yt,kn=function(){Ks.postMessage(null)}}else kn=function(){w(Yt,0)};function Ys(N){k=N,E||(E=!0,kn())}function le(N,R){T=w(function(){N(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,Ys(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var L=f;f=R;try{return N()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=f;f=N;try{return R()}finally{f=L}},t.unstable_scheduleCallback=function(N,R,L){var J=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?J+L:J):L=J,N){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=L+ge,N={id:c++,callback:R,priorityLevel:N,startTime:L,expirationTime:ge,sortIndex:-1},L>J?(N.sortIndex=L,e(u,N),n(l)===null&&N===n(u)&&(m?(p(T),T=-1):m=!0,le(x,L-J))):(N.sortIndex=ge,e(l,N),y||h||(y=!0,Ys(C))),N},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(N){var R=f;return function(){var L=f;f=R;try{return N.apply(this,arguments)}finally{f=L}}}})(Ug);zg.exports=Ug;var mw=zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw=S,Xe=mw;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wg=new Set,Zr={};function ni(t,e){ji(t,e),ji(t+"Capture",e)}function ji(t,e){for(Zr[t]=e,t=0;t<e.length;t++)Wg.add(e[t])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=Object.prototype.hasOwnProperty,yw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hh={},ph={};function vw(t){return fu.call(ph,t)?!0:fu.call(hh,t)?!1:yw.test(t)?ph[t]=!0:(hh[t]=!0,!1)}function _w(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ww(t,e,n,i){if(e===null||typeof e>"u"||_w(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ve(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ie[t]=new Ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ie[e]=new Ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ie[t]=new Ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ie[t]=new Ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ie[t]=new Ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ie[t]=new Ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ie[t]=new Ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ie[t]=new Ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ie[t]=new Ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xc=/[\-:]([a-z])/g;function Zc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xc,Zc);Ie[e]=new Ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xc,Zc);Ie[e]=new Ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xc,Zc);Ie[e]=new Ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ie[t]=new Ve(t,1,!1,t.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ie[t]=new Ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jc(t,e,n,i){var r=Ie.hasOwnProperty(e)?Ie[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ww(e,n,r,i)&&(n=null),i||r===null?vw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Gt=gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),li=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),hu=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),td=Symbol.for("react.forward_ref"),pu=Symbol.for("react.suspense"),mu=Symbol.for("react.suspense_list"),nd=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),Gg=Symbol.for("react.offscreen"),mh=Symbol.iterator;function fr(t){return t===null||typeof t!="object"?null:(t=mh&&t[mh]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,dl;function Ir(t){if(dl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dl=e&&e[1]||""}return`
`+dl+t}var fl=!1;function hl(t,e){if(!t||fl)return"";fl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{fl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ir(t):""}function xw(t){switch(t.tag){case 5:return Ir(t.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return t=hl(t.type,!1),t;case 11:return t=hl(t.type.render,!1),t;case 1:return t=hl(t.type,!0),t;default:return""}}function gu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ui:return"Fragment";case li:return"Portal";case hu:return"Profiler";case ed:return"StrictMode";case pu:return"Suspense";case mu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hg:return(t.displayName||"Context")+".Consumer";case $g:return(t._context.displayName||"Context")+".Provider";case td:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nd:return e=t.displayName||null,e!==null?e:gu(t.type)||"Memo";case Xt:e=t._payload,t=t._init;try{return gu(t(e))}catch{}}return null}function Cw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gu(e);case 8:return e===ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sw(t){var e=Kg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Js(t){t._valueTracker||(t._valueTracker=Sw(t))}function Yg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Kg(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yu(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gh(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=gn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qg(t,e){e=e.checked,e!=null&&Jc(t,"checked",e,!1)}function vu(t,e){Qg(t,e);var n=gn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_u(t,e.type,n):e.hasOwnProperty("defaultValue")&&_u(t,e.type,gn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _u(t,e,n){(e!=="number"||Fo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pr=Array.isArray;function ki(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+gn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function wu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(Pr(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gn(n)}}function qg(t,e){var n=gn(e.value),i=gn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function _h(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eo,Zg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ew=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(t){Ew.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mr[e]=Mr[t]})});function Jg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mr.hasOwnProperty(t)&&Mr[t]?(""+e).trim():e+"px"}function ey(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=Jg(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Tw=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(t,e){if(e){if(Tw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Su(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=null;function id(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tu=null,Ii=null,Pi=null;function wh(t){if(t=Ls(t)){if(typeof Tu!="function")throw Error(I(280));var e=t.stateNode;e&&(e=ba(e),Tu(t.stateNode,t.type,e))}}function ty(t){Ii?Pi?Pi.push(t):Pi=[t]:Ii=t}function ny(){if(Ii){var t=Ii,e=Pi;if(Pi=Ii=null,wh(t),e)for(t=0;t<e.length;t++)wh(e[t])}}function iy(t,e){return t(e)}function ry(){}var pl=!1;function sy(t,e,n){if(pl)return t(e,n);pl=!0;try{return iy(t,e,n)}finally{pl=!1,(Ii!==null||Pi!==null)&&(ry(),ny())}}function es(t,e){var n=t.stateNode;if(n===null)return null;var i=ba(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var ku=!1;if(jt)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){ku=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{ku=!1}function kw(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var br=!1,jo=null,Vo=!1,Iu=null,Iw={onError:function(t){br=!0,jo=t}};function Pw(t,e,n,i,r,s,o,a,l){br=!1,jo=null,kw.apply(Iw,arguments)}function Nw(t,e,n,i,r,s,o,a,l){if(Pw.apply(this,arguments),br){if(br){var u=jo;br=!1,jo=null}else throw Error(I(198));Vo||(Vo=!0,Iu=u)}}function ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xh(t){if(ii(t)!==t)throw Error(I(188))}function Dw(t){var e=t.alternate;if(!e){if(e=ii(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return xh(r),t;if(s===i)return xh(r),e;s=s.sibling}throw Error(I(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==i)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function ay(t){return t=Dw(t),t!==null?ly(t):null}function ly(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ly(t);if(e!==null)return e;t=t.sibling}return null}var uy=Xe.unstable_scheduleCallback,Ch=Xe.unstable_cancelCallback,Aw=Xe.unstable_shouldYield,Rw=Xe.unstable_requestPaint,ce=Xe.unstable_now,Mw=Xe.unstable_getCurrentPriorityLevel,rd=Xe.unstable_ImmediatePriority,cy=Xe.unstable_UserBlockingPriority,Bo=Xe.unstable_NormalPriority,bw=Xe.unstable_LowPriority,dy=Xe.unstable_IdlePriority,Da=null,Tt=null;function Lw(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Da,t,void 0,(t.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:jw,Ow=Math.log,Fw=Math.LN2;function jw(t){return t>>>=0,t===0?32:31-(Ow(t)/Fw|0)|0}var to=64,no=4194304;function Nr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zo(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Nr(a):(s&=o,s!==0&&(i=Nr(s)))}else o=n&~r,o!==0?i=Nr(o):s!==0&&(i=Nr(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-yt(e),r=1<<n,i|=t[n],e&=~r;return i}function Vw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bw(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yt(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=Vw(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Pu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fy(){var t=to;return to<<=1,!(to&4194240)&&(to=64),t}function ml(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ms(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yt(e),t[e]=n}function zw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-yt(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function sd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-yt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var W=0;function hy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var py,od,my,gy,yy,Nu=!1,io=[],sn=null,on=null,an=null,ts=new Map,ns=new Map,Jt=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(t,e){switch(t){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":ts.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(e.pointerId)}}function pr(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ls(e),e!==null&&od(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Ww(t,e,n,i,r){switch(e){case"focusin":return sn=pr(sn,t,e,n,i,r),!0;case"dragenter":return on=pr(on,t,e,n,i,r),!0;case"mouseover":return an=pr(an,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ts.set(s,pr(ts.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ns.set(s,pr(ns.get(s)||null,t,e,n,i,r)),!0}return!1}function vy(t){var e=Ln(t.target);if(e!==null){var n=ii(e);if(n!==null){if(e=n.tag,e===13){if(e=oy(n),e!==null){t.blockedOn=e,yy(t.priority,function(){my(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Du(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Eu=i,n.target.dispatchEvent(i),Eu=null}else return e=Ls(n),e!==null&&od(e),t.blockedOn=n,!1;e.shift()}return!0}function Eh(t,e,n){So(t)&&n.delete(e)}function $w(){Nu=!1,sn!==null&&So(sn)&&(sn=null),on!==null&&So(on)&&(on=null),an!==null&&So(an)&&(an=null),ts.forEach(Eh),ns.forEach(Eh)}function mr(t,e){t.blockedOn===e&&(t.blockedOn=null,Nu||(Nu=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,$w)))}function is(t){function e(r){return mr(r,t)}if(0<io.length){mr(io[0],t);for(var n=1;n<io.length;n++){var i=io[n];i.blockedOn===t&&(i.blockedOn=null)}}for(sn!==null&&mr(sn,t),on!==null&&mr(on,t),an!==null&&mr(an,t),ts.forEach(e),ns.forEach(e),n=0;n<Jt.length;n++)i=Jt[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)vy(n),n.blockedOn===null&&Jt.shift()}var Ni=Gt.ReactCurrentBatchConfig,Uo=!0;function Hw(t,e,n,i){var r=W,s=Ni.transition;Ni.transition=null;try{W=1,ad(t,e,n,i)}finally{W=r,Ni.transition=s}}function Gw(t,e,n,i){var r=W,s=Ni.transition;Ni.transition=null;try{W=4,ad(t,e,n,i)}finally{W=r,Ni.transition=s}}function ad(t,e,n,i){if(Uo){var r=Du(t,e,n,i);if(r===null)Tl(t,e,i,Wo,n),Sh(t,i);else if(Ww(r,t,e,n,i))i.stopPropagation();else if(Sh(t,i),e&4&&-1<Uw.indexOf(t)){for(;r!==null;){var s=Ls(r);if(s!==null&&py(s),s=Du(t,e,n,i),s===null&&Tl(t,e,i,Wo,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Tl(t,e,i,null,n)}}var Wo=null;function Du(t,e,n,i){if(Wo=null,t=id(i),t=Ln(t),t!==null)if(e=ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wo=t,null}function _y(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mw()){case rd:return 1;case cy:return 4;case Bo:case bw:return 16;case dy:return 536870912;default:return 16}default:return 16}}var tn=null,ld=null,Eo=null;function wy(){if(Eo)return Eo;var t,e=ld,n=e.length,i,r="value"in tn?tn.value:tn.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Eo=r.slice(t,1<i?1-i:void 0)}function To(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ro(){return!0}function Th(){return!1}function Je(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ro:Th,this.isPropagationStopped=Th,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),e}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ud=Je(tr),bs=ie({},tr,{view:0,detail:0}),Kw=Je(bs),gl,yl,gr,Aa=ie({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gr&&(gr&&t.type==="mousemove"?(gl=t.screenX-gr.screenX,yl=t.screenY-gr.screenY):yl=gl=0,gr=t),gl)},movementY:function(t){return"movementY"in t?t.movementY:yl}}),kh=Je(Aa),Yw=ie({},Aa,{dataTransfer:0}),Qw=Je(Yw),qw=ie({},bs,{relatedTarget:0}),vl=Je(qw),Xw=ie({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zw=Je(Xw),Jw=ie({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ex=Je(Jw),tx=ie({},tr,{data:0}),Ih=Je(tx),nx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rx[t])?!!e[t]:!1}function cd(){return sx}var ox=ie({},bs,{key:function(t){if(t.key){var e=nx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=To(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ix[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cd,charCode:function(t){return t.type==="keypress"?To(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?To(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ax=Je(ox),lx=ie({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ph=Je(lx),ux=ie({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cd}),cx=Je(ux),dx=ie({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fx=Je(dx),hx=ie({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),px=Je(hx),mx=[9,13,27,32],dd=jt&&"CompositionEvent"in window,Lr=null;jt&&"documentMode"in document&&(Lr=document.documentMode);var gx=jt&&"TextEvent"in window&&!Lr,xy=jt&&(!dd||Lr&&8<Lr&&11>=Lr),Nh=String.fromCharCode(32),Dh=!1;function Cy(t,e){switch(t){case"keyup":return mx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ci=!1;function yx(t,e){switch(t){case"compositionend":return Sy(e);case"keypress":return e.which!==32?null:(Dh=!0,Nh);case"textInput":return t=e.data,t===Nh&&Dh?null:t;default:return null}}function vx(t,e){if(ci)return t==="compositionend"||!dd&&Cy(t,e)?(t=wy(),Eo=ld=tn=null,ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xy&&e.locale!=="ko"?null:e.data;default:return null}}var _x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_x[t.type]:e==="textarea"}function Ey(t,e,n,i){ty(i),e=$o(e,"onChange"),0<e.length&&(n=new ud("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Or=null,rs=null;function wx(t){Ly(t,0)}function Ra(t){var e=hi(t);if(Yg(e))return t}function xx(t,e){if(t==="change")return e}var Ty=!1;if(jt){var _l;if(jt){var wl="oninput"in document;if(!wl){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),wl=typeof Rh.oninput=="function"}_l=wl}else _l=!1;Ty=_l&&(!document.documentMode||9<document.documentMode)}function Mh(){Or&&(Or.detachEvent("onpropertychange",ky),rs=Or=null)}function ky(t){if(t.propertyName==="value"&&Ra(rs)){var e=[];Ey(e,rs,t,id(t)),sy(wx,e)}}function Cx(t,e,n){t==="focusin"?(Mh(),Or=e,rs=n,Or.attachEvent("onpropertychange",ky)):t==="focusout"&&Mh()}function Sx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ra(rs)}function Ex(t,e){if(t==="click")return Ra(e)}function Tx(t,e){if(t==="input"||t==="change")return Ra(e)}function kx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wt=typeof Object.is=="function"?Object.is:kx;function ss(t,e){if(wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!fu.call(e,r)||!wt(t[r],e[r]))return!1}return!0}function bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lh(t,e){var n=bh(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bh(n)}}function Iy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Py(){for(var t=window,e=Fo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fo(t.document)}return e}function fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ix(t){var e=Py(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Iy(n.ownerDocument.documentElement,n)){if(i!==null&&fd(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Lh(n,s);var o=Lh(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Px=jt&&"documentMode"in document&&11>=document.documentMode,di=null,Au=null,Fr=null,Ru=!1;function Oh(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ru||di==null||di!==Fo(i)||(i=di,"selectionStart"in i&&fd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fr&&ss(Fr,i)||(Fr=i,i=$o(Au,"onSelect"),0<i.length&&(e=new ud("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=di)))}function so(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fi={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},xl={},Ny={};jt&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Ma(t){if(xl[t])return xl[t];if(!fi[t])return t;var e=fi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ny)return xl[t]=e[n];return t}var Dy=Ma("animationend"),Ay=Ma("animationiteration"),Ry=Ma("animationstart"),My=Ma("transitionend"),by=new Map,Fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(t,e){by.set(t,e),ni(e,[t])}for(var Cl=0;Cl<Fh.length;Cl++){var Sl=Fh[Cl],Nx=Sl.toLowerCase(),Dx=Sl[0].toUpperCase()+Sl.slice(1);Cn(Nx,"on"+Dx)}Cn(Dy,"onAnimationEnd");Cn(Ay,"onAnimationIteration");Cn(Ry,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(My,"onTransitionEnd");ji("onMouseEnter",["mouseout","mouseover"]);ji("onMouseLeave",["mouseout","mouseover"]);ji("onPointerEnter",["pointerout","pointerover"]);ji("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jh(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Nw(i,e,void 0,t),t.currentTarget=null}function Ly(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;jh(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;jh(r,a,u),s=l}}}if(Vo)throw t=Iu,Vo=!1,Iu=null,t}function Q(t,e){var n=e[Fu];n===void 0&&(n=e[Fu]=new Set);var i=t+"__bubble";n.has(i)||(Oy(e,t,2,!1),n.add(i))}function El(t,e,n){var i=0;e&&(i|=4),Oy(n,t,i,e)}var oo="_reactListening"+Math.random().toString(36).slice(2);function os(t){if(!t[oo]){t[oo]=!0,Wg.forEach(function(n){n!=="selectionchange"&&(Ax.has(n)||El(n,!1,t),El(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oo]||(e[oo]=!0,El("selectionchange",!1,e))}}function Oy(t,e,n,i){switch(_y(e)){case 1:var r=Hw;break;case 4:r=Gw;break;default:r=ad}n=r.bind(null,e,n,t),r=void 0,!ku||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Tl(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ln(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}sy(function(){var u=s,c=id(n),d=[];e:{var f=by.get(t);if(f!==void 0){var h=ud,y=t;switch(t){case"keypress":if(To(n)===0)break e;case"keydown":case"keyup":h=ax;break;case"focusin":y="focus",h=vl;break;case"focusout":y="blur",h=vl;break;case"beforeblur":case"afterblur":h=vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=kh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Qw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=cx;break;case Dy:case Ay:case Ry:h=Zw;break;case My:h=fx;break;case"scroll":h=Kw;break;case"wheel":h=px;break;case"copy":case"cut":case"paste":h=ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ph}var m=(e&4)!==0,w=!m&&t==="scroll",p=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,v;g!==null;){v=g;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,p!==null&&(x=es(g,p),x!=null&&m.push(as(g,x,v)))),w)break;g=g.return}0<m.length&&(f=new h(f,y,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Eu&&(y=n.relatedTarget||n.fromElement)&&(Ln(y)||y[Vt]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(y=n.relatedTarget||n.toElement,h=u,y=y?Ln(y):null,y!==null&&(w=ii(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=u),h!==y)){if(m=kh,x="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=Ph,x="onPointerLeave",p="onPointerEnter",g="pointer"),w=h==null?f:hi(h),v=y==null?f:hi(y),f=new m(x,g+"leave",h,n,c),f.target=w,f.relatedTarget=v,x=null,Ln(c)===u&&(m=new m(p,g+"enter",y,n,c),m.target=v,m.relatedTarget=w,x=m),w=x,h&&y)t:{for(m=h,p=y,g=0,v=m;v;v=oi(v))g++;for(v=0,x=p;x;x=oi(x))v++;for(;0<g-v;)m=oi(m),g--;for(;0<v-g;)p=oi(p),v--;for(;g--;){if(m===p||p!==null&&m===p.alternate)break t;m=oi(m),p=oi(p)}m=null}else m=null;h!==null&&Vh(d,f,h,m,!1),y!==null&&w!==null&&Vh(d,w,y,m,!0)}}e:{if(f=u?hi(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=xx;else if(Ah(f))if(Ty)C=Tx;else{C=Sx;var E=Cx}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Ex);if(C&&(C=C(t,u))){Ey(d,C,n,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&_u(f,"number",f.value)}switch(E=u?hi(u):window,t){case"focusin":(Ah(E)||E.contentEditable==="true")&&(di=E,Au=u,Fr=null);break;case"focusout":Fr=Au=di=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,Oh(d,n,c);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":Oh(d,n,c)}var k;if(dd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ci?Cy(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(xy&&n.locale!=="ko"&&(ci||T!=="onCompositionStart"?T==="onCompositionEnd"&&ci&&(k=wy()):(tn=c,ld="value"in tn?tn.value:tn.textContent,ci=!0)),E=$o(u,T),0<E.length&&(T=new Ih(T,t,null,n,c),d.push({event:T,listeners:E}),k?T.data=k:(k=Sy(n),k!==null&&(T.data=k)))),(k=gx?yx(t,n):vx(t,n))&&(u=$o(u,"onBeforeInput"),0<u.length&&(c=new Ih("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}Ly(d,e)})}function as(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $o(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=es(t,n),s!=null&&i.unshift(as(t,s,r)),s=es(t,e),s!=null&&i.push(as(t,s,r))),t=t.return}return i}function oi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vh(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=es(n,s),l!=null&&o.unshift(as(n,l,a))):r||(l=es(n,s),l!=null&&o.push(as(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rx=/\r\n?/g,Mx=/\u0000|\uFFFD/g;function Bh(t){return(typeof t=="string"?t:""+t).replace(Rx,`
`).replace(Mx,"")}function ao(t,e,n){if(e=Bh(e),Bh(t)!==e&&n)throw Error(I(425))}function Ho(){}var Mu=null,bu=null;function Lu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ou=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0,zh=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof zh<"u"?function(t){return zh.resolve(null).then(t).catch(Ox)}:Ou;function Ox(t){setTimeout(function(){throw t})}function kl(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),is(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);is(e)}function ln(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nr=Math.random().toString(36).slice(2),Et="__reactFiber$"+nr,ls="__reactProps$"+nr,Vt="__reactContainer$"+nr,Fu="__reactEvents$"+nr,Fx="__reactListeners$"+nr,jx="__reactHandles$"+nr;function Ln(t){var e=t[Et];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vt]||n[Et]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uh(t);t!==null;){if(n=t[Et])return n;t=Uh(t)}return e}t=n,n=t.parentNode}return null}function Ls(t){return t=t[Et]||t[Vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function ba(t){return t[ls]||null}var ju=[],pi=-1;function Sn(t){return{current:t}}function q(t){0>pi||(t.current=ju[pi],ju[pi]=null,pi--)}function Y(t,e){pi++,ju[pi]=t.current,t.current=e}var yn={},Me=Sn(yn),He=Sn(!1),Kn=yn;function Vi(t,e){var n=t.type.contextTypes;if(!n)return yn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ge(t){return t=t.childContextTypes,t!=null}function Go(){q(He),q(Me)}function Wh(t,e,n){if(Me.current!==yn)throw Error(I(168));Y(Me,e),Y(He,n)}function Fy(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(I(108,Cw(t)||"Unknown",r));return ie({},n,i)}function Ko(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yn,Kn=Me.current,Y(Me,t),Y(He,He.current),!0}function $h(t,e,n){var i=t.stateNode;if(!i)throw Error(I(169));n?(t=Fy(t,e,Kn),i.__reactInternalMemoizedMergedChildContext=t,q(He),q(Me),Y(Me,t)):q(He),Y(He,n)}var Rt=null,La=!1,Il=!1;function jy(t){Rt===null?Rt=[t]:Rt.push(t)}function Vx(t){La=!0,jy(t)}function En(){if(!Il&&Rt!==null){Il=!0;var t=0,e=W;try{var n=Rt;for(W=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Rt=null,La=!1}catch(r){throw Rt!==null&&(Rt=Rt.slice(t+1)),uy(rd,En),r}finally{W=e,Il=!1}}return null}var mi=[],gi=0,Yo=null,Qo=0,nt=[],it=0,Yn=null,Mt=1,bt="";function Dn(t,e){mi[gi++]=Qo,mi[gi++]=Yo,Yo=t,Qo=e}function Vy(t,e,n){nt[it++]=Mt,nt[it++]=bt,nt[it++]=Yn,Yn=t;var i=Mt;t=bt;var r=32-yt(i)-1;i&=~(1<<r),n+=1;var s=32-yt(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Mt=1<<32-yt(e)+r|n<<r|i,bt=s+t}else Mt=1<<s|n<<r|i,bt=t}function hd(t){t.return!==null&&(Dn(t,1),Vy(t,1,0))}function pd(t){for(;t===Yo;)Yo=mi[--gi],mi[gi]=null,Qo=mi[--gi],mi[gi]=null;for(;t===Yn;)Yn=nt[--it],nt[it]=null,bt=nt[--it],nt[it]=null,Mt=nt[--it],nt[it]=null}var qe=null,Qe=null,X=!1,pt=null;function By(t,e){var n=rt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qe=t,Qe=ln(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qe=t,Qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yn!==null?{id:Mt,overflow:bt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qe=t,Qe=null,!0):!1;default:return!1}}function Vu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bu(t){if(X){var e=Qe;if(e){var n=e;if(!Hh(t,e)){if(Vu(t))throw Error(I(418));e=ln(n.nextSibling);var i=qe;e&&Hh(t,e)?By(i,n):(t.flags=t.flags&-4097|2,X=!1,qe=t)}}else{if(Vu(t))throw Error(I(418));t.flags=t.flags&-4097|2,X=!1,qe=t}}}function Gh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qe=t}function lo(t){if(t!==qe)return!1;if(!X)return Gh(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lu(t.type,t.memoizedProps)),e&&(e=Qe)){if(Vu(t))throw zy(),Error(I(418));for(;e;)By(t,e),e=ln(e.nextSibling)}if(Gh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qe=ln(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qe=null}}else Qe=qe?ln(t.stateNode.nextSibling):null;return!0}function zy(){for(var t=Qe;t;)t=ln(t.nextSibling)}function Bi(){Qe=qe=null,X=!1}function md(t){pt===null?pt=[t]:pt.push(t)}var Bx=Gt.ReactCurrentBatchConfig;function yr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var i=n.stateNode}if(!i)throw Error(I(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function uo(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kh(t){var e=t._init;return e(t._payload)}function Uy(t){function e(p,g){if(t){var v=p.deletions;v===null?(p.deletions=[g],p.flags|=16):v.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function i(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function r(p,g){return p=fn(p,g),p.index=0,p.sibling=null,p}function s(p,g,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<g?(p.flags|=2,g):v):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,v,x){return g===null||g.tag!==6?(g=bl(v,p.mode,x),g.return=p,g):(g=r(g,v),g.return=p,g)}function l(p,g,v,x){var C=v.type;return C===ui?c(p,g,v.props.children,x,v.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xt&&Kh(C)===g.type)?(x=r(g,v.props),x.ref=yr(p,g,v),x.return=p,x):(x=Ro(v.type,v.key,v.props,null,p.mode,x),x.ref=yr(p,g,v),x.return=p,x)}function u(p,g,v,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ll(v,p.mode,x),g.return=p,g):(g=r(g,v.children||[]),g.return=p,g)}function c(p,g,v,x,C){return g===null||g.tag!==7?(g=Wn(v,p.mode,x,C),g.return=p,g):(g=r(g,v),g.return=p,g)}function d(p,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=bl(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zs:return v=Ro(g.type,g.key,g.props,null,p.mode,v),v.ref=yr(p,null,g),v.return=p,v;case li:return g=Ll(g,p.mode,v),g.return=p,g;case Xt:var x=g._init;return d(p,x(g._payload),v)}if(Pr(g)||fr(g))return g=Wn(g,p.mode,v,null),g.return=p,g;uo(p,g)}return null}function f(p,g,v,x){var C=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(p,g,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zs:return v.key===C?l(p,g,v,x):null;case li:return v.key===C?u(p,g,v,x):null;case Xt:return C=v._init,f(p,g,C(v._payload),x)}if(Pr(v)||fr(v))return C!==null?null:c(p,g,v,x,null);uo(p,v)}return null}function h(p,g,v,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(v)||null,a(g,p,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zs:return p=p.get(x.key===null?v:x.key)||null,l(g,p,x,C);case li:return p=p.get(x.key===null?v:x.key)||null,u(g,p,x,C);case Xt:var E=x._init;return h(p,g,v,E(x._payload),C)}if(Pr(x)||fr(x))return p=p.get(v)||null,c(g,p,x,C,null);uo(g,x)}return null}function y(p,g,v,x){for(var C=null,E=null,k=g,T=g=0,O=null;k!==null&&T<v.length;T++){k.index>T?(O=k,k=null):O=k.sibling;var A=f(p,k,v[T],x);if(A===null){k===null&&(k=O);break}t&&k&&A.alternate===null&&e(p,k),g=s(A,g,T),E===null?C=A:E.sibling=A,E=A,k=O}if(T===v.length)return n(p,k),X&&Dn(p,T),C;if(k===null){for(;T<v.length;T++)k=d(p,v[T],x),k!==null&&(g=s(k,g,T),E===null?C=k:E.sibling=k,E=k);return X&&Dn(p,T),C}for(k=i(p,k);T<v.length;T++)O=h(k,p,T,v[T],x),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?T:O.key),g=s(O,g,T),E===null?C=O:E.sibling=O,E=O);return t&&k.forEach(function(de){return e(p,de)}),X&&Dn(p,T),C}function m(p,g,v,x){var C=fr(v);if(typeof C!="function")throw Error(I(150));if(v=C.call(v),v==null)throw Error(I(151));for(var E=C=null,k=g,T=g=0,O=null,A=v.next();k!==null&&!A.done;T++,A=v.next()){k.index>T?(O=k,k=null):O=k.sibling;var de=f(p,k,A.value,x);if(de===null){k===null&&(k=O);break}t&&k&&de.alternate===null&&e(p,k),g=s(de,g,T),E===null?C=de:E.sibling=de,E=de,k=O}if(A.done)return n(p,k),X&&Dn(p,T),C;if(k===null){for(;!A.done;T++,A=v.next())A=d(p,A.value,x),A!==null&&(g=s(A,g,T),E===null?C=A:E.sibling=A,E=A);return X&&Dn(p,T),C}for(k=i(p,k);!A.done;T++,A=v.next())A=h(k,p,T,A.value,x),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?T:A.key),g=s(A,g,T),E===null?C=A:E.sibling=A,E=A);return t&&k.forEach(function(Yt){return e(p,Yt)}),X&&Dn(p,T),C}function w(p,g,v,x){if(typeof v=="object"&&v!==null&&v.type===ui&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zs:e:{for(var C=v.key,E=g;E!==null;){if(E.key===C){if(C=v.type,C===ui){if(E.tag===7){n(p,E.sibling),g=r(E,v.props.children),g.return=p,p=g;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Xt&&Kh(C)===E.type){n(p,E.sibling),g=r(E,v.props),g.ref=yr(p,E,v),g.return=p,p=g;break e}n(p,E);break}else e(p,E);E=E.sibling}v.type===ui?(g=Wn(v.props.children,p.mode,x,v.key),g.return=p,p=g):(x=Ro(v.type,v.key,v.props,null,p.mode,x),x.ref=yr(p,g,v),x.return=p,p=x)}return o(p);case li:e:{for(E=v.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(p,g.sibling),g=r(g,v.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Ll(v,p.mode,x),g.return=p,p=g}return o(p);case Xt:return E=v._init,w(p,g,E(v._payload),x)}if(Pr(v))return y(p,g,v,x);if(fr(v))return m(p,g,v,x);uo(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(p,g.sibling),g=r(g,v),g.return=p,p=g):(n(p,g),g=bl(v,p.mode,x),g.return=p,p=g),o(p)):n(p,g)}return w}var zi=Uy(!0),Wy=Uy(!1),qo=Sn(null),Xo=null,yi=null,gd=null;function yd(){gd=yi=Xo=null}function vd(t){var e=qo.current;q(qo),t._currentValue=e}function zu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Di(t,e){Xo=t,gd=yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ze=!0),t.firstContext=null)}function lt(t){var e=t._currentValue;if(gd!==t)if(t={context:t,memoizedValue:e,next:null},yi===null){if(Xo===null)throw Error(I(308));yi=t,Xo.dependencies={lanes:0,firstContext:t}}else yi=yi.next=t;return e}var On=null;function _d(t){On===null?On=[t]:On.push(t)}function $y(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,_d(e)):(n.next=r.next,r.next=n),e.interleaved=n,Bt(t,i)}function Bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zt=!1;function wd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ot(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function un(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,z&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Bt(t,n)}return r=i.interleaved,r===null?(e.next=e,_d(i)):(e.next=r.next,r.next=e),i.interleaved=e,Bt(t,n)}function ko(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,sd(t,n)}}function Yh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zo(t,e,n,i){var r=t.updateQueue;Zt=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,m=a;switch(f=e,h=n,m.tag){case 1:if(y=m.payload,typeof y=="function"){d=y.call(h,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=m.payload,f=typeof y=="function"?y.call(h,d,f):y,f==null)break e;d=ie({},d,f);break e;case 2:Zt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(c===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);qn|=o,t.lanes=o,t.memoizedState=d}}function Qh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(I(191,r));r.call(i)}}}var Os={},kt=Sn(Os),us=Sn(Os),cs=Sn(Os);function Fn(t){if(t===Os)throw Error(I(174));return t}function xd(t,e){switch(Y(cs,e),Y(us,t),Y(kt,Os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xu(e,t)}q(kt),Y(kt,e)}function Ui(){q(kt),q(us),q(cs)}function Gy(t){Fn(cs.current);var e=Fn(kt.current),n=xu(e,t.type);e!==n&&(Y(us,t),Y(kt,n))}function Cd(t){us.current===t&&(q(kt),q(us))}var ee=Sn(0);function Jo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pl=[];function Sd(){for(var t=0;t<Pl.length;t++)Pl[t]._workInProgressVersionPrimary=null;Pl.length=0}var Io=Gt.ReactCurrentDispatcher,Nl=Gt.ReactCurrentBatchConfig,Qn=0,ne=null,pe=null,ve=null,ea=!1,jr=!1,ds=0,zx=0;function Ne(){throw Error(I(321))}function Ed(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wt(t[n],e[n]))return!1;return!0}function Td(t,e,n,i,r,s){if(Qn=s,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Io.current=t===null||t.memoizedState===null?Hx:Gx,t=n(i,r),jr){s=0;do{if(jr=!1,ds=0,25<=s)throw Error(I(301));s+=1,ve=pe=null,e.updateQueue=null,Io.current=Kx,t=n(i,r)}while(jr)}if(Io.current=ta,e=pe!==null&&pe.next!==null,Qn=0,ve=pe=ne=null,ea=!1,e)throw Error(I(300));return t}function kd(){var t=ds!==0;return ds=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ne.memoizedState=ve=t:ve=ve.next=t,ve}function ut(){if(pe===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=ve===null?ne.memoizedState:ve.next;if(e!==null)ve=e,pe=t;else{if(t===null)throw Error(I(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ve===null?ne.memoizedState=ve=t:ve=ve.next=t}return ve}function fs(t,e){return typeof e=="function"?e(t):e}function Dl(t){var e=ut(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var i=pe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Qn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,ne.lanes|=c,qn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,wt(i,e.memoizedState)||(ze=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,ne.lanes|=s,qn|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Al(t){var e=ut(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);wt(s,e.memoizedState)||(ze=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function Ky(){}function Yy(t,e){var n=ne,i=ut(),r=e(),s=!wt(i.memoizedState,r);if(s&&(i.memoizedState=r,ze=!0),i=i.queue,Id(Xy.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,hs(9,qy.bind(null,n,i,r,e),void 0,null),Ce===null)throw Error(I(349));Qn&30||Qy(n,e,r)}return r}function Qy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qy(t,e,n,i){e.value=n,e.getSnapshot=i,Zy(e)&&Jy(t)}function Xy(t,e,n){return n(function(){Zy(e)&&Jy(t)})}function Zy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wt(t,n)}catch{return!0}}function Jy(t){var e=Bt(t,1);e!==null&&vt(e,t,1,-1)}function qh(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},e.queue=t,t=t.dispatch=$x.bind(null,ne,t),[e.memoizedState,t]}function hs(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null,stores:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function ev(){return ut().memoizedState}function Po(t,e,n,i){var r=St();ne.flags|=t,r.memoizedState=hs(1|e,n,void 0,i===void 0?null:i)}function Oa(t,e,n,i){var r=ut();i=i===void 0?null:i;var s=void 0;if(pe!==null){var o=pe.memoizedState;if(s=o.destroy,i!==null&&Ed(i,o.deps)){r.memoizedState=hs(e,n,s,i);return}}ne.flags|=t,r.memoizedState=hs(1|e,n,s,i)}function Xh(t,e){return Po(8390656,8,t,e)}function Id(t,e){return Oa(2048,8,t,e)}function tv(t,e){return Oa(4,2,t,e)}function nv(t,e){return Oa(4,4,t,e)}function iv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rv(t,e,n){return n=n!=null?n.concat([t]):null,Oa(4,4,iv.bind(null,e,t),n)}function Pd(){}function sv(t,e){var n=ut();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ed(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function ov(t,e){var n=ut();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Ed(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function av(t,e,n){return Qn&21?(wt(n,e)||(n=fy(),ne.lanes|=n,qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ze=!0),t.memoizedState=n)}function Ux(t,e){var n=W;W=n!==0&&4>n?n:4,t(!0);var i=Nl.transition;Nl.transition={};try{t(!1),e()}finally{W=n,Nl.transition=i}}function lv(){return ut().memoizedState}function Wx(t,e,n){var i=dn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},uv(t))cv(e,n);else if(n=$y(t,e,n,i),n!==null){var r=Oe();vt(n,t,i,r),dv(n,e,i)}}function $x(t,e,n){var i=dn(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(uv(t))cv(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,wt(a,o)){var l=e.interleaved;l===null?(r.next=r,_d(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=$y(t,e,r,i),n!==null&&(r=Oe(),vt(n,t,i,r),dv(n,e,i))}}function uv(t){var e=t.alternate;return t===ne||e!==null&&e===ne}function cv(t,e){jr=ea=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dv(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,sd(t,n)}}var ta={readContext:lt,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},Hx={readContext:lt,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:lt,useEffect:Xh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Po(4194308,4,iv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Po(4194308,4,t,e)},useInsertionEffect:function(t,e){return Po(4,2,t,e)},useMemo:function(t,e){var n=St();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=St();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Wx.bind(null,ne,t),[i.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:qh,useDebugValue:Pd,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=qh(!1),e=t[0];return t=Ux.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ne,r=St();if(X){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Ce===null)throw Error(I(349));Qn&30||Qy(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Xh(Xy.bind(null,i,s,t),[t]),i.flags|=2048,hs(9,qy.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=St(),e=Ce.identifierPrefix;if(X){var n=bt,i=Mt;n=(i&~(1<<32-yt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ds++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gx={readContext:lt,useCallback:sv,useContext:lt,useEffect:Id,useImperativeHandle:rv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:ov,useReducer:Dl,useRef:ev,useState:function(){return Dl(fs)},useDebugValue:Pd,useDeferredValue:function(t){var e=ut();return av(e,pe.memoizedState,t)},useTransition:function(){var t=Dl(fs)[0],e=ut().memoizedState;return[t,e]},useMutableSource:Ky,useSyncExternalStore:Yy,useId:lv,unstable_isNewReconciler:!1},Kx={readContext:lt,useCallback:sv,useContext:lt,useEffect:Id,useImperativeHandle:rv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:ov,useReducer:Al,useRef:ev,useState:function(){return Al(fs)},useDebugValue:Pd,useDeferredValue:function(t){var e=ut();return pe===null?e.memoizedState=t:av(e,pe.memoizedState,t)},useTransition:function(){var t=Al(fs)[0],e=ut().memoizedState;return[t,e]},useMutableSource:Ky,useSyncExternalStore:Yy,useId:lv,unstable_isNewReconciler:!1};function ft(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fa={isMounted:function(t){return(t=t._reactInternals)?ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Oe(),r=dn(t),s=Ot(i,r);s.payload=e,n!=null&&(s.callback=n),e=un(t,s,r),e!==null&&(vt(e,t,r,i),ko(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Oe(),r=dn(t),s=Ot(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=un(t,s,r),e!==null&&(vt(e,t,r,i),ko(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),i=dn(t),r=Ot(n,i);r.tag=2,e!=null&&(r.callback=e),e=un(t,r,i),e!==null&&(vt(e,t,i,n),ko(e,t,i))}};function Zh(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!ss(n,i)||!ss(r,s):!0}function fv(t,e,n){var i=!1,r=yn,s=e.contextType;return typeof s=="object"&&s!==null?s=lt(s):(r=Ge(e)?Kn:Me.current,i=e.contextTypes,s=(i=i!=null)?Vi(t,r):yn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fa,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Jh(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Fa.enqueueReplaceState(e,e.state,null)}function Wu(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},wd(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=lt(s):(s=Ge(e)?Kn:Me.current,r.context=Vi(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Uu(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Fa.enqueueReplaceState(r,r.state,null),Zo(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Wi(t,e){try{var n="",i=e;do n+=xw(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Rl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $u(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Yx=typeof WeakMap=="function"?WeakMap:Map;function hv(t,e,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ia||(ia=!0,ec=i),$u(t,e)},n}function pv(t,e,n){n=Ot(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){$u(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$u(t,e),typeof i!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ep(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Yx;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=lC.bind(null,t,e,n),e.then(t,t))}function tp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function np(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ot(-1,1),e.tag=2,un(n,e,1))),n.lanes|=1),t)}var Qx=Gt.ReactCurrentOwner,ze=!1;function be(t,e,n,i){e.child=t===null?Wy(e,null,n,i):zi(e,t.child,n,i)}function ip(t,e,n,i,r){n=n.render;var s=e.ref;return Di(e,r),i=Td(t,e,n,i,s,r),n=kd(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,zt(t,e,r)):(X&&n&&hd(e),e.flags|=1,be(t,e,i,r),e.child)}function rp(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Od(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mv(t,e,s,i,r)):(t=Ro(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ss,n(o,i)&&t.ref===e.ref)return zt(t,e,r)}return e.flags|=1,t=fn(s,i),t.ref=e.ref,t.return=e,e.child=t}function mv(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(ss(s,i)&&t.ref===e.ref)if(ze=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(ze=!0);else return e.lanes=t.lanes,zt(t,e,r)}return Hu(t,e,n,i,r)}function gv(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(_i,Ye),Ye|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(_i,Ye),Ye|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Y(_i,Ye),Ye|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Y(_i,Ye),Ye|=i;return be(t,e,r,n),e.child}function yv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hu(t,e,n,i,r){var s=Ge(n)?Kn:Me.current;return s=Vi(e,s),Di(e,r),n=Td(t,e,n,i,s,r),i=kd(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,zt(t,e,r)):(X&&i&&hd(e),e.flags|=1,be(t,e,n,r),e.child)}function sp(t,e,n,i,r){if(Ge(n)){var s=!0;Ko(e)}else s=!1;if(Di(e,r),e.stateNode===null)No(t,e),fv(e,n,i),Wu(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=lt(u):(u=Ge(n)?Kn:Me.current,u=Vi(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&Jh(e,o,i,u),Zt=!1;var f=e.memoizedState;o.state=f,Zo(e,i,o,r),l=e.memoizedState,a!==i||f!==l||He.current||Zt?(typeof c=="function"&&(Uu(e,n,c,i),l=e.memoizedState),(a=Zt||Zh(e,n,a,i,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Hy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ft(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=lt(l):(l=Ge(n)?Kn:Me.current,l=Vi(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Jh(e,o,i,l),Zt=!1,f=e.memoizedState,o.state=f,Zo(e,i,o,r);var y=e.memoizedState;a!==d||f!==y||He.current||Zt?(typeof h=="function"&&(Uu(e,n,h,i),y=e.memoizedState),(u=Zt||Zh(e,n,u,i,f,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Gu(t,e,n,i,s,r)}function Gu(t,e,n,i,r,s){yv(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&$h(e,n,!1),zt(t,e,s);i=e.stateNode,Qx.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=zi(e,t.child,null,s),e.child=zi(e,null,a,s)):be(t,e,a,s),e.memoizedState=i.state,r&&$h(e,n,!0),e.child}function vv(t){var e=t.stateNode;e.pendingContext?Wh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wh(t,e.context,!1),xd(t,e.containerInfo)}function op(t,e,n,i,r){return Bi(),md(r),e.flags|=256,be(t,e,n,i),e.child}var Ku={dehydrated:null,treeContext:null,retryLane:0};function Yu(t){return{baseLanes:t,cachePool:null,transitions:null}}function _v(t,e,n){var i=e.pendingProps,r=ee.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Y(ee,r&1),t===null)return Bu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ba(o,i,0,null),t=Wn(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yu(n),e.memoizedState=Ku,t):Nd(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return qx(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=fn(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=fn(a,s):(s=Wn(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Yu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ku,i}return s=t.child,t=s.sibling,i=fn(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Nd(t,e){return e=Ba({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function co(t,e,n,i){return i!==null&&md(i),zi(e,t.child,null,n),t=Nd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qx(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Rl(Error(I(422))),co(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Ba({mode:"visible",children:i.children},r,0,null),s=Wn(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&zi(e,t.child,null,o),e.child.memoizedState=Yu(o),e.memoizedState=Ku,s);if(!(e.mode&1))return co(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(I(419)),i=Rl(s,i,void 0),co(t,e,o,i)}if(a=(o&t.childLanes)!==0,ze||a){if(i=Ce,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Bt(t,r),vt(i,t,r,-1))}return Ld(),i=Rl(Error(I(421))),co(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=uC.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Qe=ln(r.nextSibling),qe=e,X=!0,pt=null,t!==null&&(nt[it++]=Mt,nt[it++]=bt,nt[it++]=Yn,Mt=t.id,bt=t.overflow,Yn=e),e=Nd(e,i.children),e.flags|=4096,e)}function ap(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),zu(t.return,e,n)}function Ml(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function wv(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(be(t,e,i.children,n),i=ee.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,n,e);else if(t.tag===19)ap(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Y(ee,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Jo(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ml(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Jo(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ml(e,!0,n,null,s);break;case"together":Ml(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function No(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=fn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xx(t,e,n){switch(e.tag){case 3:vv(e),Bi();break;case 5:Gy(e);break;case 1:Ge(e.type)&&Ko(e);break;case 4:xd(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Y(qo,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Y(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?_v(t,e,n):(Y(ee,ee.current&1),t=zt(t,e,n),t!==null?t.sibling:null);Y(ee,ee.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return wv(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Y(ee,ee.current),i)break;return null;case 22:case 23:return e.lanes=0,gv(t,e,n)}return zt(t,e,n)}var xv,Qu,Cv,Sv;xv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qu=function(){};Cv=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Fn(kt.current);var s=null;switch(n){case"input":r=yu(t,r),i=yu(t,i),s=[];break;case"select":r=ie({},r,{value:void 0}),i=ie({},i,{value:void 0}),s=[];break;case"textarea":r=wu(t,r),i=wu(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Ho)}Cu(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zr.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Sv=function(t,e,n,i){n!==i&&(e.flags|=4)};function vr(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Zx(t,e,n){var i=e.pendingProps;switch(pd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return Ge(e.type)&&Go(),De(e),null;case 3:return i=e.stateNode,Ui(),q(He),q(Me),Sd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(lo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pt!==null&&(ic(pt),pt=null))),Qu(t,e),De(e),null;case 5:Cd(e);var r=Fn(cs.current);if(n=e.type,t!==null&&e.stateNode!=null)Cv(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(I(166));return De(e),null}if(t=Fn(kt.current),lo(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Et]=e,i[ls]=s,t=(e.mode&1)!==0,n){case"dialog":Q("cancel",i),Q("close",i);break;case"iframe":case"object":case"embed":Q("load",i);break;case"video":case"audio":for(r=0;r<Dr.length;r++)Q(Dr[r],i);break;case"source":Q("error",i);break;case"img":case"image":case"link":Q("error",i),Q("load",i);break;case"details":Q("toggle",i);break;case"input":gh(i,s),Q("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Q("invalid",i);break;case"textarea":vh(i,s),Q("invalid",i)}Cu(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&ao(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ao(i.textContent,a,t),r=["children",""+a]):Zr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",i)}switch(n){case"input":Js(i),yh(i,s,!0);break;case"textarea":Js(i),_h(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ho)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Et]=e,t[ls]=i,xv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Su(n,i),n){case"dialog":Q("cancel",t),Q("close",t),r=i;break;case"iframe":case"object":case"embed":Q("load",t),r=i;break;case"video":case"audio":for(r=0;r<Dr.length;r++)Q(Dr[r],t);r=i;break;case"source":Q("error",t),r=i;break;case"img":case"image":case"link":Q("error",t),Q("load",t),r=i;break;case"details":Q("toggle",t),r=i;break;case"input":gh(t,i),r=yu(t,i),Q("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=ie({},i,{value:void 0}),Q("invalid",t);break;case"textarea":vh(t,i),r=wu(t,i),Q("invalid",t);break;default:r=i}Cu(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ey(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zg(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jr(t,l):typeof l=="number"&&Jr(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zr.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Q("scroll",t):l!=null&&Jc(t,s,l,o))}switch(n){case"input":Js(t),yh(t,i,!1);break;case"textarea":Js(t),_h(t);break;case"option":i.value!=null&&t.setAttribute("value",""+gn(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?ki(t,!!i.multiple,s,!1):i.defaultValue!=null&&ki(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ho)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)Sv(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(I(166));if(n=Fn(cs.current),Fn(kt.current),lo(e)){if(i=e.stateNode,n=e.memoizedProps,i[Et]=e,(s=i.nodeValue!==n)&&(t=qe,t!==null))switch(t.tag){case 3:ao(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ao(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Et]=e,e.stateNode=i}return De(e),null;case 13:if(q(ee),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&Qe!==null&&e.mode&1&&!(e.flags&128))zy(),Bi(),e.flags|=98560,s=!1;else if(s=lo(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Et]=e}else Bi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),s=!1}else pt!==null&&(ic(pt),pt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?me===0&&(me=3):Ld())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return Ui(),Qu(t,e),t===null&&os(e.stateNode.containerInfo),De(e),null;case 10:return vd(e.type._context),De(e),null;case 17:return Ge(e.type)&&Go(),De(e),null;case 19:if(q(ee),s=e.memoizedState,s===null)return De(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)vr(s,!1);else{if(me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jo(t),o!==null){for(e.flags|=128,vr(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(ee,ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&ce()>$i&&(e.flags|=128,i=!0,vr(s,!1),e.lanes=4194304)}else{if(!i)if(t=Jo(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!X)return De(e),null}else 2*ce()-s.renderingStartTime>$i&&n!==1073741824&&(e.flags|=128,i=!0,vr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ce(),e.sibling=null,n=ee.current,Y(ee,i?n&1|2:n&1),e):(De(e),null);case 22:case 23:return bd(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ye&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function Jx(t,e){switch(pd(e),e.tag){case 1:return Ge(e.type)&&Go(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(),q(He),q(Me),Sd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cd(e),null;case 13:if(q(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));Bi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(ee),null;case 4:return Ui(),null;case 10:return vd(e.type._context),null;case 22:case 23:return bd(),null;case 24:return null;default:return null}}var fo=!1,Ae=!1,eC=typeof WeakSet=="function"?WeakSet:Set,D=null;function vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){se(t,e,i)}else n.current=null}function qu(t,e,n){try{n()}catch(i){se(t,e,i)}}var lp=!1;function tC(t,e){if(Mu=Uo,t=Py(),fd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===r&&(a=o),f===s&&++c===i&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bu={focusedElem:t,selectionRange:n},Uo=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var m=y.memoizedProps,w=y.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?m:ft(e.type,m),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(x){se(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return y=lp,lp=!1,y}function Vr(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&qu(e,n,s)}r=r.next}while(r!==i)}}function ja(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Xu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Ev(t){var e=t.alternate;e!==null&&(t.alternate=null,Ev(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Et],delete e[ls],delete e[Fu],delete e[Fx],delete e[jx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tv(t){return t.tag===5||t.tag===3||t.tag===4}function up(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ho));else if(i!==4&&(t=t.child,t!==null))for(Zu(t,e,n),t=t.sibling;t!==null;)Zu(t,e,n),t=t.sibling}function Ju(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Ju(t,e,n),t=t.sibling;t!==null;)Ju(t,e,n),t=t.sibling}var Se=null,ht=!1;function Qt(t,e,n){for(n=n.child;n!==null;)kv(t,e,n),n=n.sibling}function kv(t,e,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Da,n)}catch{}switch(n.tag){case 5:Ae||vi(n,e);case 6:var i=Se,r=ht;Se=null,Qt(t,e,n),Se=i,ht=r,Se!==null&&(ht?(t=Se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(ht?(t=Se,n=n.stateNode,t.nodeType===8?kl(t.parentNode,n):t.nodeType===1&&kl(t,n),is(t)):kl(Se,n.stateNode));break;case 4:i=Se,r=ht,Se=n.stateNode.containerInfo,ht=!0,Qt(t,e,n),Se=i,ht=r;break;case 0:case 11:case 14:case 15:if(!Ae&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qu(n,e,o),r=r.next}while(r!==i)}Qt(t,e,n);break;case 1:if(!Ae&&(vi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){se(n,e,a)}Qt(t,e,n);break;case 21:Qt(t,e,n);break;case 22:n.mode&1?(Ae=(i=Ae)||n.memoizedState!==null,Qt(t,e,n),Ae=i):Qt(t,e,n);break;default:Qt(t,e,n)}}function cp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eC),e.forEach(function(i){var r=cC.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function ct(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Se=a.stateNode,ht=!1;break e;case 3:Se=a.stateNode.containerInfo,ht=!0;break e;case 4:Se=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(Se===null)throw Error(I(160));kv(s,o,r),Se=null,ht=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){se(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Iv(e,t),e=e.sibling}function Iv(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ct(e,t),Ct(t),i&4){try{Vr(3,t,t.return),ja(3,t)}catch(m){se(t,t.return,m)}try{Vr(5,t,t.return)}catch(m){se(t,t.return,m)}}break;case 1:ct(e,t),Ct(t),i&512&&n!==null&&vi(n,n.return);break;case 5:if(ct(e,t),Ct(t),i&512&&n!==null&&vi(n,n.return),t.flags&32){var r=t.stateNode;try{Jr(r,"")}catch(m){se(t,t.return,m)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Qg(r,s),Su(a,o);var u=Su(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?ey(r,d):c==="dangerouslySetInnerHTML"?Zg(r,d):c==="children"?Jr(r,d):Jc(r,c,d,u)}switch(a){case"input":vu(r,s);break;case"textarea":qg(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?ki(r,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?ki(r,!!s.multiple,s.defaultValue,!0):ki(r,!!s.multiple,s.multiple?[]:"",!1))}r[ls]=s}catch(m){se(t,t.return,m)}}break;case 6:if(ct(e,t),Ct(t),i&4){if(t.stateNode===null)throw Error(I(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(m){se(t,t.return,m)}}break;case 3:if(ct(e,t),Ct(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{is(e.containerInfo)}catch(m){se(t,t.return,m)}break;case 4:ct(e,t),Ct(t);break;case 13:ct(e,t),Ct(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Rd=ce())),i&4&&cp(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ae=(u=Ae)||c,ct(e,t),Ae=u):ct(e,t),Ct(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(D=t,c=t.child;c!==null;){for(d=D=c;D!==null;){switch(f=D,h=f.child,f.tag){case 0:case 11:case 14:case 15:Vr(4,f,f.return);break;case 1:vi(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(m){se(i,n,m)}}break;case 5:vi(f,f.return);break;case 22:if(f.memoizedState!==null){fp(d);continue}}h!==null?(h.return=f,D=h):fp(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jg("display",o))}catch(m){se(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){se(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ct(e,t),Ct(t),i&4&&cp(t);break;case 21:break;default:ct(e,t),Ct(t)}}function Ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tv(n)){var i=n;break e}n=n.return}throw Error(I(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Jr(r,""),i.flags&=-33);var s=up(t);Ju(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=up(t);Zu(t,a,o);break;default:throw Error(I(161))}}catch(l){se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nC(t,e,n){D=t,Pv(t)}function Pv(t,e,n){for(var i=(t.mode&1)!==0;D!==null;){var r=D,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||fo;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ae;a=fo;var u=Ae;if(fo=o,(Ae=l)&&!u)for(D=r;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?hp(r):l!==null?(l.return=o,D=l):hp(r);for(;s!==null;)D=s,Pv(s),s=s.sibling;D=r,fo=a,Ae=u}dp(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,D=s):dp(t)}}function dp(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ae||ja(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Ae)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ft(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Qh(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&is(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ae||e.flags&512&&Xu(e)}catch(f){se(e,e.return,f)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function fp(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function hp(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ja(4,e)}catch(l){se(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){se(e,r,l)}}var s=e.return;try{Xu(e)}catch(l){se(e,s,l)}break;case 5:var o=e.return;try{Xu(e)}catch(l){se(e,o,l)}}}catch(l){se(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var iC=Math.ceil,na=Gt.ReactCurrentDispatcher,Dd=Gt.ReactCurrentOwner,ot=Gt.ReactCurrentBatchConfig,z=0,Ce=null,he=null,ke=0,Ye=0,_i=Sn(0),me=0,ps=null,qn=0,Va=0,Ad=0,Br=null,Be=null,Rd=0,$i=1/0,At=null,ia=!1,ec=null,cn=null,ho=!1,nn=null,ra=0,zr=0,tc=null,Do=-1,Ao=0;function Oe(){return z&6?ce():Do!==-1?Do:Do=ce()}function dn(t){return t.mode&1?z&2&&ke!==0?ke&-ke:Bx.transition!==null?(Ao===0&&(Ao=fy()),Ao):(t=W,t!==0||(t=window.event,t=t===void 0?16:_y(t.type)),t):1}function vt(t,e,n,i){if(50<zr)throw zr=0,tc=null,Error(I(185));Ms(t,n,i),(!(z&2)||t!==Ce)&&(t===Ce&&(!(z&2)&&(Va|=n),me===4&&en(t,ke)),Ke(t,i),n===1&&z===0&&!(e.mode&1)&&($i=ce()+500,La&&En()))}function Ke(t,e){var n=t.callbackNode;Bw(t,e);var i=zo(t,t===Ce?ke:0);if(i===0)n!==null&&Ch(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Ch(n),e===1)t.tag===0?Vx(pp.bind(null,t)):jy(pp.bind(null,t)),Lx(function(){!(z&6)&&En()}),n=null;else{switch(hy(i)){case 1:n=rd;break;case 4:n=cy;break;case 16:n=Bo;break;case 536870912:n=dy;break;default:n=Bo}n=Ov(n,Nv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nv(t,e){if(Do=-1,Ao=0,z&6)throw Error(I(327));var n=t.callbackNode;if(Ai()&&t.callbackNode!==n)return null;var i=zo(t,t===Ce?ke:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=sa(t,i);else{e=i;var r=z;z|=2;var s=Av();(Ce!==t||ke!==e)&&(At=null,$i=ce()+500,Un(t,e));do try{oC();break}catch(a){Dv(t,a)}while(1);yd(),na.current=s,z=r,he!==null?e=0:(Ce=null,ke=0,e=me)}if(e!==0){if(e===2&&(r=Pu(t),r!==0&&(i=r,e=nc(t,r))),e===1)throw n=ps,Un(t,0),en(t,i),Ke(t,ce()),n;if(e===6)en(t,i);else{if(r=t.current.alternate,!(i&30)&&!rC(r)&&(e=sa(t,i),e===2&&(s=Pu(t),s!==0&&(i=s,e=nc(t,s))),e===1))throw n=ps,Un(t,0),en(t,i),Ke(t,ce()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(I(345));case 2:An(t,Be,At);break;case 3:if(en(t,i),(i&130023424)===i&&(e=Rd+500-ce(),10<e)){if(zo(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Oe(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ou(An.bind(null,t,Be,At),e);break}An(t,Be,At);break;case 4:if(en(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-yt(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=ce()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*iC(i/1960))-i,10<i){t.timeoutHandle=Ou(An.bind(null,t,Be,At),i);break}An(t,Be,At);break;case 5:An(t,Be,At);break;default:throw Error(I(329))}}}return Ke(t,ce()),t.callbackNode===n?Nv.bind(null,t):null}function nc(t,e){var n=Br;return t.current.memoizedState.isDehydrated&&(Un(t,e).flags|=256),t=sa(t,e),t!==2&&(e=Be,Be=n,e!==null&&ic(e)),t}function ic(t){Be===null?Be=t:Be.push.apply(Be,t)}function rC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!wt(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function en(t,e){for(e&=~Ad,e&=~Va,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yt(e),i=1<<n;t[n]=-1,e&=~i}}function pp(t){if(z&6)throw Error(I(327));Ai();var e=zo(t,0);if(!(e&1))return Ke(t,ce()),null;var n=sa(t,e);if(t.tag!==0&&n===2){var i=Pu(t);i!==0&&(e=i,n=nc(t,i))}if(n===1)throw n=ps,Un(t,0),en(t,e),Ke(t,ce()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,An(t,Be,At),Ke(t,ce()),null}function Md(t,e){var n=z;z|=1;try{return t(e)}finally{z=n,z===0&&($i=ce()+500,La&&En())}}function Xn(t){nn!==null&&nn.tag===0&&!(z&6)&&Ai();var e=z;z|=1;var n=ot.transition,i=W;try{if(ot.transition=null,W=1,t)return t()}finally{W=i,ot.transition=n,z=e,!(z&6)&&En()}}function bd(){Ye=_i.current,q(_i)}function Un(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bx(n)),he!==null)for(n=he.return;n!==null;){var i=n;switch(pd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Go();break;case 3:Ui(),q(He),q(Me),Sd();break;case 5:Cd(i);break;case 4:Ui();break;case 13:q(ee);break;case 19:q(ee);break;case 10:vd(i.type._context);break;case 22:case 23:bd()}n=n.return}if(Ce=t,he=t=fn(t.current,null),ke=Ye=e,me=0,ps=null,Ad=Va=qn=0,Be=Br=null,On!==null){for(e=0;e<On.length;e++)if(n=On[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}On=null}return t}function Dv(t,e){do{var n=he;try{if(yd(),Io.current=ta,ea){for(var i=ne.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ea=!1}if(Qn=0,ve=pe=ne=null,jr=!1,ds=0,Dd.current=null,n===null||n.return===null){me=1,ps=e,he=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ke,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=tp(o);if(h!==null){h.flags&=-257,np(h,o,a,s,e),h.mode&1&&ep(s,u,e),e=h,l=u;var y=e.updateQueue;if(y===null){var m=new Set;m.add(l),e.updateQueue=m}else y.add(l);break e}else{if(!(e&1)){ep(s,u,e),Ld();break e}l=Error(I(426))}}else if(X&&a.mode&1){var w=tp(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),np(w,o,a,s,e),md(Wi(l,a));break e}}s=l=Wi(l,a),me!==4&&(me=2),Br===null?Br=[s]:Br.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=hv(s,l,e);Yh(s,p);break e;case 1:a=l;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(cn===null||!cn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=pv(s,a,e);Yh(s,x);break e}}s=s.return}while(s!==null)}Mv(n)}catch(C){e=C,he===n&&n!==null&&(he=n=n.return);continue}break}while(1)}function Av(){var t=na.current;return na.current=ta,t===null?ta:t}function Ld(){(me===0||me===3||me===2)&&(me=4),Ce===null||!(qn&268435455)&&!(Va&268435455)||en(Ce,ke)}function sa(t,e){var n=z;z|=2;var i=Av();(Ce!==t||ke!==e)&&(At=null,Un(t,e));do try{sC();break}catch(r){Dv(t,r)}while(1);if(yd(),z=n,na.current=i,he!==null)throw Error(I(261));return Ce=null,ke=0,me}function sC(){for(;he!==null;)Rv(he)}function oC(){for(;he!==null&&!Aw();)Rv(he)}function Rv(t){var e=Lv(t.alternate,t,Ye);t.memoizedProps=t.pendingProps,e===null?Mv(t):he=e,Dd.current=null}function Mv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jx(n,e),n!==null){n.flags&=32767,he=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{me=6,he=null;return}}else if(n=Zx(n,e,Ye),n!==null){he=n;return}if(e=e.sibling,e!==null){he=e;return}he=e=t}while(e!==null);me===0&&(me=5)}function An(t,e,n){var i=W,r=ot.transition;try{ot.transition=null,W=1,aC(t,e,n,i)}finally{ot.transition=r,W=i}return null}function aC(t,e,n,i){do Ai();while(nn!==null);if(z&6)throw Error(I(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zw(t,s),t===Ce&&(he=Ce=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ho||(ho=!0,Ov(Bo,function(){return Ai(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ot.transition,ot.transition=null;var o=W;W=1;var a=z;z|=4,Dd.current=null,tC(t,n),Iv(n,t),Ix(bu),Uo=!!Mu,bu=Mu=null,t.current=n,nC(n),Rw(),z=a,W=o,ot.transition=s}else t.current=n;if(ho&&(ho=!1,nn=t,ra=r),s=t.pendingLanes,s===0&&(cn=null),Lw(n.stateNode),Ke(t,ce()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ia)throw ia=!1,t=ec,ec=null,t;return ra&1&&t.tag!==0&&Ai(),s=t.pendingLanes,s&1?t===tc?zr++:(zr=0,tc=t):zr=0,En(),null}function Ai(){if(nn!==null){var t=hy(ra),e=ot.transition,n=W;try{if(ot.transition=null,W=16>t?16:t,nn===null)var i=!1;else{if(t=nn,nn=null,ra=0,z&6)throw Error(I(331));var r=z;for(z|=4,D=t.current;D!==null;){var s=D,o=s.child;if(D.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:Vr(8,c,s)}var d=c.child;if(d!==null)d.return=c,D=d;else for(;D!==null;){c=D;var f=c.sibling,h=c.return;if(Ev(c),c===u){D=null;break}if(f!==null){f.return=h,D=f;break}D=h}}}var y=s.alternate;if(y!==null){var m=y.child;if(m!==null){y.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}D=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,D=o;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vr(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,D=p;break e}D=s.return}}var g=t.current;for(D=g;D!==null;){o=D;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,D=v;else e:for(o=g;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ja(9,a)}}catch(C){se(a,a.return,C)}if(a===o){D=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,D=x;break e}D=a.return}}if(z=r,En(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Da,t)}catch{}i=!0}return i}finally{W=n,ot.transition=e}}return!1}function mp(t,e,n){e=Wi(n,e),e=hv(t,e,1),t=un(t,e,1),e=Oe(),t!==null&&(Ms(t,1,e),Ke(t,e))}function se(t,e,n){if(t.tag===3)mp(t,t,n);else for(;e!==null;){if(e.tag===3){mp(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(cn===null||!cn.has(i))){t=Wi(n,t),t=pv(e,t,1),e=un(e,t,1),t=Oe(),e!==null&&(Ms(e,1,t),Ke(e,t));break}}e=e.return}}function lC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,Ce===t&&(ke&n)===n&&(me===4||me===3&&(ke&130023424)===ke&&500>ce()-Rd?Un(t,0):Ad|=n),Ke(t,e)}function bv(t,e){e===0&&(t.mode&1?(e=no,no<<=1,!(no&130023424)&&(no=4194304)):e=1);var n=Oe();t=Bt(t,e),t!==null&&(Ms(t,e,n),Ke(t,n))}function uC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bv(t,n)}function cC(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(I(314))}i!==null&&i.delete(e),bv(t,n)}var Lv;Lv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||He.current)ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ze=!1,Xx(t,e,n);ze=!!(t.flags&131072)}else ze=!1,X&&e.flags&1048576&&Vy(e,Qo,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;No(t,e),t=e.pendingProps;var r=Vi(e,Me.current);Di(e,n),r=Td(null,e,i,t,r,n);var s=kd();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ge(i)?(s=!0,Ko(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,wd(e),r.updater=Fa,e.stateNode=r,r._reactInternals=e,Wu(e,i,t,n),e=Gu(null,e,i,!0,s,n)):(e.tag=0,X&&s&&hd(e),be(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(No(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=fC(i),t=ft(i,t),r){case 0:e=Hu(null,e,i,t,n);break e;case 1:e=sp(null,e,i,t,n);break e;case 11:e=ip(null,e,i,t,n);break e;case 14:e=rp(null,e,i,ft(i.type,t),n);break e}throw Error(I(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ft(i,r),Hu(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ft(i,r),sp(t,e,i,r,n);case 3:e:{if(vv(e),t===null)throw Error(I(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Hy(t,e),Zo(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Wi(Error(I(423)),e),e=op(t,e,i,n,r);break e}else if(i!==r){r=Wi(Error(I(424)),e),e=op(t,e,i,n,r);break e}else for(Qe=ln(e.stateNode.containerInfo.firstChild),qe=e,X=!0,pt=null,n=Wy(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bi(),i===r){e=zt(t,e,n);break e}be(t,e,i,n)}e=e.child}return e;case 5:return Gy(e),t===null&&Bu(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Lu(i,r)?o=null:s!==null&&Lu(i,s)&&(e.flags|=32),yv(t,e),be(t,e,o,n),e.child;case 6:return t===null&&Bu(e),null;case 13:return _v(t,e,n);case 4:return xd(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=zi(e,null,i,n):be(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ft(i,r),ip(t,e,i,r,n);case 7:return be(t,e,e.pendingProps,n),e.child;case 8:return be(t,e,e.pendingProps.children,n),e.child;case 12:return be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Y(qo,i._currentValue),i._currentValue=o,s!==null)if(wt(s.value,o)){if(s.children===r.children&&!He.current){e=zt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ot(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),zu(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}be(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Di(e,n),r=lt(r),i=i(r),e.flags|=1,be(t,e,i,n),e.child;case 14:return i=e.type,r=ft(i,e.pendingProps),r=ft(i.type,r),rp(t,e,i,r,n);case 15:return mv(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ft(i,r),No(t,e),e.tag=1,Ge(i)?(t=!0,Ko(e)):t=!1,Di(e,n),fv(e,i,r),Wu(e,i,r,n),Gu(null,e,i,!0,t,n);case 19:return wv(t,e,n);case 22:return gv(t,e,n)}throw Error(I(156,e.tag))};function Ov(t,e){return uy(t,e)}function dC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,n,i){return new dC(t,e,n,i)}function Od(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fC(t){if(typeof t=="function")return Od(t)?1:0;if(t!=null){if(t=t.$$typeof,t===td)return 11;if(t===nd)return 14}return 2}function fn(t,e){var n=t.alternate;return n===null?(n=rt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ro(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Od(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ui:return Wn(n.children,r,s,e);case ed:o=8,r|=8;break;case hu:return t=rt(12,n,e,r|2),t.elementType=hu,t.lanes=s,t;case pu:return t=rt(13,n,e,r),t.elementType=pu,t.lanes=s,t;case mu:return t=rt(19,n,e,r),t.elementType=mu,t.lanes=s,t;case Gg:return Ba(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $g:o=10;break e;case Hg:o=9;break e;case td:o=11;break e;case nd:o=14;break e;case Xt:o=16,i=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=rt(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Wn(t,e,n,i){return t=rt(7,t,i,e),t.lanes=n,t}function Ba(t,e,n,i){return t=rt(22,t,i,e),t.elementType=Gg,t.lanes=n,t.stateNode={isHidden:!1},t}function bl(t,e,n){return t=rt(6,t,null,e),t.lanes=n,t}function Ll(t,e,n){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hC(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fd(t,e,n,i,r,s,o,a,l){return t=new hC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(s),t}function pC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:li,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Fv(t){if(!t)return yn;t=t._reactInternals;e:{if(ii(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ge(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Ge(n))return Fy(t,n,e)}return e}function jv(t,e,n,i,r,s,o,a,l){return t=Fd(n,i,!0,t,r,s,o,a,l),t.context=Fv(null),n=t.current,i=Oe(),r=dn(n),s=Ot(i,r),s.callback=e??null,un(n,s,r),t.current.lanes=r,Ms(t,r,i),Ke(t,i),t}function za(t,e,n,i){var r=e.current,s=Oe(),o=dn(r);return n=Fv(n),e.context===null?e.context=n:e.pendingContext=n,e=Ot(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=un(r,e,o),t!==null&&(vt(t,r,o,s),ko(t,r,o)),o}function oa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jd(t,e){gp(t,e),(t=t.alternate)&&gp(t,e)}function mC(){return null}var Vv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vd(t){this._internalRoot=t}Ua.prototype.render=Vd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));za(t,e,null,null)};Ua.prototype.unmount=Vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xn(function(){za(null,t,null,null)}),e[Vt]=null}};function Ua(t){this._internalRoot=t}Ua.prototype.unstable_scheduleHydration=function(t){if(t){var e=gy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jt.length&&e!==0&&e<Jt[n].priority;n++);Jt.splice(n,0,t),n===0&&vy(t)}};function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yp(){}function gC(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=oa(o);s.call(u)}}var o=jv(e,i,t,0,null,!1,!1,"",yp);return t._reactRootContainer=o,t[Vt]=o.current,os(t.nodeType===8?t.parentNode:t),Xn(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=oa(l);a.call(u)}}var l=Fd(t,0,!1,null,null,!1,!1,"",yp);return t._reactRootContainer=l,t[Vt]=l.current,os(t.nodeType===8?t.parentNode:t),Xn(function(){za(e,l,n,i)}),l}function $a(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=oa(o);a.call(l)}}za(e,o,t,r)}else o=gC(n,e,t,r,i);return oa(o)}py=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Nr(e.pendingLanes);n!==0&&(sd(e,n|1),Ke(e,ce()),!(z&6)&&($i=ce()+500,En()))}break;case 13:Xn(function(){var i=Bt(t,1);if(i!==null){var r=Oe();vt(i,t,1,r)}}),jd(t,1)}};od=function(t){if(t.tag===13){var e=Bt(t,134217728);if(e!==null){var n=Oe();vt(e,t,134217728,n)}jd(t,134217728)}};my=function(t){if(t.tag===13){var e=dn(t),n=Bt(t,e);if(n!==null){var i=Oe();vt(n,t,e,i)}jd(t,e)}};gy=function(){return W};yy=function(t,e){var n=W;try{return W=t,e()}finally{W=n}};Tu=function(t,e,n){switch(e){case"input":if(vu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=ba(i);if(!r)throw Error(I(90));Yg(i),vu(i,r)}}}break;case"textarea":qg(t,n);break;case"select":e=n.value,e!=null&&ki(t,!!n.multiple,e,!1)}};iy=Md;ry=Xn;var yC={usingClientEntryPoint:!1,Events:[Ls,hi,ba,ty,ny,Md]},_r={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vC={bundleType:_r.bundleType,version:_r.version,rendererPackageName:_r.rendererPackageName,rendererConfig:_r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ay(t),t===null?null:t.stateNode},findFiberByHostInstance:_r.findFiberByHostInstance||mC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{Da=po.inject(vC),Tt=po}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC;Ze.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bd(e))throw Error(I(200));return pC(t,e,null,n)};Ze.createRoot=function(t,e){if(!Bd(t))throw Error(I(299));var n=!1,i="",r=Vv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Fd(t,1,!1,null,null,n,!1,i,r),t[Vt]=e.current,os(t.nodeType===8?t.parentNode:t),new Vd(e)};Ze.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=ay(e),t=t===null?null:t.stateNode,t};Ze.flushSync=function(t){return Xn(t)};Ze.hydrate=function(t,e,n){if(!Wa(e))throw Error(I(200));return $a(null,t,e,!0,n)};Ze.hydrateRoot=function(t,e,n){if(!Bd(t))throw Error(I(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Vv;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=jv(e,null,t,1,n??null,r,!1,s,o),t[Vt]=e.current,os(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ua(e)};Ze.render=function(t,e,n){if(!Wa(e))throw Error(I(200));return $a(null,t,e,!1,n)};Ze.unmountComponentAtNode=function(t){if(!Wa(t))throw Error(I(40));return t._reactRootContainer?(Xn(function(){$a(null,null,t,!1,function(){t._reactRootContainer=null,t[Vt]=null})}),!0):!1};Ze.unstable_batchedUpdates=Md;Ze.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Wa(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return $a(t,e,n,!1,i)};Ze.version="18.3.1-next-f1338f8080-20240426";function Bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bv)}catch(t){console.error(t)}}Bv(),Bg.exports=Ze;var _C=Bg.exports,vp=_C;du.createRoot=vp.createRoot,du.hydrateRoot=vp.hydrateRoot;function wC(){const[t,e]=S.useState(null),[n,i]=S.useState(null),r=37.471561,s=-77.776657;S.useEffect(()=>{typeof window<"u"&&window.location.hostname.includes("github.io")&&(e(72),i(1)),fetch(`https://api.open-meteo.com/v1/forecast?latitude=${r}&longitude=${s}&current=temperature_2m,weathercode`).then(l=>l.json()).then(l=>{if(l!=null&&l.current){const c=l.current.temperature_2m*9/5+32;e(Math.round(c)),i(l.current.weathercode)}}).catch(l=>{console.error("Weather fetch failed:",l)})},[]);const a={0:"clear.svg",1:"partlycloudy.svg",2:"cloudy.svg",3:"cloudy.svg",45:"fog.svg",48:"fog.svg",51:"rain.svg",53:"rain.svg",55:"rain.svg",56:"rain.svg",57:"rain.svg",61:"rain.svg",63:"rain.svg",65:"rain.svg",66:"rain.svg",67:"rain.svg",71:"snow.svg",73:"snow.svg",75:"snow.svg",77:"snow.svg",80:"rain.svg",81:"rain.svg",82:"thunderstorm.svg",85:"snow.svg",86:"snow.svg",95:"thunderstorm.svg",96:"thunderstorm.svg",99:"thunderstorm.svg"}[n]||"cloudy.svg";return _.jsxs("div",{className:"flex items-center gap-3 text-3xl font-bold text-[#5A3210]",children:[_.jsx("img",{src:`/weather/${a}`,alt:a.replace(".svg",""),className:"w-10 h-10 object-contain",style:{filter:"brightness(0) saturate(100%) invert(23%) sepia(63%) saturate(1027%) hue-rotate(20deg) brightness(94%) contrast(95%)"},title:a.replace(".svg","")}),t!==null?_.jsxs("span",{children:[t,"°F"]}):_.jsx("span",{children:"--°F"})]})}function xC(){const[t,e]=S.useState(null);return S.useEffect(()=>{e((()=>{const i=new Date,r=new Date("2025-01-17"),s=29.53058867,a=((i-r)/(1e3*60*60*24)%s+s)%s;return a<1.84566?{name:"New Moon",icon:"newmoon.svg"}:a<5.53699?{name:"Waxing Crescent",icon:"waxingcrescent.svg"}:a<9.22831?{name:"First Quarter",icon:"firstquarter.svg"}:a<12.91963?{name:"Waxing Gibbous",icon:"waxinggibbous.svg"}:a<16.61096?{name:"Full Moon",icon:"fullmoon.svg"}:a<20.30228?{name:"Waning Gibbous",icon:"waninggibbous.svg"}:a<23.99361?{name:"Last Quarter",icon:"lastquarter.svg"}:{name:"Waning Crescent",icon:"waningcrescent.svg"}})())},[]),t?_.jsx("div",{className:"flex items-center gap-2 text-3xl font-bold text-[#5A3210]",children:_.jsx("img",{src:`/moon/${t.icon}`,alt:t.name,title:t.name,className:"w-10 h-10 object-contain",style:{filter:"brightness(0) saturate(100%) invert(23%) sepia(63%) saturate(1027%) hue-rotate(20deg) brightness(94%) contrast(95%)"}})}):_.jsx("div",{className:"w-12"})}function CC(){const[t,e]=S.useState(new Date);S.useEffect(()=>{const r=setInterval(()=>e(new Date),1e3);return()=>clearInterval(r)},[]);const n=t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}),i=t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"});return _.jsxs("header",{className:"w-full bg-transparent shadow-none px-2 sm:px-6 py-3 sm:py-6 mb-3 sm:mb-6 flex justify-between items-center",style:{paddingTop:window.innerWidth<768?"20px":"50px"},children:[_.jsx(xC,{}),_.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[_.jsx("div",{className:"text-sm sm:text-2xl font-medium text-[#5A3210] font-serif",children:n}),_.jsx("div",{className:"text-3xl sm:text-6xl font-bold text-[#5A3210] mt-1",children:i})]}),_.jsx(wC,{})]})}const zd=S.createContext({});function Ud(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wd=typeof window<"u",zv=Wd?S.useLayoutEffect:S.useEffect,Ha=S.createContext(null);function $d(t,e){t.indexOf(e)===-1&&t.push(e)}function Hd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ut=(t,e,n)=>n>e?e:n<t?t:n;let Gd=()=>{};const Wt={},Uv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Wv(t){return typeof t=="object"&&t!==null}const $v=t=>/^0[^.\s]+$/u.test(t);function Kd(t){let e;return()=>(e===void 0&&(e=t()),e)}const at=t=>t,SC=(t,e)=>n=>e(t(n)),Fs=(...t)=>t.reduce(SC),ms=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Yd{constructor(){this.subscriptions=[]}add(e){return $d(this.subscriptions,e),()=>Hd(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const It=t=>t*1e3,Pt=t=>t/1e3;function Hv(t,e){return e?t*(1e3/e):0}const Gv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,EC=1e-7,TC=12;function kC(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=Gv(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>EC&&++a<TC);return o}function js(t,e,n,i){if(t===e&&n===i)return at;const r=s=>kC(s,0,1,t,n);return s=>s===0||s===1?s:Gv(r(s),e,i)}const Kv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Yv=t=>e=>1-t(1-e),Qv=js(.33,1.53,.69,.99),Qd=Yv(Qv),qv=Kv(Qd),Xv=t=>(t*=2)<1?.5*Qd(t):.5*(2-Math.pow(2,-10*(t-1))),qd=t=>1-Math.sin(Math.acos(t)),Zv=Yv(qd),Jv=Kv(qd),IC=js(.42,0,1,1),PC=js(0,0,.58,1),e0=js(.42,0,.58,1),NC=t=>Array.isArray(t)&&typeof t[0]!="number",t0=t=>Array.isArray(t)&&typeof t[0]=="number",DC={linear:at,easeIn:IC,easeInOut:e0,easeOut:PC,circIn:qd,circInOut:Jv,circOut:Zv,backIn:Qd,backInOut:qv,backOut:Qv,anticipate:Xv},AC=t=>typeof t=="string",_p=t=>{if(t0(t)){Gd(t.length===4);const[e,n,i,r]=t;return js(e,n,i,r)}else if(AC(t))return DC[t];return t},mo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],wp={value:null,addProjectionMetrics:null};function RC(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(c.schedule(d),t()),l++,d(a)}const c={schedule:(d,f=!1,h=!1)=>{const m=h&&r?n:i;return f&&o.add(d),m.has(d)||m.add(d),d},cancel:d=>{i.delete(d),o.delete(d)},process:d=>{if(a=d,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),e&&wp.value&&wp.value.frameloop[e].push(l),l=0,n.clear(),r=!1,s&&(s=!1,c.process(d))}};return c}const MC=40;function n0(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=mo.reduce((v,x)=>(v[x]=RC(s,e?x:void 0),v),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:h,postRender:y}=o,m=()=>{const v=Wt.useManualTiming?r.timestamp:performance.now();n=!1,Wt.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(v-r.timestamp,MC),1)),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),d.process(r),f.process(r),h.process(r),y.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},w=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:mo.reduce((v,x)=>{const C=o[x];return v[x]=(E,k=!1,T=!1)=>(n||w(),C.schedule(E,k,T)),v},{}),cancel:v=>{for(let x=0;x<mo.length;x++)o[mo[x]].cancel(v)},state:r,steps:o}}const{schedule:Z,cancel:vn,state:Ee,steps:Ol}=n0(typeof requestAnimationFrame<"u"?requestAnimationFrame:at,!0);let Mo;function bC(){Mo=void 0}const Ue={now:()=>(Mo===void 0&&Ue.set(Ee.isProcessing||Wt.useManualTiming?Ee.timestamp:performance.now()),Mo),set:t=>{Mo=t,queueMicrotask(bC)}},i0=t=>e=>typeof e=="string"&&e.startsWith(t),Xd=i0("--"),LC=i0("var(--"),Zd=t=>LC(t)?OC.test(t.split("/*")[0].trim()):!1,OC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ir={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gs={...ir,transform:t=>Ut(0,1,t)},go={...ir,default:1},Ur=t=>Math.round(t*1e5)/1e5,Jd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FC(t){return t==null}const jC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ef=(t,e)=>n=>!!(typeof n=="string"&&jC.test(n)&&n.startsWith(t)||e&&!FC(n)&&Object.prototype.hasOwnProperty.call(n,e)),r0=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(Jd);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},VC=t=>Ut(0,255,t),Fl={...ir,transform:t=>Math.round(VC(t))},jn={test:ef("rgb","red"),parse:r0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Fl.transform(t)+", "+Fl.transform(e)+", "+Fl.transform(n)+", "+Ur(gs.transform(i))+")"};function BC(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const rc={test:ef("#"),parse:BC,transform:jn.transform},Vs=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),qt=Vs("deg"),Nt=Vs("%"),M=Vs("px"),zC=Vs("vh"),UC=Vs("vw"),xp=(()=>({...Nt,parse:t=>Nt.parse(t)/100,transform:t=>Nt.transform(t*100)}))(),wi={test:ef("hsl","hue"),parse:r0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Nt.transform(Ur(e))+", "+Nt.transform(Ur(n))+", "+Ur(gs.transform(i))+")"},fe={test:t=>jn.test(t)||rc.test(t)||wi.test(t),parse:t=>jn.test(t)?jn.parse(t):wi.test(t)?wi.parse(t):rc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?jn.transform(t):wi.transform(t),getAnimatableNone:t=>{const e=fe.parse(t);return e.alpha=0,fe.transform(e)}},WC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $C(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jd))==null?void 0:e.length)||0)+(((n=t.match(WC))==null?void 0:n.length)||0)>0}const s0="number",o0="color",HC="var",GC="var(",Cp="${}",KC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ys(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(KC,l=>(fe.test(l)?(i.color.push(s),r.push(o0),n.push(fe.parse(l))):l.startsWith(GC)?(i.var.push(s),r.push(HC),n.push(l)):(i.number.push(s),r.push(s0),n.push(parseFloat(l))),++s,Cp)).split(Cp);return{values:n,split:a,indexes:i,types:r}}function a0(t){return ys(t).values}function l0(t){const{split:e,types:n}=ys(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===s0?s+=Ur(r[o]):a===o0?s+=fe.transform(r[o]):s+=r[o]}return s}}const YC=t=>typeof t=="number"?0:fe.test(t)?fe.getAnimatableNone(t):t;function QC(t){const e=a0(t);return l0(t)(e.map(YC))}const _n={test:$C,parse:a0,createTransformer:l0,getAnimatableNone:QC};function jl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function qC({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=jl(l,a,t+1/3),s=jl(l,a,t),o=jl(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function aa(t,e){return n=>n>0?e:t}const te=(t,e,n)=>t+(e-t)*n,Vl=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},XC=[rc,jn,wi],ZC=t=>XC.find(e=>e.test(t));function Sp(t){const e=ZC(t);if(!e)return!1;let n=e.parse(t);return e===wi&&(n=qC(n)),n}const Ep=(t,e)=>{const n=Sp(t),i=Sp(e);if(!n||!i)return aa(t,e);const r={...n};return s=>(r.red=Vl(n.red,i.red,s),r.green=Vl(n.green,i.green,s),r.blue=Vl(n.blue,i.blue,s),r.alpha=te(n.alpha,i.alpha,s),jn.transform(r))},sc=new Set(["none","hidden"]);function JC(t,e){return sc.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function eS(t,e){return n=>te(t,e,n)}function tf(t){return typeof t=="number"?eS:typeof t=="string"?Zd(t)?aa:fe.test(t)?Ep:iS:Array.isArray(t)?u0:typeof t=="object"?fe.test(t)?Ep:tS:aa}function u0(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>tf(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function tS(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=tf(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function nS(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=t.indexes[s][i[s]],a=t.values[o]??0;n[r]=a,i[s]++}return n}const iS=(t,e)=>{const n=_n.createTransformer(e),i=ys(t),r=ys(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?sc.has(t)&&!r.values.length||sc.has(e)&&!i.values.length?JC(t,e):Fs(u0(nS(i,r),r.values),n):aa(t,e)};function c0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?te(t,e,n):tf(t)(t,e)}const rS=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Z.update(e,n),stop:()=>vn(e),now:()=>Ee.isProcessing?Ee.timestamp:Ue.now()}},d0=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=Math.round(t(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},la=2e4;function nf(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<la;)e+=n,i=t.next(e);return e>=la?1/0:e}function sS(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(nf(i),la);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:Pt(r)}}const oS=5;function f0(t,e,n){const i=Math.max(e-oS,0);return Hv(n-t(i),e-i)}const re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bl=.001;function aS({duration:t=re.duration,bounce:e=re.bounce,velocity:n=re.velocity,mass:i=re.mass}){let r,s,o=1-e;o=Ut(re.minDamping,re.maxDamping,o),t=Ut(re.minDuration,re.maxDuration,Pt(t)),o<1?(r=u=>{const c=u*o,d=c*t,f=c-n,h=oc(u,o),y=Math.exp(-d);return Bl-f/h*y},s=u=>{const d=u*o*t,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-d),m=oc(Math.pow(u,2),o);return(-r(u)+Bl>0?-1:1)*((f-h)*y)/m}):(r=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-Bl+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=uS(r,s,a);if(t=It(t),isNaN(l))return{stiffness:re.stiffness,damping:re.damping,duration:t};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:t}}}const lS=12;function uS(t,e,n){let i=n;for(let r=1;r<lS;r++)i=i-t(i)/e(i);return i}function oc(t,e){return t*Math.sqrt(1-e*e)}const cS=["duration","bounce"],dS=["stiffness","damping","mass"];function Tp(t,e){return e.some(n=>t[n]!==void 0)}function fS(t){let e={velocity:re.velocity,stiffness:re.stiffness,damping:re.damping,mass:re.mass,isResolvedFromDuration:!1,...t};if(!Tp(t,dS)&&Tp(t,cS))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Ut(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:re.mass,stiffness:r,damping:s}}else{const n=aS(t);e={...e,...n,mass:re.mass},e.isResolvedFromDuration=!0}return e}function ua(t=re.visualDuration,e=re.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=fS({...n,velocity:-Pt(n.velocity||0)}),y=f||0,m=u/(2*Math.sqrt(l*c)),w=o-s,p=Pt(Math.sqrt(l/c)),g=Math.abs(w)<5;i||(i=g?re.restSpeed.granular:re.restSpeed.default),r||(r=g?re.restDelta.granular:re.restDelta.default);let v;if(m<1){const C=oc(p,m);v=E=>{const k=Math.exp(-m*p*E);return o-k*((y+m*p*w)/C*Math.sin(C*E)+w*Math.cos(C*E))}}else if(m===1)v=C=>o-Math.exp(-p*C)*(w+(y+p*w)*C);else{const C=p*Math.sqrt(m*m-1);v=E=>{const k=Math.exp(-m*p*E),T=Math.min(C*E,300);return o-k*((y+m*p*w)*Math.sinh(T)+C*w*Math.cosh(T))/C}}const x={calculatedDuration:h&&d||null,next:C=>{const E=v(C);if(h)a.done=C>=d;else{let k=C===0?y:0;m<1&&(k=C===0?It(y):f0(v,C,E));const T=Math.abs(k)<=i,O=Math.abs(o-E)<=r;a.done=T&&O}return a.value=a.done?o:E,a},toString:()=>{const C=Math.min(nf(x),la),E=d0(k=>x.next(C*k).value,C,30);return C+"ms "+E},toTransition:()=>{}};return x}ua.applyToOptions=t=>{const e=sS(t,100,ua);return t.ease=e.ease,t.duration=It(e.duration),t.type="keyframes",t};function ac({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},h=T=>a!==void 0&&T<a||l!==void 0&&T>l,y=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let m=n*e;const w=d+m,p=o===void 0?w:o(w);p!==w&&(m=p-d);const g=T=>-m*Math.exp(-T/i),v=T=>p+g(T),x=T=>{const O=g(T),A=v(T);f.done=Math.abs(O)<=u,f.value=f.done?p:A};let C,E;const k=T=>{h(f.value)&&(C=T,E=ua({keyframes:[f.value,y(f.value)],velocity:f0(v,T,f.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:T=>{let O=!1;return!E&&C===void 0&&(O=!0,x(T),k(T)),C!==void 0&&T>=C?E.next(T-C):(!O&&x(T),f)}}}function hS(t,e,n){const i=[],r=n||Wt.mix||c0,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||at:e;a=Fs(l,a)}i.push(a)}return i}function pS(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(Gd(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=hS(e,i,r),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=ms(t[d],t[d+1],c);return a[d](f)};return n?c=>u(Ut(t[0],t[s-1],c)):u}function mS(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=ms(0,e,i);t.push(te(n,1,r))}}function gS(t){const e=[0];return mS(e,t.length-1),e}function yS(t,e){return t.map(n=>n*e)}function vS(t,e){return t.map(()=>e||e0).splice(0,t.length-1)}function Wr({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=NC(i)?i.map(_p):_p(i),s={done:!1,value:e[0]},o=yS(n&&n.length===e.length?n:gS(e),t),a=pS(o,e,{ease:Array.isArray(r)?r:vS(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const _S=t=>t!==null;function rf(t,{repeat:e,repeatType:n="loop"},i,r=1){const s=t.filter(_S),a=r<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const wS={decay:ac,inertia:ac,tween:Wr,keyframes:Wr,spring:ua};function h0(t){typeof t.type=="string"&&(t.type=wS[t.type])}class sf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xS=t=>t/100;class of extends sf{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Ue.now()&&this.tick(Ue.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;h0(e);const{type:n=Wr,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Wr;l!==Wr&&typeof a[0]!="number"&&(this.mixKeyframes=Fs(xS,c0(a[0],a[1])),a=[0,100]);const u=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=nf(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:h,type:y,onUpdate:m,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>r;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,x=i;if(d){const T=Math.min(this.currentTime,r)/a;let O=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&O--,O=Math.min(O,d+1),!!(O%2)&&(f==="reverse"?(A=1-A,h&&(A-=h/a)):f==="mirror"&&(x=o)),v=Ut(0,1,A)*a}const C=g?{done:!1,value:c[0]}:x.next(v);s&&(C.value=s(C.value));let{done:E}=C;!g&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&y!==ac&&(C.value=rf(c,this.options,w,this.speed)),m&&m(C.value),k&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Pt(this.calculatedDuration)}get time(){return Pt(this.currentTime)}set time(e){var n;e=It(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ue.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Pt(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=rS,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ue.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function CS(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vn=t=>t*180/Math.PI,lc=t=>{const e=Vn(Math.atan2(t[1],t[0]));return uc(e)},SS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lc,rotateZ:lc,skewX:t=>Vn(Math.atan(t[1])),skewY:t=>Vn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},uc=t=>(t=t%360,t<0&&(t+=360),t),kp=lc,Ip=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Pp=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ES={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ip,scaleY:Pp,scale:t=>(Ip(t)+Pp(t))/2,rotateX:t=>uc(Vn(Math.atan2(t[6],t[5]))),rotateY:t=>uc(Vn(Math.atan2(-t[2],t[0]))),rotateZ:kp,rotate:kp,skewX:t=>Vn(Math.atan(t[4])),skewY:t=>Vn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cc(t){return t.includes("scale")?1:0}function dc(t,e){if(!t||t==="none")return cc(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=ES,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=SS,r=a}if(!r)return cc(e);const s=i[e],o=r[1].split(",").map(kS);return typeof s=="function"?s(o):o[s]}const TS=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dc(n,e)};function kS(t){return parseFloat(t.trim())}const rr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sr=(()=>new Set(rr))(),Np=t=>t===ir||t===M,IS=new Set(["x","y","z"]),PS=rr.filter(t=>!IS.has(t));function NS(t){const e=[];return PS.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const $n={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dc(e,"x"),y:(t,{transform:e})=>dc(e,"y")};$n.translateX=$n.x;$n.translateY=$n.y;const Hn=new Set;let fc=!1,hc=!1,pc=!1;function p0(){if(hc){const t=Array.from(Hn).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=NS(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))==null||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}hc=!1,fc=!1,Hn.forEach(t=>t.complete(pc)),Hn.clear()}function m0(){Hn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hc=!0)})}function DS(){pc=!0,m0(),p0(),pc=!1}class af{constructor(e,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Hn.add(this),fc||(fc=!0,Z.read(m0),Z.resolveKeyframes(p0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const a=i.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}CS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hn.delete(this)}cancel(){this.state==="scheduled"&&(Hn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const AS=t=>t.startsWith("--");function RS(t,e,n){AS(e)?t.style.setProperty(e,n):t.style[e]=n}const MS=Kd(()=>window.ScrollTimeline!==void 0),bS={};function LS(t,e){const n=Kd(t);return()=>bS[e]??n()}const g0=LS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ar=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Dp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ar([0,.65,.55,1]),circOut:Ar([.55,0,1,.45]),backIn:Ar([.31,.01,.66,-.59]),backOut:Ar([.33,1.53,.69,.99])};function y0(t,e){if(t)return typeof t=="function"?g0()?d0(t,e):"ease-out":t0(t)?Ar(t):Array.isArray(t)?t.map(n=>y0(n,e)||Dp.easeOut):Dp[t]}function OS(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=y0(a,r);Array.isArray(d)&&(c.easing=d);const f={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function v0(t){return typeof t=="function"&&"applyToOptions"in t}function FS({type:t,...e}){return v0(t)&&g0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class jS extends sf{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Gd(typeof e.type!="string");const u=FS(e);this.animation=OS(n,i,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=rf(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):RS(n,i,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Pt(Number(e))}get time(){return Pt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=It(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&MS()?(this.animation.timeline=e,at):n(this)}}const _0={anticipate:Xv,backInOut:qv,circInOut:Jv};function VS(t){return t in _0}function BS(t){typeof t.ease=="string"&&VS(t.ease)&&(t.ease=_0[t.ease])}const Ap=10;class zS extends jS{constructor(e){BS(e),h0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new of({...o,autoplay:!1}),l=It(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Ap).value,a.sample(l).value,Ap),a.stop()}}const Rp=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_n.test(t)||t==="0")&&!t.startsWith("url("));function US(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function WS(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Rp(r,e),a=Rp(s,e);return!o||!a?!1:US(t)||(n==="spring"||v0(n))&&i}function mc(t){t.duration=0,t.type}const $S=new Set(["opacity","clipPath","filter","transform"]),HS=Kd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GS(t){var c;const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return HS()&&n&&$S.has(n)&&(n!=="transform"||!u)&&!l&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const KS=40;class YS extends sf{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var y;super(),this.stop=()=>{var m,w;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Ue.now();const f={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c,...d},h=(c==null?void 0:c.KeyframeResolver)||af;this.keyframeResolver=new h(a,(m,w,p)=>this.onKeyframesResolved(m,w,f,!p),l,u,c),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=i;this.resolvedAt=Ue.now(),WS(e,s,o,a)||((Wt.instantAnimations||!l)&&(c==null||c(rf(e,i,n))),e[0]=e[e.length-1],mc(i),i.repeat=0);const f={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>KS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},h=!u&&GS(f)?new zS({...f,element:f.motionValue.owner.current}):new of(f);h.finished.then(()=>this.notifyFinished()).catch(at),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),DS()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const QS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qS(t){const e=QS.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function w0(t,e,n=1){const[i,r]=qS(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return Uv(o)?parseFloat(o):o}return Zd(r)?w0(r,e,n+1):r}function lf(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const x0=new Set(["width","height","top","left","right","bottom",...rr]),XS={test:t=>t==="auto",parse:t=>t},C0=t=>e=>e.test(t),S0=[ir,M,Nt,qt,UC,zC,XS],Mp=t=>S0.find(C0(t));function ZS(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$v(t):!0}const JS=new Set(["brightness","contrast","saturate","opacity"]);function eE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Jd)||[];if(!i)return t;const r=n.replace(i,"");let s=JS.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const tE=/\b([a-z-]*)\(.*?\)/gu,gc={..._n,getAnimatableNone:t=>{const e=t.match(tE);return e?e.map(eE).join(" "):t}},bp={...ir,transform:Math.round},nE={rotate:qt,rotateX:qt,rotateY:qt,rotateZ:qt,scale:go,scaleX:go,scaleY:go,scaleZ:go,skew:qt,skewX:qt,skewY:qt,distance:M,translateX:M,translateY:M,translateZ:M,x:M,y:M,z:M,perspective:M,transformPerspective:M,opacity:gs,originX:xp,originY:xp,originZ:M},uf={borderWidth:M,borderTopWidth:M,borderRightWidth:M,borderBottomWidth:M,borderLeftWidth:M,borderRadius:M,radius:M,borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomRightRadius:M,borderBottomLeftRadius:M,width:M,maxWidth:M,height:M,maxHeight:M,top:M,right:M,bottom:M,left:M,padding:M,paddingTop:M,paddingRight:M,paddingBottom:M,paddingLeft:M,margin:M,marginTop:M,marginRight:M,marginBottom:M,marginLeft:M,backgroundPositionX:M,backgroundPositionY:M,...nE,zIndex:bp,fillOpacity:gs,strokeOpacity:gs,numOctaves:bp},iE={...uf,color:fe,backgroundColor:fe,outlineColor:fe,fill:fe,stroke:fe,borderColor:fe,borderTopColor:fe,borderRightColor:fe,borderBottomColor:fe,borderLeftColor:fe,filter:gc,WebkitFilter:gc},E0=t=>iE[t];function T0(t,e){let n=E0(t);return n!==gc&&(n=_n),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rE=new Set(["auto","none","0"]);function sE(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!rE.has(s)&&ys(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=T0(n,r)}class oE extends af{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Zd(u))){const c=w0(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!x0.has(i)||e.length!==2)return;const[r,s]=e,o=Mp(r),a=Mp(s);if(o!==a)if(Np(o)&&Np(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else $n[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||ZS(e[r]))&&i.push(r);i.length&&sE(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$n[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=$n[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function aE(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;e&&(i=e.current);const r=(n==null?void 0:n[t])??i.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const k0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function I0(t){return Wv(t)&&"offsetHeight"in t}const Lp=30,lE=t=>!isNaN(parseFloat(t));class uE{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var s;const r=Ue.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ue.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yd);const i=this.events[e].add(n);return e==="change"?()=>{i(),Z.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ue.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Lp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Lp);return Hv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hi(t,e){return new uE(t,e)}const{schedule:cf,cancel:kR}=n0(queueMicrotask,!1),dt={x:!1,y:!1};function P0(){return dt.x||dt.y}function cE(t){return t==="x"||t==="y"?dt[t]?null:(dt[t]=!0,()=>{dt[t]=!1}):dt.x||dt.y?null:(dt.x=dt.y=!0,()=>{dt.x=dt.y=!1})}function N0(t,e){const n=aE(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function Op(t){return!(t.pointerType==="touch"||P0())}function dE(t,e,n={}){const[i,r,s]=N0(t,n),o=a=>{if(!Op(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{Op(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const D0=(t,e)=>e?t===e?!0:D0(t,e.parentElement):!1,df=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hE(t){return fE.has(t.tagName)||t.tabIndex!==-1}const bo=new WeakSet;function Fp(t){return e=>{e.key==="Enter"&&t(e)}}function zl(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pE=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Fp(()=>{if(bo.has(n))return;zl(n,"down");const r=Fp(()=>{zl(n,"up")}),s=()=>zl(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function jp(t){return df(t)&&!P0()}function mE(t,e,n={}){const[i,r,s]=N0(t,n),o=a=>{const l=a.currentTarget;if(!jp(a))return;bo.add(l);const u=e(l,a),c=(h,y)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),bo.has(l)&&bo.delete(l),jp(h)&&typeof u=="function"&&u(h,{success:y})},d=h=>{c(h,l===window||l===document||n.useGlobalTarget||D0(l,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",f,r)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),I0(a)&&(a.addEventListener("focus",u=>pE(u,r)),!hE(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function A0(t){return Wv(t)&&"ownerSVGElement"in t}function gE(t){return A0(t)&&t.tagName==="svg"}const Re=t=>!!(t&&t.getVelocity),yE=[...S0,fe,_n],vE=t=>yE.find(C0(t)),ff=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class _E extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=I0(i)&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wE({children:t,isPresent:e,anchorX:n,root:i}){const r=S.useId(),s=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=S.useContext(ff);return S.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:d,right:f}=o.current;if(e||!s.current||!l||!u)return;const h=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const y=document.createElement("style");a&&(y.nonce=a);const m=i??document.head;return m.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{m.contains(y)&&m.removeChild(y)}},[e]),_.jsx(_E,{isPresent:e,childRef:s,sizeRef:o,children:S.cloneElement(t,{ref:s})})}const xE=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=Ud(CE),c=S.useId();let d=!0,f=S.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:r,onExitComplete:h=>{u.set(h,!0);for(const y of u.values())if(!y)return;i&&i()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[n,u,i]);return s&&d&&(f={...f}),S.useMemo(()=>{u.forEach((h,y)=>u.set(y,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),o==="popLayout"&&(t=_.jsx(wE,{isPresent:n,anchorX:a,root:l,children:t})),_.jsx(Ha.Provider,{value:f,children:t})};function CE(){return new Map}function R0(t=!0){const e=S.useContext(Ha);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=S.useId();S.useEffect(()=>{if(t)return r(s)},[t]);const o=S.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const yo=t=>t.key||"";function Vp(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const hf=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=R0(o),d=S.useMemo(()=>Vp(t),[t]),f=o&&!u?[]:d.map(yo),h=S.useRef(!0),y=S.useRef(d),m=Ud(()=>new Map),[w,p]=S.useState(d),[g,v]=S.useState(d);zv(()=>{h.current=!1,y.current=d;for(let E=0;E<g.length;E++){const k=yo(g[E]);f.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[g,f.length,f.join("-")]);const x=[];if(d!==w){let E=[...d];for(let k=0;k<g.length;k++){const T=g[k],O=yo(T);f.includes(O)||(E.splice(k,0,T),x.push(T))}return s==="wait"&&x.length&&(E=x),v(Vp(E)),p(d),null}const{forceRender:C}=S.useContext(zd);return _.jsx(_.Fragment,{children:g.map(E=>{const k=yo(E),T=o&&!u?!1:d===g||f.includes(k),O=()=>{if(m.has(k))m.set(k,!0);else return;let A=!0;m.forEach(de=>{de||(A=!1)}),A&&(C==null||C(),v(y.current),o&&(c==null||c()),i&&i())};return _.jsx(xE,{isPresent:T,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,root:l,onExitComplete:T?void 0:O,anchorX:a,children:E},k)})})},M0=S.createContext({strict:!1}),Bp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gi={};for(const t in Bp)Gi[t]={isEnabled:e=>Bp[t].some(n=>!!e[n])};function SE(t){for(const e in t)Gi[e]={...Gi[e],...t[e]}}const EE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ca(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EE.has(t)}let b0=t=>!ca(t);function TE(t){typeof t=="function"&&(b0=e=>e.startsWith("on")?!ca(e):t(e))}try{TE(require("@emotion/is-prop-valid").default)}catch{}function kE(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(b0(r)||n===!0&&ca(r)||!e&&!ca(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const Ga=S.createContext({});function Ka(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vs(t){return typeof t=="string"||Array.isArray(t)}const pf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mf=["initial",...pf];function Ya(t){return Ka(t.animate)||mf.some(e=>vs(t[e]))}function L0(t){return!!(Ya(t)||t.variants)}function IE(t,e){if(Ya(t)){const{initial:n,animate:i}=t;return{initial:n===!1||vs(n)?n:void 0,animate:vs(i)?i:void 0}}return t.inherit!==!1?e:{}}function PE(t){const{initial:e,animate:n}=IE(t,S.useContext(Ga));return S.useMemo(()=>({initial:e,animate:n}),[zp(e),zp(n)])}function zp(t){return Array.isArray(t)?t.join(" "):t}const _s={};function NE(t){for(const e in t)_s[e]=t[e],Xd(e)&&(_s[e].isCSSVariable=!0)}function O0(t,{layout:e,layoutId:n}){return sr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_s[t]||t==="opacity")}const DE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},AE=rr.length;function RE(t,e,n){let i="",r=!0;for(let s=0;s<AE;s++){const o=rr[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=k0(a,uf[o]);if(!l){r=!1;const c=DE[o]||o;i+=`${c}(${u}) `}n&&(e[o]=u)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function gf(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(sr.has(l)){o=!0;continue}else if(Xd(l)){r[l]=u;continue}else{const c=k0(u,uf[l]);l.startsWith("origin")?(a=!0,s[l]=c):i[l]=c}}if(e.transform||(o||n?i.transform=RE(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}const yf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F0(t,e,n){for(const i in e)!Re(e[i])&&!O0(i,n)&&(t[i]=e[i])}function ME({transformTemplate:t},e){return S.useMemo(()=>{const n=yf();return gf(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bE(t,e){const n=t.style||{},i={};return F0(i,n,t),Object.assign(i,ME(t,e)),i}function LE(t,e){const n={},i=bE(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const OE={offset:"stroke-dashoffset",array:"stroke-dasharray"},FE={offset:"strokeDashoffset",array:"strokeDasharray"};function jE(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?OE:FE;t[s.offset]=M.transform(-i);const o=M.transform(e),a=M.transform(n);t[s.array]=`${o} ${a}`}function j0(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,u,c){if(gf(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),r!==void 0&&jE(d,r,s,o,!1)}const V0=()=>({...yf(),attrs:{}}),B0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VE(t,e,n,i){const r=S.useMemo(()=>{const s=V0();return j0(s,e,B0(i),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};F0(s,t.style,t),r.style={...s,...r.style}}return r}const BE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vf(t){return typeof t!="string"||t.includes("-")?!1:!!(BE.indexOf(t)>-1||/[A-Z]/u.test(t))}function zE(t,e,n,{latestValues:i},r,s=!1){const a=(vf(t)?VE:LE)(e,i,r,t),l=kE(e,typeof t=="string",s),u=t!==S.Fragment?{...l,...a,ref:n}:{},{children:c}=e,d=S.useMemo(()=>Re(c)?c.get():c,[c]);return S.createElement(t,{...u,children:d})}function Up(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function _f(t,e,n,i){if(typeof e=="function"){const[r,s]=Up(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=Up(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function Lo(t){return Re(t)?t.get():t}function UE({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:WE(n,i,r,t),renderState:e()}}function WE(t,e,n,i){const r={},s=i(t,{});for(const f in s)r[f]=Lo(s[f]);let{initial:o,animate:a}=t;const l=Ya(t),u=L0(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Ka(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const y=_f(t,f[h]);if(y){const{transitionEnd:m,transition:w,...p}=y;for(const g in p){let v=p[g];if(Array.isArray(v)){const x=c?v.length-1:0;v=v[x]}v!==null&&(r[g]=v)}for(const g in m)r[g]=m[g]}}}return r}const z0=t=>(e,n)=>{const i=S.useContext(Ga),r=S.useContext(Ha),s=()=>UE(t,e,i,r);return n?s():Ud(s)};function wf(t,e,n){var s;const{style:i}=t,r={};for(const o in i)(Re(i[o])||e.style&&Re(e.style[o])||O0(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const $E=z0({scrapeMotionValuesFromProps:wf,createRenderState:yf});function U0(t,e,n){const i=wf(t,e,n);for(const r in t)if(Re(t[r])||Re(e[r])){const s=rr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const HE=z0({scrapeMotionValuesFromProps:U0,createRenderState:V0}),GE=Symbol.for("motionComponentSymbol");function xi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KE(t,e,n){return S.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):xi(n)&&(n.current=i))},[e])}const xf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YE="framerAppearId",W0="data-"+xf(YE),$0=S.createContext({});function QE(t,e,n,i,r){var m,w;const{visualElement:s}=S.useContext(Ga),o=S.useContext(M0),a=S.useContext(Ha),l=S.useContext(ff).reducedMotion,u=S.useRef(null);i=i||o.renderer,!u.current&&i&&(u.current=i(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=S.useContext($0);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&qE(u.current,n,r,d);const f=S.useRef(!1);S.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const h=n[W0],y=S.useRef(!!h&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,h))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,h)));return zv(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),y.current&&c.animationState&&c.animationState.animateChanges())}),S.useEffect(()=>{c&&(!y.current&&c.animationState&&c.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,h)}),y.current=!1),c.enteringChildren=void 0)}),c}function qE(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:H0(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&xi(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}function H0(t){if(t)return t.options.allowProjection!==!1?t.projection:H0(t.parent)}function Ul(t,{forwardMotionProps:e=!1}={},n,i){n&&SE(n);const r=vf(t)?HE:$E;function s(a,l){let u;const c={...S.useContext(ff),...a,layoutId:XE(a)},{isStatic:d}=c,f=PE(a),h=r(a,d);if(!d&&Wd){ZE();const y=JE(c);u=y.MeasureLayout,f.visualElement=QE(t,h,c,i,y.ProjectionNode)}return _.jsxs(Ga.Provider,{value:f,children:[u&&f.visualElement?_.jsx(u,{visualElement:f.visualElement,...c}):null,zE(t,a,KE(h,f.visualElement,l),h,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=S.forwardRef(s);return o[GE]=t,o}function XE({layoutId:t}){const e=S.useContext(zd).id;return e&&t!==void 0?e+"-"+t:t}function ZE(t,e){S.useContext(M0).strict}function JE(t){const{drag:e,layout:n}=Gi;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function eT(t,e){if(typeof Proxy>"u")return Ul;const n=new Map,i=(s,o)=>Ul(s,o,t,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,Ul(o,void 0,t,e)),n.get(o))})}function G0({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function tT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nT(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Wl(t){return t===void 0||t===1}function yc({scale:t,scaleX:e,scaleY:n}){return!Wl(t)||!Wl(e)||!Wl(n)}function Rn(t){return yc(t)||K0(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function K0(t){return Wp(t.x)||Wp(t.y)}function Wp(t){return t&&t!=="0%"}function da(t,e,n){const i=t-n,r=e*i;return n+r}function $p(t,e,n,i,r){return r!==void 0&&(t=da(t,r,i)),da(t,n,i)+e}function vc(t,e=0,n=1,i,r){t.min=$p(t.min,e,n,i,r),t.max=$p(t.max,e,n,i,r)}function Y0(t,{x:e,y:n}){vc(t.x,e.translate,e.scale,e.originPoint),vc(t.y,n.translate,n.scale,n.originPoint)}const Hp=.999999999999,Gp=1.0000000000001;function iT(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Si(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Y0(t,o)),i&&Rn(s.latestValues)&&Si(t,s.latestValues))}e.x<Gp&&e.x>Hp&&(e.x=1),e.y<Gp&&e.y>Hp&&(e.y=1)}function Ci(t,e){t.min=t.min+e,t.max=t.max+e}function Kp(t,e,n,i,r=.5){const s=te(t.min,t.max,r);vc(t,e,n,s,i)}function Si(t,e){Kp(t.x,e.x,e.scaleX,e.scale,e.originX),Kp(t.y,e.y,e.scaleY,e.scale,e.originY)}function Q0(t,e){return G0(nT(t.getBoundingClientRect(),e))}function rT(t,e,n){const i=Q0(t,n),{scroll:r}=e;return r&&(Ci(i.x,r.offset.x),Ci(i.y,r.offset.y)),i}const Yp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ei=()=>({x:Yp(),y:Yp()}),Qp=()=>({min:0,max:0}),ue=()=>({x:Qp(),y:Qp()}),_c={current:null},q0={current:!1};function sT(){if(q0.current=!0,!!Wd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_c.current=t.matches;t.addEventListener("change",e),e()}else _c.current=!1}const oT=new WeakMap;function aT(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Re(r))t.addValue(i,r);else if(Re(s))t.addValue(i,Hi(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Hi(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const qp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lT{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=af,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ue.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Z.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ya(n),this.isVariantNode=L0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&Re(h)&&h.set(l[f])}}mount(e){var n;this.current=e,oT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),q0.current||sT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_c.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),vn(this.notifyUpdate),vn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=sr.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Z.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gi){const n=Gi[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<qp.length;i++){const r=qp[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=aT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Hi(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Uv(i)||$v(i))?i=parseFloat(i):!vE(i)&&_n.test(n)&&(i=T0(e,n)),this.setBaseTarget(e,Re(i)?i.get():i)),Re(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=_f(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Re(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){cf.render(this.render)}}class X0 extends lT{constructor(){super(...arguments),this.KeyframeResolver=oE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Re(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Z0(t,{style:e,vars:n},i,r){const s=t.style;let o;for(o in e)s[o]=e[o];r==null||r.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function uT(t){return window.getComputedStyle(t)}class cT extends X0{constructor(){super(...arguments),this.type="html",this.renderInstance=Z0}readValueFromInstance(e,n){var i;if(sr.has(n))return(i=this.projection)!=null&&i.isProjecting?cc(n):TS(e,n);{const r=uT(e),s=(Xd(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Q0(e,n)}build(e,n,i){gf(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return wf(e,n,i)}}const J0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dT(t,e,n,i){Z0(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(J0.has(r)?r:xf(r),e.attrs[r])}class fT extends X0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ue}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(sr.has(n)){const i=E0(n);return i&&i.default||0}return n=J0.has(n)?n:xf(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return U0(e,n,i)}build(e,n,i){j0(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){dT(e,n,i,r)}mount(e){this.isSVGTag=B0(e.tagName),super.mount(e)}}const hT=(t,e)=>vf(t)?new fT(e):new cT(e,{allowProjection:t!==S.Fragment});function Ri(t,e,n){const i=t.getProps();return _f(i,e,n!==void 0?n:i.custom,t)}const wc=t=>Array.isArray(t);function pT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hi(n))}function mT(t){return wc(t)?t[t.length-1]||0:t}function gT(t,e){const n=Ri(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=mT(s[o]);pT(t,o,a)}}function yT(t){return!!(Re(t)&&t.add)}function xc(t,e){const n=t.getValue("willChange");if(yT(n))return n.add(e);if(!n&&Wt.WillChange){const i=new Wt.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function e_(t){return t.props[W0]}const vT=t=>t!==null;function _T(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(vT),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const wT={type:"spring",stiffness:500,damping:25,restSpeed:10},xT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CT={type:"keyframes",duration:.8},ST={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ET=(t,{keyframes:e})=>e.length>2?CT:sr.has(t)?t.startsWith("scale")?xT(e[1]):wT:ST;function TT({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Cf=(t,e,n,i={},r,s)=>o=>{const a=lf(i,t)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-It(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};TT(a)||Object.assign(c,ET(t,c)),c.duration&&(c.duration=It(c.duration)),c.repeatDelay&&(c.repeatDelay=It(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(mc(c),c.delay===0&&(d=!0)),(Wt.instantAnimations||Wt.skipAnimations)&&(d=!0,mc(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=_T(c.keyframes,a);if(f!==void 0){Z.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new of(c):new YS(c)};function kT({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function t_(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(s=i);const l=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const c in a){const d=t.getValue(c,t.latestValues[c]??null),f=a[c];if(f===void 0||u&&kT(u,c))continue;const h={delay:n,...lf(s||{},c)},y=d.get();if(y!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===y&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const p=e_(t);if(p){const g=window.MotionHandoffAnimation(p,c,Z);g!==null&&(h.startTime=g,m=!0)}}xc(t,c),d.start(Cf(c,d,f,t.shouldReduceMotion&&x0.has(c)?{type:!1}:h,t,m));const w=d.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{Z.update(()=>{o&&gT(t,o)})}),l}function n_(t,e,n,i=0,r=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*i;return typeof n=="function"?n(s,o):r===1?s*i:a-s*i}function Cc(t,e,n={}){var l;const i=Ri(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(t_(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=r;return IT(t,e,u,c,d,f,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function IT(t,e,n=0,i=0,r=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Cc(l,e,{...o,delay:n+(typeof i=="function"?0:i)+n_(t.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function PT(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Cc(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=Cc(t,e,n);else{const r=typeof e=="function"?Ri(t,e,n.custom):e;i=Promise.all(t_(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function i_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const NT=mf.length;function r_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?r_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<NT;n++){const i=mf[n],r=t.props[i];(vs(r)||r===!1)&&(e[i]=r)}return e}const DT=[...pf].reverse(),AT=pf.length;function RT(t){return e=>Promise.all(e.map(({animation:n,options:i})=>PT(t,n,i)))}function MT(t){let e=RT(t),n=Xp(),i=!0;const r=l=>(u,c)=>{var f;const d=Ri(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:y,...m}=d;u={...u,...m,...y}}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=r_(t.parent)||{},d=[],f=new Set;let h={},y=1/0;for(let w=0;w<AT;w++){const p=DT[w],g=n[p],v=u[p]!==void 0?u[p]:c[p],x=vs(v),C=p===l?g.isActive:null;C===!1&&(y=w);let E=v===c[p]&&v!==u[p]&&x;if(E&&i&&t.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...h},!g.isActive&&C===null||!v&&!g.prevProp||Ka(v)||typeof v=="boolean")continue;const k=bT(g.prevProp,v);let T=k||p===l&&g.isActive&&!E&&x||w>y&&x,O=!1;const A=Array.isArray(v)?v:[v];let de=A.reduce(r(p),{});C===!1&&(de={});const{prevResolvedValues:Yt={}}=g,kn={...Yt,...de},dr=le=>{T=!0,f.has(le)&&(O=!0,f.delete(le)),g.needsAnimating[le]=!0;const N=t.getValue(le);N&&(N.liveStyle=!1)};for(const le in kn){const N=de[le],R=Yt[le];if(h.hasOwnProperty(le))continue;let L=!1;wc(N)&&wc(R)?L=!i_(N,R):L=N!==R,L?N!=null?dr(le):f.add(le):N!==void 0&&f.has(le)?dr(le):g.protectedKeys[le]=!0}g.prevProp=v,g.prevResolvedValues=de,g.isActive&&(h={...h,...de}),i&&t.blockInitialAnimation&&(T=!1);const Ks=E&&k;T&&(!Ks||O)&&d.push(...A.map(le=>{const N={type:p};if(typeof le=="string"&&i&&!Ks&&t.manuallyAnimateOnMount&&t.parent){const{parent:R}=t,L=Ri(R,le);if(R.enteringChildren&&L){const{delayChildren:J}=L.transition||{};N.delay=n_(R.enteringChildren,t,J)}}return{animation:le,options:N}}))}if(f.size){const w={};if(typeof u.initial!="boolean"){const p=Ri(t,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}f.forEach(p=>{const g=t.getBaseTarget(p),v=t.getValue(p);v&&(v.liveStyle=!0),w[p]=g??null}),d.push({animation:w})}let m=!!d.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(m=!1),i=!1,m?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Xp(),i=!0}}}function bT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!i_(e,t):!1}function Nn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xp(){return{animate:Nn(!0),whileInView:Nn(),whileHover:Nn(),whileTap:Nn(),whileDrag:Nn(),whileFocus:Nn(),exit:Nn()}}class Tn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class LT extends Tn{constructor(e){super(e),e.animationState||(e.animationState=MT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ka(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let OT=0;class FT extends Tn{constructor(){super(...arguments),this.id=OT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jT={animation:{Feature:LT},exit:{Feature:FT}};function ws(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Bs(t){return{point:{x:t.pageX,y:t.pageY}}}const VT=t=>e=>df(e)&&t(e,Bs(e));function $r(t,e,n,i){return ws(t,e,VT(n),i)}const s_=1e-4,BT=1-s_,zT=1+s_,o_=.01,UT=0-o_,WT=0+o_;function Le(t){return t.max-t.min}function $T(t,e,n){return Math.abs(t-e)<=n}function Zp(t,e,n,i=.5){t.origin=i,t.originPoint=te(e.min,e.max,t.origin),t.scale=Le(n)/Le(e),t.translate=te(n.min,n.max,t.origin)-t.originPoint,(t.scale>=BT&&t.scale<=zT||isNaN(t.scale))&&(t.scale=1),(t.translate>=UT&&t.translate<=WT||isNaN(t.translate))&&(t.translate=0)}function Hr(t,e,n,i){Zp(t.x,e.x,n.x,i?i.originX:void 0),Zp(t.y,e.y,n.y,i?i.originY:void 0)}function Jp(t,e,n){t.min=n.min+e.min,t.max=t.min+Le(e)}function HT(t,e,n){Jp(t.x,e.x,n.x),Jp(t.y,e.y,n.y)}function em(t,e,n){t.min=e.min-n.min,t.max=t.min+Le(e)}function Gr(t,e,n){em(t.x,e.x,n.x),em(t.y,e.y,n.y)}function tt(t){return[t("x"),t("y")]}const a_=({current:t})=>t?t.ownerDocument.defaultView:null,tm=(t,e)=>Math.abs(t-e);function GT(t,e){const n=tm(t.x,e.x),i=tm(t.y,e.y);return Math.sqrt(n**2+i**2)}class l_{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Hl(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,y=GT(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!y)return;const{point:m}=f,{timestamp:w}=Ee;this.history.push({...m,timestamp:w});const{onStart:p,onMove:g}=this.handlers;h||(p&&p(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$l(h,this.transformPagePoint),Z.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:y,onSessionEnd:m,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Hl(f.type==="pointercancel"?this.lastMoveEventInfo:$l(h,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,p),m&&m(f,p)},!df(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=Bs(e),l=$l(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Ee;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Hl(l,this.history)),this.removeListeners=Fs($r(this.contextWindow,"pointermove",this.handlePointerMove),$r(this.contextWindow,"pointerup",this.handlePointerUp),$r(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vn(this.updatePoint)}}function $l(t,e){return e?{point:e(t.point)}:t}function nm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hl({point:t},e){return{point:t,delta:nm(t,u_(e)),offset:nm(t,KT(e)),velocity:YT(e,.1)}}function KT(t){return t[0]}function u_(t){return t[t.length-1]}function YT(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=u_(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>It(e)));)n--;if(!i)return{x:0,y:0};const s=Pt(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function QT(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?te(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?te(n,t,i.max):Math.min(t,n)),t}function im(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qT(t,{top:e,left:n,bottom:i,right:r}){return{x:im(t.x,n,r),y:im(t.y,e,i)}}function rm(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function XT(t,e){return{x:rm(t.x,e.x),y:rm(t.y,e.y)}}function ZT(t,e){let n=.5;const i=Le(t),r=Le(e);return r>i?n=ms(e.min,e.max-i,t.min):i>r&&(n=ms(t.min,t.max-r,e.min)),Ut(0,1,n)}function JT(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sc=.35;function ek(t=Sc){return t===!1?t=0:t===!0&&(t=Sc),{x:sm(t,"left","right"),y:sm(t,"top","bottom")}}function sm(t,e,n){return{min:om(t,e),max:om(t,n)}}function om(t,e){return typeof t=="number"?t:t[e]||0}const tk=new WeakMap;class nk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bs(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:y,onDragStart:m}=this.getProps();if(h&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cE(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tt(p=>{let g=this.getAxisMotionValue(p).get()||0;if(Nt.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[p];x&&(g=Le(x)*(parseFloat(g)/100))}}this.originPoint[p]=g}),m&&Z.postRender(()=>m(d,f)),xc(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:y,onDirectionLock:m,onDrag:w}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:p}=f;if(y&&this.currentDirection===null){this.currentDirection=ik(p),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,p),this.updateAxis("y",f.point,p),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>tt(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new l_(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:a_(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Z.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!vo(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=QT(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&xi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=qT(i.layoutBox,e):this.constraints=!1,this.elastic=ek(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=JT(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xi(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=rT(i,r.root,this.visualElement.getTransformPagePoint());let o=XT(r.layout.layoutBox,s);if(n){const a=n(tT(o));this.hasMutatedConstraints=!!a,a&&(o=G0(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=tt(c=>{if(!vo(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=r?200:1e6,h=r?40:1e7,y={type:"inertia",velocity:i?e[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return xc(this.visualElement,e),i.start(Cf(e,i,0,n,this.visualElement,!1))}stopAnimation(){tt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){tt(n=>{const{drag:i}=this.getProps();if(!vo(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-te(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!xi(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};tt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=ZT({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),tt(o=>{if(!vo(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(te(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;tk.set(this.visualElement,this);const e=this.visualElement.current,n=$r(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();xi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Z.read(i);const o=ws(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(tt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Sc,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function vo(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ik(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rk extends Tn{constructor(e){super(e),this.removeGroupControls=at,this.removeListeners=at,this.controls=new nk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||at}unmount(){this.removeGroupControls(),this.removeListeners()}}const am=t=>(e,n)=>{t&&Z.postRender(()=>t(e,n))};class sk extends Tn{constructor(){super(...arguments),this.removePointerDownListener=at}onPointerDown(e){this.session=new l_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:a_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:am(e),onStart:am(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&Z.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=$r(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Oo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wr={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(M.test(t))t=parseFloat(t);else return t;const n=lm(t,e.target.x),i=lm(t,e.target.y);return`${n}% ${i}%`}},ok={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=_n.parse(t);if(r.length>5)return i;const s=_n.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=te(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};let Gl=!1;class ak extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;NE(lk),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),Gl&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Oo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,Gl=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Z.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;Gl=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function c_(t){const[e,n]=R0(),i=S.useContext(zd);return _.jsx(ak,{...t,layoutGroup:i,switchLayoutGroup:S.useContext($0),isPresent:e,safeToRemove:n})}const lk={borderRadius:{...wr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wr,borderTopRightRadius:wr,borderBottomLeftRadius:wr,borderBottomRightRadius:wr,boxShadow:ok};function uk(t,e,n){const i=Re(t)?t:Hi(t);return i.start(Cf("",i,e,n)),i.animation}const ck=(t,e)=>t.depth-e.depth;class dk{constructor(){this.children=[],this.isDirty=!1}add(e){$d(this.children,e),this.isDirty=!0}remove(e){Hd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ck),this.isDirty=!1,this.children.forEach(e)}}function fk(t,e){const n=Ue.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(vn(i),t(s-e))};return Z.setup(i,!0),()=>vn(i)}const d_=["TopLeft","TopRight","BottomLeft","BottomRight"],hk=d_.length,um=t=>typeof t=="string"?parseFloat(t):t,cm=t=>typeof t=="number"||M.test(t);function pk(t,e,n,i,r,s){r?(t.opacity=te(0,n.opacity??1,mk(i)),t.opacityExit=te(e.opacity??1,0,gk(i))):s&&(t.opacity=te(e.opacity??1,n.opacity??1,i));for(let o=0;o<hk;o++){const a=`border${d_[o]}Radius`;let l=dm(e,a),u=dm(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||cm(l)===cm(u)?(t[a]=Math.max(te(um(l),um(u),i),0),(Nt.test(u)||Nt.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=te(e.rotate||0,n.rotate||0,i))}function dm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mk=f_(0,.5,Zv),gk=f_(.5,.95,at);function f_(t,e,n){return i=>i<t?0:i>e?1:n(ms(t,e,i))}function fm(t,e){t.min=e.min,t.max=e.max}function et(t,e){fm(t.x,e.x),fm(t.y,e.y)}function hm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pm(t,e,n,i,r){return t-=e,t=da(t,1/n,i),r!==void 0&&(t=da(t,1/r,i)),t}function yk(t,e=0,n=1,i=.5,r,s=t,o=t){if(Nt.test(e)&&(e=parseFloat(e),e=te(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=te(s.min,s.max,i);t===s&&(a-=e),t.min=pm(t.min,e,n,a,r),t.max=pm(t.max,e,n,a,r)}function mm(t,e,[n,i,r],s,o){yk(t,e[n],e[i],e[r],e.scale,s,o)}const vk=["x","scaleX","originX"],_k=["y","scaleY","originY"];function gm(t,e,n,i){mm(t.x,e,vk,n?n.x:void 0,i?i.x:void 0),mm(t.y,e,_k,n?n.y:void 0,i?i.y:void 0)}function ym(t){return t.translate===0&&t.scale===1}function h_(t){return ym(t.x)&&ym(t.y)}function vm(t,e){return t.min===e.min&&t.max===e.max}function wk(t,e){return vm(t.x,e.x)&&vm(t.y,e.y)}function _m(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function p_(t,e){return _m(t.x,e.x)&&_m(t.y,e.y)}function wm(t){return Le(t.x)/Le(t.y)}function xm(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class xk{constructor(){this.members=[]}add(e){$d(this.members,e),e.scheduleRender()}remove(e){if(Hd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ck(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:y}=n;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),h&&(i+=`skewX(${h}deg) `),y&&(i+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Kl=["","X","Y","Z"],Sk=1e3;let Ek=0;function Yl(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function m_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=e_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Z,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&m_(i)}function g_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Ek++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ik),this.nodes.forEach(Ak),this.nodes.forEach(Rk),this.nodes.forEach(Pk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dk)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=A0(o)&&!gE(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;Z.read(()=>{d=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,c&&c(),c=fk(f,250),Oo.hasAnimatedSinceResize&&(Oo.hasAnimatedSinceResize=!1,this.nodes.forEach(Em)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Fk,{onLayoutAnimationStart:m,onLayoutAnimationComplete:w}=u.getProps(),p=!this.targetLayout||!p_(this.targetLayout,h),g=!d&&f;if(this.options.layoutRoot||this.resumeFrom||g||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...lf(y,"layout"),onPlay:m,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(c,g)}else d||Em(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Mk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cm);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Sm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Dk),this.nodes.forEach(Tk),this.nodes.forEach(kk)):this.nodes.forEach(Sm),this.clearAllSnapshots();const a=Ue.now();Ee.delta=Ut(0,1e3/60,a-Ee.timestamp),Ee.timestamp=a,Ee.isProcessing=!0,Ol.update.process(Ee),Ol.preRender.process(Ee),Ol.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nk),this.sharedNodes.forEach(bk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Z.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Z.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Le(this.snapshot.measuredBox.x)&&!Le(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!h_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Rn(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jk(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return ue();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Vk))){const{scroll:c}=this.root;c&&(Ci(a.x,c.offset.x),Ci(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=ue();if(et(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&et(a,o),Ci(a.x,d.offset.x),Ci(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=ue();et(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Si(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Rn(c.latestValues)&&Si(l,c.latestValues)}return Rn(this.latestValues)&&Si(l,this.latestValues),l}removeTransform(o){const a=ue();et(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Rn(u.latestValues))continue;yc(u.latestValues)&&u.updateSnapshot();const c=ue(),d=u.measurePageBox();et(c,d),gm(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Rn(this.latestValues)&&gm(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),Gr(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ue(),this.targetWithTransforms=ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):et(this.target,this.layout.layoutBox),Y0(this.target,this.targetDelta)):et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ue(),this.relativeTargetOrigin=ue(),Gr(this.relativeTargetOrigin,this.target,h.target),et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yc(this.parent.latestValues)||K0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;et(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;iT(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ue());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hm(this.prevProjectionDelta.x,this.projectionDelta.x),hm(this.prevProjectionDelta.y,this.projectionDelta.y)),Hr(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!xm(this.projectionDelta.x,this.prevProjectionDelta.x)||!xm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ei(),this.projectionDelta=Ei(),this.projectionDeltaWithTransform=Ei()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Ei();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ue(),h=l?l.source:void 0,y=this.layout?this.layout.source:void 0,m=h!==y,w=this.getStack(),p=!w||w.members.length<=1,g=!!(m&&!p&&this.options.crossfade===!0&&!this.path.some(Ok));this.animationProgress=0;let v;this.mixTargetDelta=x=>{const C=x/1e3;Tm(d.x,o.x,C),Tm(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gr(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lk(this.relativeTarget,this.relativeTargetOrigin,f,C),v&&wk(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ue()),et(v,this.relativeTarget)),m&&(this.animationValues=c,pk(c,u,this.latestValues,C,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(vn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Z.update(()=>{Oo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hi(0)),this.currentAnimation=uk(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&y_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ue();const d=Le(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Le(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}et(a,l),Si(a,c),Hr(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xk),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Yl("z",o,u,this.animationValues);for(let c=0;c<Kl.length;c++)Yl(`rotate${Kl[c]}`,o,u,this.animationValues),Yl(`skew${Kl[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Lo(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Lo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Rn(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=Ck(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const y in _s){if(c[y]===void 0)continue;const{correct:m,applyTo:w,isCSSVariable:p}=_s[y],g=d==="none"?c[y]:m(c[y],u);if(w){const v=w.length;for(let x=0;x<v;x++)o[w[x]]=g}else p?this.options.visualElement.renderState.vars[y]=g:o[y]=g}this.options.layoutId&&(o.pointerEvents=u===this?Lo(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Cm),this.root.sharedNodes.clear()}}}function Tk(t){t.updateLayout()}function kk(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?tt(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],h=Le(f);f.min=i[d].min,f.max=f.min+h}):y_(s,e.layoutBox,i)&&tt(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],h=Le(i[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const a=Ei();Hr(a,i,e.layoutBox);const l=Ei();o?Hr(l,t.applyTransform(r,!0),e.measuredBox):Hr(l,i,e.layoutBox);const u=!h_(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const y=ue();Gr(y,e.layoutBox,f.layoutBox);const m=ue();Gr(m,i,h.layoutBox),p_(y,m)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=y,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Ik(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Pk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Nk(t){t.clearSnapshot()}function Cm(t){t.clearMeasurements()}function Sm(t){t.isLayoutDirty=!1}function Dk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Em(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ak(t){t.resolveTargetDelta()}function Rk(t){t.calcProjection()}function Mk(t){t.resetSkewAndRotation()}function bk(t){t.removeLeadSnapshot()}function Tm(t,e,n){t.translate=te(e.translate,0,n),t.scale=te(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function km(t,e,n,i){t.min=te(e.min,n.min,i),t.max=te(e.max,n.max,i)}function Lk(t,e,n,i){km(t.x,e.x,n.x,i),km(t.y,e.y,n.y,i)}function Ok(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fk={duration:.45,ease:[.4,0,.1,1]},Im=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Pm=Im("applewebkit/")&&!Im("chrome/")?Math.round:at;function Nm(t){t.min=Pm(t.min),t.max=Pm(t.max)}function jk(t){Nm(t.x),Nm(t.y)}function y_(t,e,n){return t==="position"||t==="preserve-aspect"&&!$T(wm(e),wm(n),.2)}function Vk(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Bk=g_({attachResizeListener:(t,e)=>ws(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ql={current:void 0},v_=g_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ql.current){const t=new Bk({});t.mount(window),t.setOptions({layoutScroll:!0}),Ql.current=t}return Ql.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zk={pan:{Feature:sk},drag:{Feature:rk,ProjectionNode:v_,MeasureLayout:c_}};function Dm(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&Z.postRender(()=>s(e,Bs(e)))}class Uk extends Tn{mount(){const{current:e}=this.node;e&&(this.unmount=dE(e,(n,i)=>(Dm(this.node,i,"Start"),r=>Dm(this.node,r,"End"))))}unmount(){}}class Wk extends Tn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fs(ws(this.node.current,"focus",()=>this.onFocus()),ws(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Am(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&Z.postRender(()=>s(e,Bs(e)))}class $k extends Tn{mount(){const{current:e}=this.node;e&&(this.unmount=mE(e,(n,i)=>(Am(this.node,i,"Start"),(r,{success:s})=>Am(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ec=new WeakMap,ql=new WeakMap,Hk=t=>{const e=Ec.get(t.target);e&&e(t)},Gk=t=>{t.forEach(Hk)};function Kk({root:t,...e}){const n=t||document;ql.has(n)||ql.set(n,{});const i=ql.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(Gk,{root:t,...e})),i[r]}function Yk(t,e,n){const i=Kk(e);return Ec.set(t,n),i.observe(t),()=>{Ec.delete(t),i.unobserve(t)}}const Qk={some:0,all:1};class qk extends Tn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Qk[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return Yk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Xk(e,n))&&this.startObserver()}unmount(){}}function Xk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Zk={inView:{Feature:qk},tap:{Feature:$k},focus:{Feature:Wk},hover:{Feature:Uk}},Jk={layout:{ProjectionNode:v_,MeasureLayout:c_}},eI={...jT,...Zk,...zk,...Jk},xs=eT(eI,hT),Rm=["#5398cb","#6d3231","#48af55","#0b3d42","#caccad"],Mm=["/watermarks/Bowl.svg","/watermarks/Cheese.svg","/watermarks/Lemons.svg","/watermarks/Lettuce.svg","/watermarks/Strawberries.svg"];function tI({isOpen:t,onClose:e,onSave:n,currentItems:i=[]}){const[r,s]=S.useState(""),o=S.useRef(null);if(S.useEffect(()=>{t&&o.current&&setTimeout(()=>{var l;(l=o.current)==null||l.focus()},100)},[t]),!t)return null;function a(l){l.preventDefault();const u=r.trim();if(!u)return;const c=i;let d=c.length>0?c[0].special:!1,f=0;for(let p=0;p<Math.min(5,c.length)&&!c[p].special;p++)f++;let h=!1;d?h=!1:f>=5?h=!0:h=Math.random()<.25;let y=null,m=null;h&&(y=Rm[Math.floor(Math.random()*Rm.length)],m=Mm[Math.floor(Math.random()*Mm.length)],console.log("AddGroceryModal: Assigning pattern:",m,"to special item"));const w={id:Date.now(),name:u,text:u,addedAt:Date.now(),done:!1,checked:!1,special:h,bgColor:y,bgPattern:m};n==null||n(w),e(),s("")}return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-card rounded-xl shadow-modal p-6 w-full max-w-md",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-lg font-bold",children:"Add a New Grocery Item"}),_.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),_.jsxs("form",{className:"space-y-4",onSubmit:a,children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item"}),_.jsx("input",{ref:o,type:"text",className:"w-full border rounded p-2",placeholder:"e.g. Bananas",value:r,onChange:l=>s(l.target.value)})]}),_.jsxs("div",{className:"flex justify-between mt-6",children:[_.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:e,children:"Cancel"}),_.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})})}function Tc({isOpen:t,task:e,onClose:n,onSave:i,onDelete:r}){const[s,o]=S.useState(""),[a,l]=S.useState(""),[u,c]=S.useState(""),d=S.useRef(null);if(S.useEffect(()=>{e&&(o(e.description||""),l(e.frequency||""),c(e.recurring?"true":"false"))},[e]),S.useEffect(()=>{t&&d.current&&d.current.focus()},[t]),!t&&!e)return null;function f(h){if(h.preventDefault(),!s||!a||!u)return;const y={id:e?e.id:Date.now(),description:s,frequency:a,recurring:u==="true",done:e?e.done:!1,lastCompleted:e?e.lastCompleted:null};i==null||i(y),n()}return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-card rounded-xl shadow-modal p-6 w-full max-w-md",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-lg font-bold",children:e?"Edit Task":"Add a New To-Do"}),_.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),_.jsxs("form",{className:"space-y-4",onSubmit:f,children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),_.jsx("input",{ref:d,type:"text",className:"w-full border rounded p-2",value:s,onChange:h=>o(h.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequency"}),_.jsxs("select",{className:"w-full border rounded p-2",value:a,onChange:h=>l(h.target.value),children:[_.jsx("option",{value:"",children:"Select..."}),_.jsx("option",{value:"daily",children:"Daily"}),_.jsx("option",{value:"weekly",children:"Weekly"}),_.jsx("option",{value:"monthly",children:"Monthly"}),_.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recurring"}),_.jsxs("select",{className:"w-full border rounded p-2",value:u,onChange:h=>c(h.target.value),children:[_.jsx("option",{value:"",children:"Select..."}),_.jsx("option",{value:"true",children:"Yes"}),_.jsx("option",{value:"false",children:"No"})]})]}),_.jsxs("div",{className:"flex justify-between mt-6",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:n,children:"Cancel"}),e&&r&&_.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:()=>{r(e),n()},children:"Delete"})]}),_.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})})}const bm=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function nI({isOpen:t,initialData:e,onClose:n,onSave:i}){const[r,s]=S.useState(e||{}),o=S.useRef(null);if(S.useEffect(()=>{t&&o.current&&o.current.focus()},[t]),!t)return null;const a=(u,c)=>{s({...r,[u]:c})},l=u=>{u.preventDefault(),i==null||i(r),n()};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:_.jsxs("form",{onSubmit:l,className:"bg-card rounded-xl shadow-modal p-6 w-full max-w-md",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-lg font-bold",children:"Edit Weekly Meals"}),_.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),_.jsx("div",{className:"flex flex-col gap-3 max-h-[60vh] overflow-y-auto scrollbar-hide",children:bm.map(u=>_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u}),_.jsx("input",{ref:u===bm[0]?o:null,type:"text",value:r[u]||"",onChange:c=>a(u,c.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1 text-sm"})]},u))}),_.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[_.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded text-sm bg-gray-100 hover:bg-gray-200",children:"Cancel"}),_.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})})}function iI({current:t,onNavigate:e,onSaveGrocery:n,onSaveTask:i,onSaveMeals:r,groceryItems:s}){const o=typeof window<"u"&&window.innerWidth<768,a=o?["ALERTS"]:["ALERTS","HOME","FAMILY"],[l,u]=S.useState(null),c=()=>u(null);return _.jsxs(_.Fragment,{children:[_.jsx("footer",{className:"fixed bottom-0 left-0 w-full z-30 bg-[#F7E4C3] h-[70px] sm:h-[111px] md:h-[108px]",children:_.jsxs("div",{className:"flex items-center justify-between max-w-screen-xl mx-auto px-4 sm:px-8 h-full",children:[_.jsx("div",{className:"flex gap-4 sm:gap-16 text-[#5A3210] text-lg sm:text-2xl md:text-3xl lg:text-4xl font-bold font-condensed uppercase tracking-wide ml-[10px] sm:ml-[25px]",children:a.map(d=>_.jsx("button",{onClick:()=>e(d),className:`transition-opacity duration-200 ${d===t?"opacity-100":"opacity-60"} font-condensed font-bold`,children:d},d))}),_.jsx("div",{className:"relative z-10",style:{right:o?"0px":"5px",position:"relative"},children:_.jsxs("div",{className:`flex ${o?"gap-0":"gap-8"} bg-[#F7E4C3] rounded-tl-[74px] rounded-tr-[74px] px-3 sm:px-5 pt-4 sm:pt-7 pb-2 sm:pb-4 -translate-y-3 sm:-translate-y-6`,style:{transform:o?"translateY(-12px) scale(0.8)":"translateY(-24px) scale(1.15)"},children:[_.jsx(rI,{onSelect:u}),!o&&_.jsx(sI,{})]})})]})}),_.jsx(tI,{isOpen:l==="grocery",onClose:c,onSave:n,currentItems:s}),_.jsx(Tc,{isOpen:l==="task",task:null,onClose:c,onSave:i}),_.jsx(nI,{isOpen:l==="meals",onClose:c,onSave:r})]})}function rI({onSelect:t}){const[e,n]=S.useState(!1),i=r=>{n(!1),t(r)};return _.jsxs("div",{className:"relative",children:[_.jsx("button",{onClick:()=>n(!e),className:"w-20 h-20 rounded-full flex items-center justify-center text-white transition-transform duration-300 ease-in-out active:scale-95",style:{backgroundColor:"#B75634"},children:_.jsx(xs.div,{initial:!1,animate:{rotate:e?405:0},transition:{duration:.3},className:"w-10 h-10",children:_.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-black",children:_.jsx("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),_.jsx(hf,{children:e&&_.jsxs(xs.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:-50,scale:1.25,x:-75},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute bottom-20 left-0 w-56 bg-white rounded-xl shadow-lg p-6 text-left z-20",children:[_.jsx("div",{className:"text-sm text-gray-500 mb-1 text-left pl-2",children:"Create a new"}),_.jsxs("ul",{className:"space-y-2 text-left",children:[_.jsx("li",{children:_.jsx("button",{onClick:r=>{r.stopPropagation(),i("grocery")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"Grocery Item"})}),_.jsx("li",{children:_.jsx("button",{onClick:r=>{r.stopPropagation(),i("task")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"To-Do"})}),_.jsx("li",{children:_.jsx("button",{onClick:r=>{r.stopPropagation(),i("meals")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"Weekly Meal Plan"})})]})]})})]})}function sI(){return _.jsx("button",{onClick:()=>{},className:"w-20 h-20 rounded-full flex items-center justify-center text-black transition-transform duration-100 ease-in-out active:scale-95",style:{backgroundColor:"#EFB643"},children:_.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-black",children:[_.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12V6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6V12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M19 10V12C19 15.3137 16.3137 18 13 18H11C7.68629 18 5 15.3137 5 12V10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M12 18V22",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M8 22H16",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}function Qa({title:t,rightSlot:e=null,className:n=""}){return _.jsxs("div",{className:`flex justify-between items-center mb-block ${n}`,children:[_.jsx("h2",{className:"text-[36px] font-serif text-[#5A3210]",children:t}),e&&_.jsx("div",{children:e})]})}class oI{constructor(){this.apiKey=null,this.isInitialized=!1}async initialize(e,n){try{if(!e)throw new Error("API key is required");return this.apiKey=e,this.isInitialized=!0,!0}catch(i){return console.error("Failed to initialize Google Calendar service:",i),!1}}async getEvents(e="primary",n=10){if(!this.isInitialized)throw new Error("Google Calendar service not initialized");try{const i=new Date,r=new Date(i);r.setDate(i.getDate()+7);const s=new URLSearchParams({key:this.apiKey,timeMin:i.toISOString(),timeMax:r.toISOString(),maxResults:n.toString(),singleEvents:"true",orderBy:"startTime"}),o=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(e)}/events?${s}`,a=await fetch(o);if(!a.ok)throw new Error(`Google Calendar API error: ${a.status} ${a.statusText}`);const l=await a.json();return this.formatEvents(l.items||[])}catch(i){throw console.error("Failed to fetch calendar events:",i),i}}formatEvents(e){return e.map(n=>{var l,u,c,d;const i=((l=n.start)==null?void 0:l.dateTime)||((u=n.start)==null?void 0:u.date),r=((c=n.end)==null?void 0:c.dateTime)||((d=n.end)==null?void 0:d.date);let s="",o=60,a="1h";if(i){const f=new Date(i);if(s=f.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),r){const h=new Date(r);if(o=Math.round((h-f)/(1e3*60)),o>=60){const y=Math.floor(o/60),m=o%60;a=m>0?`${y}h${m}`:`${y}h`}else a=`${o} minutes`}}return{id:n.id,summary:n.summary||"No title",time:s,duration:o,formattedDuration:a,date:i?new Date(i):new Date,location:n.location,description:n.description}})}groupEventsByDay(e){const n=[[],[],[]];return e.forEach(i=>{if(!i.date)return;let r=new Date(i.date);const s=new Date;for(let o=0;o<3;o++){const a=new Date(s);if(a.setDate(s.getDate()+o),r.getDate()===a.getDate()&&r.getMonth()===a.getMonth()&&r.getFullYear()===a.getFullYear()){n[o].push(i);break}}}),n}}const Xl=new oI,Rr={API_KEY:"AIzaSyAYiobTSL1_Zn2ZZQXp140AM23U7wlELpk",CLIENT_ID:"your_client_id_here",CALENDAR_ID:"kyle.e.schultz@gmail.com",MAX_RESULTS:20},aI=()=>!!Rr.API_KEY;function lI(){const[t,e]=S.useState([]),[n,i]=S.useState(!0),[r,s]=S.useState(null),[o,a]=S.useState(!1),l=new Date,u=[[{id:1,summary:"School Pickup",time:"2:30 pm",duration:30,formattedDuration:"30 minutes"},{id:2,summary:"Grocery Run",time:"3:30 pm",duration:45,formattedDuration:"45 minutes"},{id:3,summary:"Soccer Practice",time:"5:00 pm",duration:90,formattedDuration:"1h30"}],[{id:4,summary:"Therapy Session",time:"10:00 am",duration:60,formattedDuration:"1h"},{id:5,summary:"Zoom Meeting",time:"11:30 am",duration:30,formattedDuration:"30 minutes"},{id:6,summary:"Pizza Friday",time:"6:00 pm",duration:60,formattedDuration:"1h"}],[{id:7,summary:"Morning Run",time:"7:00 am",duration:45,formattedDuration:"45 minutes"},{id:8,summary:"Book Club with Really Long Name That Might Overflow",time:"4:00 pm",duration:90,formattedDuration:"1h30"},{id:9,summary:"Date Night",time:"7:30 pm",duration:120,formattedDuration:"2h"}]];return S.useEffect(()=>{(async()=>{try{if(i(!0),s(null),typeof window<"u"&&window.location.hostname.includes("github.io")){e(u),a(!0),i(!1);return}if(!aI()){e(u),a(!0),i(!1);return}if(!await Xl.initialize(Rr.API_KEY,Rr.CLIENT_ID))throw new Error("Failed to initialize calendar service");const f=await Xl.getEvents(Rr.CALENDAR_ID,Rr.MAX_RESULTS),h=Xl.groupEventsByDay(f);e(h),a(!1)}catch(d){console.error("Error fetching calendar events:",d),typeof window<"u"&&window.location.hostname.includes("github.io")?s(null):s(d.message),e(u),a(!0)}finally{i(!1)}})()},[]),_.jsxs("section",{className:"w-full mb-8",children:[_.jsx(Qa,{title:`Calendar ${o?"(Demo)":""}`,className:"mb-4"}),r&&_.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:_.jsxs("p",{className:"text-sm text-yellow-800",children:["Calendar sync issue: ",r,". Showing demo data."]})}),_.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-xl px-6 pt-6 pb-6 overflow-x-auto h-[350px]",children:n?_.jsx("div",{className:"flex items-center justify-center h-full",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#48AF55] mx-auto mb-2"}),_.jsx("p",{className:"text-gray-500",children:"Loading calendar events..."})]})}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-x divide-gray-300 h-full",children:t.map((c,d)=>{const f=new Date(l);f.setDate(l.getDate()+d);const h=f.toLocaleDateString(void 0,{month:"long",day:"numeric"}),y=f.toLocaleDateString(void 0,{weekday:"long"});return _.jsxs("div",{className:`${d===2?"pl-6 pr-2":"px-6"} flex flex-col h-full`,children:[_.jsx("div",{className:"text-base text-gray-500 font-medium leading-none",children:y}),_.jsx("div",{className:"text-xl font-serif font-bold text-black mb-3",children:h}),_.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:_.jsx("div",{className:"flex flex-col gap-2 pb-6",children:c.length===0?_.jsx("p",{className:"text-base text-gray-500 italic",children:"No events"}):c.map(m=>{const w=new Date(`${f.toDateString()} ${m.time}`),p=new Date(w);p.setMinutes(p.getMinutes()+m.duration);const g=p<new Date;return _.jsxs("div",{className:`w-full bg-[#0B3D42] rounded-md px-2 py-4 text-base text-white ${g?"opacity-70":""}`,children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-10 bg-gradient-to-l from-[#0B3D42] to-transparent pointer-events-none z-10"}),_.jsx("div",{className:"font-semibold text-lg truncate whitespace-nowrap overflow-hidden pr-10",children:m.summary})]}),_.jsxs("div",{className:"text-sm",children:[m.time," | ",m.formattedDuration]})]},m.id)})})})]},d)})})})]})}function uI(t,e){function n(l){l=l.replace("#",""),l.length===3&&(l=l.split("").map(c=>c+c).join(""));const u=parseInt(l,16);return[u>>16,u>>8&255,u&255]}function i([l,u,c]){const d=[l,u,c].map(f=>(f/=255,f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)));return .2126*d[0]+.7152*d[1]+.0722*d[2]}const r=i(n(t)),s=i(n(e)),o=Math.max(r,s),a=Math.min(r,s);return(o+.05)/(a+.05)}const Lm=["#5398cb","#6d3231","#48af55","#0b3d42","#caccad"],Zl=["/watermarks/Bowl.svg","/watermarks/Cheese.svg","/watermarks/Lemons.svg","/watermarks/Lettuce.svg","/watermarks/Strawberries.svg"],Bn={"/watermarks/Bowl.svg":{size:"213px 106px",position:"calc(100% + 25px) calc(50% - 5px)",opacity:.6},"/watermarks/Cheese.svg":{size:"238px 119px",position:"calc(100% + 35px) center",opacity:.6},"/watermarks/Lemons.svg":{size:"250px 125px",position:"calc(100% + 25px) center",opacity:.6},"/watermarks/Lettuce.svg":{size:"280px 140px",position:"calc(100% + 55px) calc(50% - 10px)",opacity:.6,transform:"rotate(15deg)"},"/watermarks/Strawberries.svg":{size:"250px 125px",position:"calc(100% + 25px) center",opacity:.6}};function cI({text:t,isSpecial:e,bgColor:n,bgPattern:i,className:r,textColor:s}){var u,c,d,f;const o=S.useRef(null),[a,l]=S.useState(!1);return S.useEffect(()=>{const h=()=>{if(o.current){const y=o.current;l(y.scrollWidth>y.clientWidth)}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[t]),_.jsxs("span",{ref:o,className:`${r} whitespace-nowrap overflow-hidden relative`,children:[t,a&&_.jsx("div",{className:"absolute top-0 right-0 w-8 h-full pointer-events-none",style:{background:e?`linear-gradient(to right, transparent 0%, ${n||"#ffffff"} 100%)`:"linear-gradient(to right, transparent 0%, rgb(249, 250, 251) 100%)",backgroundImage:e&&i?`url('${i}')`:void 0,backgroundRepeat:"no-repeat",backgroundSize:e&&i&&((c=(u=Bn[i])==null?void 0:u.size)==null?void 0:c.replace("250px","125px").replace("125px","62px"))||"125px 62px",backgroundPosition:e&&i&&((d=Bn[i])==null?void 0:d.position)||"calc(100% + 25px) center",backgroundBlendMode:"normal",opacity:e&&i?((f=Bn[i])==null?void 0:f.opacity)||.6:1,filter:e&&i&&s?s==="#000000"?"brightness(0) invert(0)":"brightness(0) invert(1)":"none"}})]})}function dI({items:t=[],setItems:e,addGroceryItem:n,updateGroceryItem:i}){const r=typeof window<"u"&&window.innerWidth<768;console.log("ShoppingList render - items:",t),console.log("ShoppingList render - unchecked items:",t.filter(m=>!m.checked));function s(m){return m?m.charAt(0).toUpperCase()+m.slice(1).toLowerCase():""}const[o,a]=S.useState(!1),[l,u]=S.useState(null),[c,d]=S.useState(""),f=S.useRef(null);t=t||[],S.useEffect(()=>{o&&f.current&&setTimeout(()=>{var m;(m=f.current)==null||m.focus()},100)},[o]);function h(){if(c.trim()){if(console.log("handleSave called. editItem:",l,"input:",c),l)if(i)i(l.id,{text:c});else{const m=t.map(w=>w.id===l.id?{...w,text:c}:w);console.log("Updated items after edit:",m),e(m)}else{let m=!r&&Math.random()<.75;console.log("Random special decision:",m,"isMobile:",r);let w=null,p=null;if(m){w=Lm[Math.floor(Math.random()*Lm.length)],console.log("Current items array:",t.slice(0,5).map(C=>({text:C.text,special:C.special,pattern:C.bgPattern})));let v=null;for(let C=0;C<Math.min(10,t.length);C++)if(t[C].special&&t[C].bgPattern){v=t[C].bgPattern,console.log("Found last special pattern at index",C,":",v);break}let x=Zl.filter(C=>C!==v);x.length===0&&(x=Zl),p=x[Math.floor(Math.random()*x.length)],console.log("Assigning pattern:",p,"to special item (avoiding:",v,")"),console.log("Available patterns were:",x),console.log("All patterns:",Zl)}const g={id:Date.now(),text:c,checked:!1,special:m,bgColor:w,bgPattern:p};if(console.log("Adding new item with pattern:",g),n)n(g);else{const v=[g,...t];console.log("Updated items after add:",v),e(v)}}a(!1),d(""),u(null)}}function y(m){if(i){const w=t.find(p=>p.id===m);w&&i(m,{checked:!w.checked})}else{const w=t.map(p=>p.id===m?{...p,checked:!p.checked}:p);e(w)}}return _.jsxs("div",{className:"h-full",children:[_.jsx(Qa,{title:"Shopping List",className:"mb-4",rightSlot:_.jsx("button",{onClick:()=>{e([])},className:"text-gray-500 hover:text-red-500 text-sm font-medium transition-all duration-200 active:scale-95",style:{marginRight:r?"0px":"50px"},children:"Delete All"})}),_.jsx("div",{className:`bg-white border border-gray-200 rounded-3xl shadow-xl ${r?"p-4 h-[400px]":"p-8 h-[500px]"} flex flex-col`,children:t.filter(m=>!m.checked).length===0?_.jsx("div",{className:"flex-1"}):_.jsx("ul",{className:`${r?"space-y-2":"space-y-3"} overflow-y-auto pr-2 scrollbar-hide`,children:_.jsx(hf,{children:t.filter(m=>!m.checked).map(m=>{var x,C,E,k;let w={},p="#ffffff",g=r?"1rem":"1.5rem",v=r?"3rem":"4.5rem";return m.special&&!r&&(v="7.875rem",g="1.75rem",m.bgColor&&uI(m.bgColor,p)<4.5&&(p="#000000"),console.log("Special item - bgColor:",m.bgColor,"bgPattern:",m.bgPattern,"textColor:",p),w={background:m.bgColor,backgroundImage:"none",backgroundRepeat:"no-repeat",backgroundSize:"250px 125px",backgroundPosition:"calc(100% + 25px) center",backgroundBlendMode:"normal",position:"relative",color:p,fontSize:g,height:v,borderRadius:"1rem",display:"flex",alignItems:"center",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)",border:"2px solid #e5e7eb",padding:"0 1.5rem",fontWeight:700}),_.jsxs(xs.li,{className:"flex items-center gap-[43px]",initial:{opacity:0,scale:.8,x:40},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:40},transition:{duration:.4,ease:"easeInOut"},children:[_.jsx("input",{type:"checkbox",className:`${r?"w-4 h-4":"w-5 h-5"} accent-primary flex-shrink-0`,checked:m.checked,onChange:()=>y(m.id)}),_.jsxs("div",{className:m.special&&!r?"flex-1 flex items-center justify-between overflow-hidden relative":`bg-gray-50 rounded-xl ${r?"px-3 py-2 text-sm":"px-4 py-3 text-base"} text-gray-800 flex-1 flex items-center shadow-sm border border-gray-100 hover:shadow-md transition overflow-hidden`,style:m.special&&!r?w:{},children:[m.special&&!r&&m.bgPattern&&_.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`url('${m.bgPattern}')`,backgroundRepeat:"no-repeat",backgroundSize:((x=Bn[m.bgPattern])==null?void 0:x.size)||"250px 125px",backgroundPosition:((C=Bn[m.bgPattern])==null?void 0:C.position)||"calc(100% + 25px) center",opacity:((E=Bn[m.bgPattern])==null?void 0:E.opacity)||.6,transform:((k=Bn[m.bgPattern])==null?void 0:k.transform)||"none",filter:p==="#000000"?"brightness(0) invert(0)":"brightness(0) invert(1)"}}),_.jsx(cI,{text:s(m.text||m.name||""),isSpecial:m.special&&!r,bgColor:m.bgColor,bgPattern:m.bgPattern,textColor:p,className:m.special&&!r?"tracking-wide":"font-medium tracking-wide"})]})]},m.id)})})})}),o&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md border border-gray-100",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-2xl font-serif text-[#5A3210]",children:l?"Edit Item":"Add New Item"}),_.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-light w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:"✕"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Name"}),_.jsx("input",{ref:f,type:"text",value:c,onChange:m=>d(m.target.value),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-primary focus:outline-none transition-colors text-base",placeholder:"e.g., Bananas, Milk, Bread...",onKeyDown:m=>m.key==="Enter"&&h()})]}),_.jsxs("div",{className:"flex justify-between gap-3",children:[_.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:h,className:"flex-1 px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors shadow-md",children:l?"Update":"Add Item"})]})]})})]})}function fI({task:t,onToggle:e,onLongPress:n,isDeleting:i,frequencyColor:r}){const s=S.useRef(null),[o,a]=S.useState([]),l=d=>{const f=d.currentTarget.getBoundingClientRect(),h=d.clientX-f.left,y=d.clientY-f.top;s.current=setTimeout(()=>{a(m=>[...m,{id:Date.now(),x:h,y}]),n(t)},600)},u=()=>{clearTimeout(s.current)},c=d=>{a(f=>f.filter(h=>h.id!==d))};return _.jsxs("li",{onPointerDown:l,onPointerUp:u,onPointerLeave:u,className:`
        relative overflow-hidden flex items-center justify-between
        rounded-md px-4 py-4 text-base text-white transition-all duration-300
        ${i?"opacity-0 translate-x-4":""}
      `,style:{backgroundColor:r},children:[o.map(d=>_.jsx("span",{onAnimationEnd:()=>c(d.id),className:"absolute pointer-events-none animate-ripple bg-black/10 rounded-full",style:{left:d.x,top:d.y,width:100,height:100,marginLeft:-50,marginTop:-50}},d.id)),_.jsxs("div",{className:"flex items-center gap-3 w-full",children:[_.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:t.done,onChange:()=>e(t.id)}),_.jsx("span",{className:"w-full cursor-pointer",children:t.description})]})]})}const hI=["daily","weekly","monthly","quarterly"],Om={daily:"#69A5D1",weekly:"#B75634",monthly:"#EFB643",quarterly:"#6AA968"};function pI({tasks:t=[],setTasks:e,addTask:n,updateTask:i,removeTask:r}){const s=[{id:1,description:"Feed Coltrane",frequency:"daily",recurring:!0,done:!1},{id:2,description:"Unload dishwasher",frequency:"daily",recurring:!1,done:!1},{id:3,description:"Take out trash",frequency:"weekly",recurring:!0,done:!1},{id:4,description:"Change air filter",frequency:"monthly",recurring:!0,done:!1},{id:5,description:"Clean gutters",frequency:"quarterly",recurring:!0,done:!1}],[o,a]=S.useState(!1),[l,u]=S.useState(null),[c,d]=S.useState([]);S.useEffect(()=>{t.length===0&&e&&e(s)},[t.length,e,s]),S.useEffect(()=>{if(e&&t.length>0){const y=t.map(m=>{if(!m.recurring||!m.lastCompleted||!m.done)return m;const w=new Date(m.lastCompleted),g=Math.floor((new Date-w)/(1e3*60*60*24)),v={daily:1,weekly:7,monthly:30,quarterly:120}[m.frequency];return g>=v?{...m,done:!1,lastCompleted:null}:m});JSON.stringify(y)!==JSON.stringify(t)&&e(y)}},[e,t]);function f(y){d(m=>[...m,y]),setTimeout(()=>{const m=t.find(p=>p.id===y);if(!m)return;const w={...m,done:!m.done,lastCompleted:m.done?null:new Date().toISOString()};if(!m.recurring&&!m.done){if(r)r(y);else if(e){const p=t.filter(g=>g.id!==y);e(p)}}else if(i)i(y,w);else if(e){const p=t.map(g=>g.id===y?w:g);e(p)}d(p=>p.filter(g=>g!==y))},300)}function h(y){u(y)}return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"h-full",children:[_.jsx(Qa,{title:"Our Tasks",className:"mb-4"}),_.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-xl p-6 h-[500px] overflow-y-auto flex flex-col scrollbar-hide",children:hI.map(y=>{const m=t.filter(w=>w.frequency===y&&!w.done);return m.length===0?null:_.jsxs("div",{className:"mb-block",children:[_.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-2",style:{color:Om[y]},children:y}),_.jsx("ul",{className:"space-y-2",children:m.map(w=>_.jsx(fI,{task:w,onToggle:f,onLongPress:h,isDeleting:c.includes(w.id),frequencyColor:Om[w.frequency]},w.id))})]},y)})})]}),o&&_.jsx(Tc,{onClose:()=>a(!1),onSave:y=>{n?n(y):e&&e([...t,y]),a(!1)}}),l&&_.jsx(Tc,{isOpen:!0,task:l,onClose:()=>u(null),onSave:y=>{if(i)i(y.id,y);else if(e){const m=t.map(w=>w.id===y.id?y:w);e(m)}u(null)},onDelete:y=>{if(r)r(y.id);else if(e){const m=t.filter(w=>w.id!==y.id);e(m)}u(null)}})]})}function mI({meals:t={}}){console.log("WeeklyMeals: received meals prop:",t);const e=["Chicken Alfredo","Taco Tuesday","Beef Stir Fry","Lemon Herb Salmon","Pizza Night","BBQ Ribs","Roast Chicken"],n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],i=n.map((l,u)=>t[l]||e[u]);console.log("WeeklyMeals: final mealNames:",i);const r=["https://images.unsplash.com/photo-1578515637272-e4afe0b8ec82?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1526213174737-acd9757c6bf3?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1482275548304-a58859dc31b7?q=80&w=2076&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1547573854-74d2a71d0826?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1630443876697-e0d2faac7b51?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1471193945509-9ad0617afabf?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1519671482749-fd09be7ccebf?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?q=80&w=2081&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=2174&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],s=(new Date().getDay()+6)%7,[o,a]=S.useState(()=>{const l=r[s],u=r.filter(d=>d!==l),c=u.length>0?u[Math.floor(Math.random()*u.length)]:r[0];return console.log("Initial small card photo selected:",c),c});return S.useEffect(()=>{const u=setInterval(()=>{const c=r[s],d=r.filter(f=>f!==c&&f!==o);if(d.length>0){const f=d[Math.floor(Math.random()*d.length)];console.log("Rotating small card to new photo:",f),a(f)}else{const f=r.find(h=>h!==o)||r[0];console.log("Using fallback photo for small card:",f),a(f)}},72e5);return()=>clearInterval(u)},[o,s]),_.jsxs("div",{className:"w-full mb-8 pt-8",children:[_.jsx(Qa,{title:"Weekly Meal Plan",className:"mb-6"}),_.jsxs("div",{style:{width:"100%",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"stretch",gap:"12px",position:"relative"},children:[_.jsxs("div",{className:"parallax-bg",style:{flex:"2 1 0",height:"380px",borderRadius:"16px",backgroundImage:`linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.0) 66%, rgba(0,0,0,0.0) 100%), url('${r[s]}')`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(229, 231, 235, 1)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",position:"relative",overflow:"hidden",paddingLeft:"40px",minWidth:0},children:[_.jsx("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#48AF55",marginBottom:"6px",letterSpacing:"0.5px",textTransform:"uppercase",textAlign:"left"},children:"Today"}),_.jsx("div",{style:{fontWeight:"200",fontSize:"2.75rem",color:"#ffffff",textAlign:"left"},children:i[s]})]}),_.jsx(xs.div,{className:"relative overflow-hidden bg-cover bg-center bg-no-repeat",style:{flex:"1 1 0",height:"380px",borderRadius:"16px",backgroundImage:`url('${o}')`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(229, 231, 235, 1)",minWidth:0,marginRight:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:_.jsx("div",{className:"absolute inset-0 flex flex-col",style:{background:"linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.4) 100%)",display:"flex",flexDirection:"column"},children:_.jsx("div",{style:{flex:"1 1 0",overflowY:"auto",paddingLeft:"32px",paddingRight:"16px",paddingTop:"24px",paddingBottom:"24px"},className:"scrollbar-hide",children:_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:n.map((l,u)=>{const d=u<s?.6:1;return _.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",opacity:d},children:[_.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:u===s?"#48AF55":"#93C5FD",textTransform:"uppercase",letterSpacing:"0.5px"},children:u===s?"Today":l}),_.jsx("div",{style:{fontSize:"1.375rem",fontWeight:"300",color:"#ffffff",lineHeight:"1.3"},children:i[u]})]},l)})})})})},o)]})]})}function gI({groceryItems:t,setGroceryItems:e,addGroceryItem:n,updateGroceryItem:i,removeGroceryItem:r,tasks:s,setTasks:o,addTask:a,updateTask:l,removeTask:u,meals:c,setMeals:d}){const f=typeof window<"u"&&window.innerWidth<768;return _.jsxs("div",{className:`p-2 sm:p-4 flex flex-col ${f?"gap-3":"gap-4"}`,children:[!f&&_.jsx(lI,{}),_.jsxs("section",{className:`grid grid-cols-1 ${f?"":"md:grid-cols-2"} gap-3 sm:gap-4`,children:[_.jsx(dI,{items:t,setItems:e,addGroceryItem:n,updateGroceryItem:i}),_.jsx(pI,{tasks:s,setTasks:o,addTask:a,updateTask:l,removeTask:u})]}),!f&&_.jsx(mI,{meals:c,setMeals:d})]})}function yI(){return _.jsx("div",{className:"text-center p-10 text-xl",children:"Coming soon: Home Dashboard"})}function vI(){return _.jsx("div",{className:"text-center p-10 text-xl",children:"Coming soon: Family Dashboard"})}const _I={ALERTS:gI,HOME:yI,FAMILY:vI};function wI({currentTab:t,groceryItems:e,setGroceryItems:n,addGroceryItem:i,updateGroceryItem:r,removeGroceryItem:s,tasks:o,setTasks:a,addTask:l,updateTask:u,removeTask:c,meals:d,setMeals:f}){const h=_I[t];return _.jsx("div",{className:"relative w-full",children:_.jsx(hf,{mode:"wait",children:_.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},children:_.jsx(h,{groceryItems:e,setGroceryItems:n,addGroceryItem:i,updateGroceryItem:r,removeGroceryItem:s,tasks:o,setTasks:a,addTask:l,updateTask:u,removeTask:c,meals:d,setMeals:f})},t)})})}function xI({children:t}){return _.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(ellipse_at_center,_#FDF6E7,_#FBEED4)]"}),_.jsx("div",{className:"absolute inset-0 z-10 grid grid-cols-3 grid-rows-3 w-full h-full pointer-events-none",children:[...Array(9)].map((e,n)=>_.jsx("img",{src:"/PatternBG.svg",alt:"",className:"w-full h-full object-cover",draggable:"false"},n))}),_.jsx("div",{className:"absolute inset-0 z-15 overflow-hidden pointer-events-none",children:_.jsx("div",{className:"glint-mask"})}),_.jsx("div",{className:"relative z-20",children:t})]})}const CI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P=function(t,e){if(!t)throw or(e)},or=function(t){return new Error("Firebase Database ("+__.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},SI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Sf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),i.push(n[c],n[d],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new EI;const f=s<<2|a>>4;if(i.push(f),u!==64){const h=a<<4&240|u>>2;if(i.push(h),d!==64){const y=u<<6&192|d;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class EI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x_=function(t){const e=w_(t);return Sf.encodeByteArray(e,!0)},fa=function(t){return x_(t).replace(/\./g,"")},kc=function(t){try{return Sf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){return C_(void 0,t)}function C_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kI(n)||(t[n]=C_(t[n],e[n]));return t}function kI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=()=>II().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kc(t[1]);return e&&JSON.parse(e)},S_=()=>{try{return CI()||PI()||NI()||DI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AI=t=>{var e,n;return(n=(e=S_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},RI=t=>{const e=AI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},E_=()=>{var t;return(t=S_())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t},a="";return[fa(JSON.stringify(n)),fa(JSON.stringify(o)),a].join(".")}const Kr={};function LI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Kr))Kr[e]?t.emulator.push(e):t.prod.push(e);return t}function OI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fm=!1;function FI(t,e){if(typeof window>"u"||typeof document>"u"||!Ef(window.location.host)||Kr[t]===e||Kr[t]||Fm)return;Kr[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",s=LI().prod.length>0;function o(){const f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Fm=!0,o()},f}function c(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=OI(i),h=n("text"),y=document.getElementById(h)||document.createElement("span"),m=n("learnmore"),w=document.getElementById(m)||document.createElement("a"),p=n("preprendIcon"),g=document.getElementById(p)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const v=f.element;a(v),c(w,m);const x=u();l(g,p),v.append(g,y,w,x),document.body.appendChild(v)}s?(y.innerText="Preview backend disconnected.",g.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(g.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jI())}function VI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k_(){return __.NODE_ADMIN===!0}function BI(){try{return typeof indexedDB=="object"}catch{return!1}}function zI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="FirebaseError";class Us extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=UI,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I_.prototype.create)}}class I_{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?WI(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Us(r,a,i)}}function WI(t,e){return t.replace($I,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const $I=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t){return JSON.parse(t)}function xe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=Cs(kc(s[0])||""),n=Cs(kc(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},HI=function(t){const e=P_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},GI=function(t){const e=P_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ki(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ha(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function pa(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Vm(s)&&Vm(o)){if(!pa(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Vm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(r<<5|r>>>27)+u+l+c+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function qa(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,P(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Xa=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){return t&&t._delegate?t._delegate:t}class Ss{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new zs;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZI(e))try{this.getOrInitializeService({instanceIdentifier:Mn})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Mn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mn){return this.instances.has(e)}getOptions(e=Mn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Mn){return this.component?this.component.multipleInstances?e:Mn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XI(t){return t===Mn?void 0:t}function ZI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(G||(G={}));const eP={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},tP=G.INFO,nP={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},iP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=nP[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N_{constructor(e){this.name=e,this._logLevel=tP,this._logHandler=iP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}}const rP=(t,e)=>e.some(n=>t instanceof n);let Bm,zm;function sP(){return Bm||(Bm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oP(){return zm||(zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,Ic=new WeakMap,A_=new WeakMap,Jl=new WeakMap,Tf=new WeakMap;function aP(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hn(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&D_.set(n,t)}).catch(()=>{}),Tf.set(e,t),e}function lP(t){if(Ic.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ic.set(t,e)}let Pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ic.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uP(t){Pc=t(Pc)}function cP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(eu(this),e,...n);return A_.set(i,e.sort?e.sort():[e]),hn(i)}:oP().includes(t)?function(...e){return t.apply(eu(this),e),hn(D_.get(this))}:function(...e){return hn(t.apply(eu(this),e))}}function dP(t){return typeof t=="function"?cP(t):(t instanceof IDBTransaction&&lP(t),rP(t,sP())?new Proxy(t,Pc):t)}function hn(t){if(t instanceof IDBRequest)return aP(t);if(Jl.has(t))return Jl.get(t);const e=dP(t);return e!==t&&(Jl.set(t,e),Tf.set(e,t)),e}const eu=t=>Tf.get(t);function fP(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=hn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(hn(o.result),l.oldVersion,l.newVersion,hn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hP=["get","getKey","getAll","getAllKeys","count"],pP=["put","add","delete","clear"],tu=new Map;function Um(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tu.get(e))return tu.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=pP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||hP.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return tu.set(e,s),s}uP(t=>({...t,get:(e,n,i)=>Um(e,n)||t.get(e,n,i),has:(e,n)=>!!Um(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function gP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nc="@firebase/app",Wm="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t=new N_("@firebase/app"),yP="@firebase/app-compat",vP="@firebase/analytics-compat",_P="@firebase/analytics",wP="@firebase/app-check-compat",xP="@firebase/app-check",CP="@firebase/auth",SP="@firebase/auth-compat",EP="@firebase/database",TP="@firebase/data-connect",kP="@firebase/database-compat",IP="@firebase/functions",PP="@firebase/functions-compat",NP="@firebase/installations",DP="@firebase/installations-compat",AP="@firebase/messaging",RP="@firebase/messaging-compat",MP="@firebase/performance",bP="@firebase/performance-compat",LP="@firebase/remote-config",OP="@firebase/remote-config-compat",FP="@firebase/storage",jP="@firebase/storage-compat",VP="@firebase/firestore",BP="@firebase/ai",zP="@firebase/firestore-compat",UP="firebase",WP="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="[DEFAULT]",$P={[Nc]:"fire-core",[yP]:"fire-core-compat",[_P]:"fire-analytics",[vP]:"fire-analytics-compat",[xP]:"fire-app-check",[wP]:"fire-app-check-compat",[CP]:"fire-auth",[SP]:"fire-auth-compat",[EP]:"fire-rtdb",[TP]:"fire-data-connect",[kP]:"fire-rtdb-compat",[IP]:"fire-fn",[PP]:"fire-fn-compat",[NP]:"fire-iid",[DP]:"fire-iid-compat",[AP]:"fire-fcm",[RP]:"fire-fcm-compat",[MP]:"fire-perf",[bP]:"fire-perf-compat",[LP]:"fire-rc",[OP]:"fire-rc-compat",[FP]:"fire-gcs",[jP]:"fire-gcs-compat",[VP]:"fire-fst",[zP]:"fire-fst-compat",[BP]:"fire-vertex","fire-js":"fire-js",[UP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Map,HP=new Map,Ac=new Map;function $m(t,e){try{t.container.addComponent(e)}catch(n){$t.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ga(t){const e=t.name;if(Ac.has(e))return $t.debug(`There were multiple attempts to register component ${e}.`),!1;Ac.set(e,t);for(const n of ma.values())$m(n,t);for(const n of HP.values())$m(n,t);return!0}function GP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function KP(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pn=new I_("app","Firebase",YP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=WP;function R_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Dc,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw pn.create("bad-app-name",{appName:String(r)});if(n||(n=E_()),!n)throw pn.create("no-options");const s=ma.get(r);if(s){if(pa(n,s.options)&&pa(i,s.config))return s;throw pn.create("duplicate-app",{appName:r})}const o=new JI(r);for(const l of Ac.values())o.addComponent(l);const a=new QP(n,i,o);return ma.set(r,a),a}function XP(t=Dc){const e=ma.get(t);if(!e&&t===Dc&&E_())return R_();if(!e)throw pn.create("no-app",{appName:t});return e}function Mi(t,e,n){let i=$P[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${i}" with version "${e}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$t.warn(o.join(" "));return}ga(new Ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="firebase-heartbeat-database",JP=1,Es="firebase-heartbeat-store";let nu=null;function M_(){return nu||(nu=fP(ZP,JP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Es)}catch(n){console.warn(n)}}}}).catch(t=>{throw pn.create("idb-open",{originalErrorMessage:t.message})})),nu}async function eN(t){try{const n=(await M_()).transaction(Es),i=await n.objectStore(Es).get(b_(t));return await n.done,i}catch(e){if(e instanceof Us)$t.warn(e.message);else{const n=pn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$t.warn(n.message)}}}async function Hm(t,e){try{const i=(await M_()).transaction(Es,"readwrite");await i.objectStore(Es).put(e,b_(t)),await i.done}catch(n){if(n instanceof Us)$t.warn(n.message);else{const i=pn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$t.warn(i.message)}}}function b_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=1024,nN=30;class iN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gm();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>nN){const o=oN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$t.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gm(),{heartbeatsToSend:i,unsentEntries:r}=rN(this._heartbeatsCache.heartbeats),s=fa(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $t.warn(n),""}}}function Gm(){return new Date().toISOString().substring(0,10)}function rN(t,e=tN){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Km(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Km(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BI()?zI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Km(t){return fa(JSON.stringify({version:2,heartbeats:t})).length}function oN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){ga(new Ss("platform-logger",e=>new mP(e),"PRIVATE")),ga(new Ss("heartbeat",e=>new iN(e),"PRIVATE")),Mi(Nc,Wm,t),Mi(Nc,Wm,"esm2020"),Mi("fire-js","")}aN("");const Ym="@firebase/database",Qm="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L_="";function lN(t){L_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Cs(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Dt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new uN(e)}}catch{}return new cN},zn=O_("localStorage"),Rc=O_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new N_("@firebase/database"),dN=function(){let t=1;return function(){return t++}}(),F_=function(t){const e=QI(t),n=new YI;n.update(e);const i=n.digest();return Sf.encodeByteArray(i)},Ws=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ws.apply(null,i):typeof i=="object"?e+=xe(i):e+=i,e+=" "}return e};let Gn=null,qm=!0;const fN=function(t,e){P(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(bi.logLevel=G.VERBOSE,Gn=bi.log.bind(bi),e&&Rc.set("logging_enabled",!0)):typeof t=="function"?Gn=t:(Gn=null,Rc.remove("logging_enabled"))},Te=function(...t){if(qm===!0&&(qm=!1,Gn===null&&Rc.get("logging_enabled")===!0&&fN(!0)),Gn){const e=Ws.apply(null,t);Gn(e)}},$s=function(t){return function(...e){Te(t,...e)}},Mc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ws(...t);bi.error(e)},Ht=function(...t){const e=`FIREBASE FATAL ERROR: ${Ws(...t)}`;throw bi.error(e),new Error(e)},Fe=function(...t){const e="FIREBASE WARNING: "+Ws(...t);bi.warn(e)},hN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},pN=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yi="[MIN_NAME]",Zn="[MAX_NAME]",ri=function(t,e){if(t===e)return 0;if(t===Yi||e===Zn)return-1;if(e===Yi||t===Zn)return 1;{const n=Xm(t),i=Xm(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},mN=function(t,e){return t===e?0:t<e?-1:1},xr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+xe(e))},If=function(t){if(typeof t!="object"||t===null)return xe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=xe(e[i]),n+=":",n+=If(t[e[i]]);return n+="}",n},j_=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Pe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const V_=function(t){P(!kf(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},gN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},yN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vN(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const _N=new RegExp("^-?(0*)\\d{1,10}$"),wN=-2147483648,xN=2147483647,Xm=function(t){if(_N.test(t)){const e=Number(t);if(e>=wN&&e<=xN)return e}return null},lr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fe("Exception was thrown by user callback.",n),e},Math.floor(0))}},CN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,KP(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Fe(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fe(e)}}class Li{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Li.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="5",B_="v",z_="s",U_="r",W_="f",$_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H_="ls",G_="p",bc="ac",K_="websocket",Y_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function TN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function q_(t,e,n){P(typeof e=="string","typeof type must == string"),P(typeof n=="object","typeof params must == object");let i;if(e===K_)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Y_)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TN(t)&&(n.ns=t.namespace);const r=[];return Pe(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.counters_={}}incrementCounter(e,n=1){Dt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return TI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu={},ru={};function Nf(t){const e=t.toString();return iu[e]||(iu[e]=new kN),iu[e]}function IN(t,e){const n=t.toString();return ru[n]||(ru[n]=e()),ru[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&lr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="start",NN="close",DN="pLPCommand",AN="pRTLPCB",X_="id",Z_="pw",J_="ser",RN="cb",MN="seg",bN="ts",LN="d",ON="dframe",e1=1870,t1=30,FN=e1-t1,jN=25e3,VN=3e4;class Ti{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$s(e),this.stats_=Nf(n),this.urlFn=l=>(this.appCheckToken&&(l[bc]=this.appCheckToken),q_(n,Y_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new PN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VN)),pN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Df((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Zm)this.id=a,this.password=l;else if(o===NN)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Zm]="t",i[J_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[RN]=this.scriptTagHolder.uniqueCallbackIdentifier),i[B_]=Pf,this.transportSessionId&&(i[z_]=this.transportSessionId),this.lastSessionId&&(i[H_]=this.lastSessionId),this.applicationId&&(i[G_]=this.applicationId),this.appCheckToken&&(i[bc]=this.appCheckToken),typeof location<"u"&&location.hostname&&$_.test(location.hostname)&&(i[U_]=W_);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ti.forceAllow_=!0}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){return Ti.forceAllow_?!0:!Ti.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gN()&&!yN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=x_(n),r=j_(i,FN);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[ON]="t",i[X_]=e,i[Z_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Df{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=dN(),window[DN+this.uniqueCallbackIdentifier]=e,window[AN+this.uniqueCallbackIdentifier]=n,this.myIFrame=Df.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Te("frame writing exception"),a.stack&&Te(a.stack),Te(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Te("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[X_]=this.myID,e[Z_]=this.myPW,e[J_]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+t1+i.length<=e1;){const o=this.pendingSegs.shift();i=i+"&"+MN+r+"="+o.seg+"&"+bN+r+"="+o.ts+"&"+LN+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(jN)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Te("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=16384,zN=45e3;let ya=null;typeof MozWebSocket<"u"?ya=MozWebSocket:typeof WebSocket<"u"&&(ya=WebSocket);class mt{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$s(this.connId),this.stats_=Nf(n),this.connURL=mt.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[B_]=Pf,typeof location<"u"&&location.hostname&&$_.test(location.hostname)&&(o[U_]=W_),n&&(o[z_]=n),i&&(o[H_]=i),r&&(o[bc]=r),s&&(o[G_]=s),q_(e,K_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zn.set("previous_websocket_failure",!0);try{let i;k_(),this.mySock=new ya(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){mt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&ya!==null&&!mt.forceDisallow_}static previouslyFailed(){return zn.isInMemoryStorage||zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){zn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Cs(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(P(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=j_(n,BN);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mt.responsesRequiredToBeHealthy=2;mt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{static get ALL_TRANSPORTS(){return[Ti,mt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=mt&&mt.isAvailable();let i=n&&!mt.previouslyFailed();if(e.webSocketOnly&&(n||Fe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[mt];else{const r=this.transports_=[];for(const s of Ts.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Ts.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ts.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=6e4,WN=5e3,$N=10*1024,HN=100*1024,su="t",Jm="d",GN="s",eg="r",KN="e",tg="o",ng="a",ig="n",rg="p",YN="h";class QN{constructor(e,n,i,r,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$s("c:"+this.id+":"),this.transportManager_=new Ts(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Yr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$N?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(su in e){const n=e[su];n===ng?this.upgradeIfSecondaryHealthy_():n===eg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xr("t",e),i=xr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:rg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ng,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ig,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xr("t",e),i=xr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xr(su,e);if(Jm in e){const i=e[Jm];if(n===YN){const r={...i};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===ig){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GN?this.onConnectionShutdown_(i):n===eg?this.onReset_(i):n===KN?Mc("Server Error: "+i):n===tg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Pf!==i&&Fe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Yr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(WN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:rg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){P(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends i1{static getInstance(){return new va}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!T_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return P(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=32,og=768;class ${constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function U(){return new $("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function wn(t){return t.pieces_.length-t.pieceNum_}function K(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new $(t.pieces_,e)}function Af(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function qN(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ks(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function r1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $(e,0)}function oe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof $)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new $(n,0)}function V(t){return t.pieceNum_>=t.pieces_.length}function We(t,e){const n=F(t),i=F(e);if(n===null)return e;if(n===i)return We(K(t),K(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XN(t,e){const n=ks(t,0),i=ks(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=ri(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function Rf(t,e){if(wn(t)!==wn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function st(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(wn(t)>wn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class ZN{constructor(e,n){this.errorPrefix_=n,this.parts_=ks(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Xa(this.parts_[i]);s1(this)}}function JN(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Xa(e),s1(t)}function eD(t){const e=t.parts_.pop();t.byteLength_-=Xa(e),t.parts_.length>0&&(t.byteLength_-=1)}function s1(t){if(t.byteLength_>og)throw new Error(t.errorPrefix_+"has a key path longer than "+og+" bytes ("+t.byteLength_+").");if(t.parts_.length>sg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sg+") or object contains a cycle "+bn(t))}function bn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends i1{static getInstance(){return new Mf}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return P(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=1e3,tD=60*5*1e3,ag=30*1e3,nD=1.3,iD=3e4,rD="server_kill",lg=3;class Ft extends n1{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ft.nextPersistentConnectionId_++,this.log_=$s("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cr,this.maxReconnectDelay_=tD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!k_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&va.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(xe(s)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new zs,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Ft.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Dt(e,"w")){const i=Ki(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Fe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||GI(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ag)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=HI(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),P(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Mc("Unrecognized action received from server: "+xe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iD&&(this.reconnectDelay_=Cr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ft.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},u=function(d){P(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new QN(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{Fe(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(rD)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Fe(d),l())}}}interrupt(e){Te("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Te("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jm(this.interruptReasons_)&&(this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>If(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new $(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Te("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lg&&(this.reconnectDelay_=ag,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Te("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+L_.replace(/\./g,"-")]=1,T_()?e["framework.cordova"]=1:VI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=va.getInstance().currentlyOnline();return jm(this.interruptReasons_)&&e}}Ft.nextPersistentConnectionId_=0;Ft.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new j(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new j(Yi,e),r=new j(Yi,n);return this.compare(i,r)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;class o1 extends Za{static get __EMPTY_NODE(){return _o}static set __EMPTY_NODE(e){_o=e}compare(e,n){return ri(e.name,n.name)}isDefinedOn(e){throw or("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Zn,_o)}makePost(e,n){return P(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,_o)}toString(){return".key"}}const Oi=new o1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class _e{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??_e.RED,this.left=r??$e.EMPTY_NODE,this.right=s??$e.EMPTY_NODE}copy(e,n,i,r,s){return new _e(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return $e.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return $e.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,_e.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,_e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}_e.RED=!0;_e.BLACK=!1;class sD{copy(e,n,i,r,s){return this}insert(e,n,i){return new _e(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $e{constructor(e,n=$e.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $e(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,_e.BLACK,null,null))}remove(e){return new $e(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,_e.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new wo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new wo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new wo(this.root_,null,this.comparator_,!0,e)}}$e.EMPTY_NODE=new sD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e){return ri(t.name,e.name)}function bf(t,e){return ri(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;function aD(t){Lc=t}const a1=function(t){return typeof t=="number"?"number:"+V_(t):"string:"+t},l1=function(t){if(t.isLeafNode()){const e=t.val();P(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Dt(e,".sv"),"Priority must be a string or number.")}else P(t===Lc||t.isEmpty(),"priority of unexpected type.");P(t===Lc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ug;class ye{static set __childrenNodeConstructor(e){ug=e}static get __childrenNodeConstructor(){return ug}constructor(e,n=ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,P(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),l1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ye(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return V(e)?this:F(e)===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=F(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(P(i!==".priority"||wn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(K(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+a1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=V_(this.value_):e+=this.value_,this.lazyHash_=F_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ye.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ye.__childrenNodeConstructor?-1:(P(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=ye.VALUE_TYPE_ORDER.indexOf(n),s=ye.VALUE_TYPE_ORDER.indexOf(i);return P(r>=0,"Unknown leaf type: "+n),P(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u1,c1;function lD(t){u1=t}function uD(t){c1=t}class cD extends Za{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?ri(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Zn,new ye("[PRIORITY-POST]",c1))}makePost(e,n){const i=u1(e);return new j(n,new ye("[PRIORITY-POST]",i))}toString(){return".priority"}}const ae=new cD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=Math.log(2);class fD{constructor(e){const n=s=>parseInt(Math.log(s)/dD,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _a=function(t,e,n,i){t.sort(e);const r=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new _e(f,d.node,_e.BLACK,null,null);{const h=parseInt(c/2,10)+l,y=r(l,h),m=r(h+1,u);return d=t[h],f=n?n(d):d,new _e(f,d.node,_e.BLACK,y,m)}},s=function(l){let u=null,c=null,d=t.length;const f=function(y,m){const w=d-y,p=d;d-=y;const g=r(w+1,p),v=t[w],x=n?n(v):v;h(new _e(x,v.node,m,null,g))},h=function(y){u?(u.left=y,u=y):(c=y,u=y)};for(let y=0;y<l.count;++y){const m=l.nextBitIsOne(),w=Math.pow(2,l.count-(y+1));m?f(w,_e.BLACK):(f(w,_e.BLACK),f(w,_e.RED))}return c},o=new fD(t.length),a=s(o);return new $e(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;const ai={};class Lt{static get Default(){return P(ai&&ae,"ChildrenNode.ts has not been loaded"),ou=ou||new Lt({".priority":ai},{".priority":ae}),ou}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ki(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $e?n:null}hasIndex(e){return Dt(this.indexSet_,e.toString())}addIndex(e,n){P(e!==Oi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(j.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=_a(i,e.getCompare()):a=ai;const l=e.toString(),u={...this.indexSet_};u[l]=e;const c={...this.indexes_};return c[l]=a,new Lt(c,u)}addToIndexes(e,n){const i=ha(this.indexes_,(r,s)=>{const o=Ki(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),r===ai)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(j.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),_a(a,o.getCompare())}else return ai;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new j(e.name,a))),l.insert(e,e.node)}});return new Lt(i,this.indexSet_)}removeFromIndexes(e,n){const i=ha(this.indexes_,r=>{if(r===ai)return r;{const s=n.get(e.name);return s?r.remove(new j(e.name,s)):r}});return new Lt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr;class b{static get EMPTY_NODE(){return Sr||(Sr=new b(new $e(bf),null,Lt.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&l1(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sr}updatePriority(e){return this.children_.isEmpty()?this:new b(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Sr:n}}getChild(e){const n=F(e);return n===null?this:this.getImmediateChild(n).getChild(K(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(P(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new j(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Sr:this.priorityNode_;return new b(r,o,s)}}updateChild(e,n){const i=F(e);if(i===null)return n;{P(F(e)!==".priority"||wn(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(K(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(ae,(o,a)=>{n[o]=a.val(e),i++,s&&b.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+a1(this.getPriority().val())+":"),this.forEachChild(ae,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":F_(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new j(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new j(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new j(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,j.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,j.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hs?-1:0}withIndex(e){if(e===Oi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new b(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Oi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ae),r=n.getIterator(ae);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Oi?null:this.indexMap_.get(e.toString())}}b.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hD extends b{constructor(){super(new $e(bf),b.EMPTY_NODE,Lt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return b.EMPTY_NODE}isEmpty(){return!1}}const Hs=new hD;Object.defineProperties(j,{MIN:{value:new j(Yi,b.EMPTY_NODE)},MAX:{value:new j(Zn,Hs)}});o1.__EMPTY_NODE=b.EMPTY_NODE;ye.__childrenNodeConstructor=b;aD(Hs);uD(Hs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=!0;function we(t,e=null){if(t===null)return b.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),P(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ye(n,we(e))}if(!(t instanceof Array)&&pD){const n=[];let i=!1;if(Pe(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=we(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new j(o,l)))}}),n.length===0)return b.EMPTY_NODE;const s=_a(n,oD,o=>o.name,bf);if(i){const o=_a(n,ae.getCompare());return new b(s,we(e),new Lt({".priority":o},{".priority":ae}))}else return new b(s,we(e),Lt.Default)}else{let n=b.EMPTY_NODE;return Pe(t,(i,r)=>{if(Dt(t,i)&&i.substring(0,1)!=="."){const s=we(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(we(e))}}lD(we);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD extends Za{constructor(e){super(),this.indexPath_=e,P(!V(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?ri(e.name,n.name):s}makePost(e,n){const i=we(e),r=b.EMPTY_NODE.updateChild(this.indexPath_,i);return new j(n,r)}maxPost(){const e=b.EMPTY_NODE.updateChild(this.indexPath_,Hs);return new j(Zn,e)}toString(){return ks(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends Za{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ri(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){const i=we(e);return new j(n,i)}toString(){return".value"}}const yD=new gD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){return{type:"value",snapshotNode:t}}function Qi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Is(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ps(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function vD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){P(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Is(n,a)):P(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qi(n,i)):o.trackChildChange(Ps(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ae,(r,s)=>{n.hasChild(r)||i.trackChildChange(Is(r,s))}),n.isLeafNode()||n.forEachChild(ae,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Ps(r,s,o))}else i.trackChildChange(Qi(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?b.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.indexedFilter_=new Lf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ns.getStartPost_(e),this.endPost_=Ns.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new j(n,i))||(i=b.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=b.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(b.EMPTY_NODE);const s=this;return n.forEachChild(ae,(o,a)=>{s.matches(new j(o,a))||(r=r.updateImmediateChild(o,b.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ns(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new j(n,i))||(i=b.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=b.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=b.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(b.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,b.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;P(a.numChildren()===this.limit_,"");const l=new j(n,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=r.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(c&&!i.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(Ps(n,i,d)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Is(n,d));const m=a.updateImmediateChild(n,b.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Qi(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return i.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Is(u.name,u.node)),s.trackChildChange(Qi(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(u.name,b.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return P(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return P(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yi}hasEnd(){return this.endSet_}getIndexEndValue(){return P(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return P(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return P(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ae}copy(){const e=new Of;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wD(t){return t.loadsAllData()?new Lf(t.getIndex()):t.hasLimit()?new _D(t):new Ns(t)}function cg(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ae?n="$priority":t.index_===yD?n="$value":t.index_===Oi?n="$key":(P(t.index_ instanceof mD,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=xe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=xe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+xe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=xe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function dg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ae&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends n1{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(P(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$s("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=wa.getListenId_(e,i),a={};this.listens_[o]=a;const l=cg(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,i),Ki(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",r(f,null)}})}unlisten(e,n){const i=wa.getListenId_(e,n);delete this.listens_[i]}get(e){const n=cg(e._queryParams),i=e._path.toString(),r=new zs;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+KI(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Cs(a.responseText)}catch{Fe("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Fe("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.rootNode_=b.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(){return{value:null,children:new Map}}function f1(t,e,n){if(V(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=F(e);t.children.has(i)||t.children.set(i,xa());const r=t.children.get(i);e=K(e),f1(r,e,n)}}function Oc(t,e,n){t.value!==null?n(e,t.value):CD(t,(i,r)=>{const s=new $(e.toString()+"/"+i);Oc(r,s,n)})}function CD(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Pe(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=10*1e3,ED=30*1e3,TD=5*60*1e3;class kD{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new SD(e);const i=fg+(ED-fg)*Math.random();Yr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Pe(e,(r,s)=>{s>0&&Dt(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Yr(this.reportStats_.bind(this),Math.floor(Math.random()*2*TD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gt||(gt={}));function Ff(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Vf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=gt.ACK_USER_WRITE,this.source=Ff()}operationForChild(e){if(V(this.path)){if(this.affectedTree.value!=null)return P(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $(e));return new Ca(U(),n,this.revert)}}else return P(F(this.path)===e,"operationForChild called for unrelated child."),new Ca(K(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.source=e,this.path=n,this.type=gt.LISTEN_COMPLETE}operationForChild(e){return V(this.path)?new Ds(this.source,U()):new Ds(this.source,K(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=gt.OVERWRITE}operationForChild(e){return V(this.path)?new Jn(this.source,U(),this.snap.getImmediateChild(e)):new Jn(this.source,K(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=gt.MERGE}operationForChild(e){if(V(this.path)){const n=this.children.subtree(new $(e));return n.isEmpty()?null:n.value?new Jn(this.source,U(),n.value):new qi(this.source,U(),n)}else return P(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new qi(this.source,K(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(V(e))return this.isFullyInitialized()&&!this.filtered_;const n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function PD(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(vD(o.childName,o.snapshotNode))}),Er(t,r,"child_removed",e,i,n),Er(t,r,"child_added",e,i,n),Er(t,r,"child_moved",s,i,n),Er(t,r,"child_changed",e,i,n),Er(t,r,"value",e,i,n),r}function Er(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>DD(t,a,l)),o.forEach(a=>{const l=ND(t,a,s);r.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function ND(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function DD(t,e,n){if(e.childName==null||n.childName==null)throw or("Should only compare child_ events.");const i=new j(e.childName,e.snapshotNode),r=new j(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t,e){return{eventCache:t,serverCache:e}}function Qr(t,e,n,i){return Ja(new ei(e,n,i),t.serverCache)}function h1(t,e,n,i){return Ja(t.eventCache,new ei(e,n,i))}function Fc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ti(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au;const AD=()=>(au||(au=new $e(mN)),au);class H{static fromObject(e){let n=new H(null);return Pe(e,(i,r)=>{n=n.set(new $(i),r)}),n}constructor(e,n=AD()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:U(),value:this.value};if(V(e))return null;{const i=F(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(K(e),n);return s!=null?{path:oe(new $(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(V(e))return this;{const n=F(e),i=this.children.get(n);return i!==null?i.subtree(K(e)):new H(null)}}set(e,n){if(V(e))return new H(n,this.children);{const i=F(e),s=(this.children.get(i)||new H(null)).set(K(e),n),o=this.children.insert(i,s);return new H(this.value,o)}}remove(e){if(V(e))return this.children.isEmpty()?new H(null):new H(null,this.children);{const n=F(e),i=this.children.get(n);if(i){const r=i.remove(K(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new H(null):new H(this.value,s)}else return this}}get(e){if(V(e))return this.value;{const n=F(e),i=this.children.get(n);return i?i.get(K(e)):null}}setTree(e,n){if(V(e))return n;{const i=F(e),s=(this.children.get(i)||new H(null)).setTree(K(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new H(this.value,o)}}fold(e){return this.fold_(U(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(oe(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,U(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(V(e))return null;{const s=F(e),o=this.children.get(s);return o?o.findOnPath_(K(e),oe(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,U(),n)}foreachOnPath_(e,n,i){if(V(e))return this;{this.value&&i(n,this.value);const r=F(e),s=this.children.get(r);return s?s.foreachOnPath_(K(e),oe(n,r),i):new H(null)}}foreach(e){this.foreach_(U(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(oe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.writeTree_=e}static empty(){return new _t(new H(null))}}function qr(t,e,n){if(V(e))return new _t(new H(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=We(r,e);return s=s.updateChild(o,n),new _t(t.writeTree_.set(r,s))}else{const r=new H(n),s=t.writeTree_.setTree(e,r);return new _t(s)}}}function jc(t,e,n){let i=t;return Pe(n,(r,s)=>{i=qr(i,oe(e,r),s)}),i}function hg(t,e){if(V(e))return _t.empty();{const n=t.writeTree_.setTree(e,new H(null));return new _t(n)}}function Vc(t,e){return si(t,e)!=null}function si(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(We(n.path,e)):null}function pg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ae,(i,r)=>{e.push(new j(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new j(i,r.value))}),e}function mn(t,e){if(V(e))return t;{const n=si(t,e);return n!=null?new _t(new H(n)):new _t(t.writeTree_.subtree(e))}}function Bc(t){return t.writeTree_.isEmpty()}function Xi(t,e){return p1(U(),t.writeTree_,e)}function p1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(P(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=p1(oe(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(oe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t,e){return v1(e,t)}function RD(t,e,n,i,r){P(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=qr(t.visibleWrites,e,n)),t.lastWriteId=i}function MD(t,e,n,i){P(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=jc(t.visibleWrites,e,n),t.lastWriteId=i}function bD(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function LD(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);P(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&OD(a,i.path)?r=!1:st(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return FD(t),!0;if(i.snap)t.visibleWrites=hg(t.visibleWrites,i.path);else{const a=i.children;Pe(a,l=>{t.visibleWrites=hg(t.visibleWrites,oe(i.path,l))})}return!0}else return!1}function OD(t,e){if(t.snap)return st(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&st(oe(t.path,n),e))return!0;return!1}function FD(t){t.visibleWrites=m1(t.allWrites,jD,U()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jD(t){return t.visible}function m1(t,e,n){let i=_t.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)st(n,o)?(a=We(n,o),i=qr(i,a,s.snap)):st(o,n)&&(a=We(o,n),i=qr(i,U(),s.snap.getChild(a)));else if(s.children){if(st(n,o))a=We(n,o),i=jc(i,a,s.children);else if(st(o,n))if(a=We(o,n),V(a))i=jc(i,U(),s.children);else{const l=Ki(s.children,F(a));if(l){const u=l.getChild(K(a));i=qr(i,U(),u)}}}else throw or("WriteRecord should have .snap or .children")}}return i}function g1(t,e,n,i,r){if(!i&&!r){const s=si(t.visibleWrites,e);if(s!=null)return s;{const o=mn(t.visibleWrites,e);if(Bc(o))return n;if(n==null&&!Vc(o,U()))return null;{const a=n||b.EMPTY_NODE;return Xi(o,a)}}}else{const s=mn(t.visibleWrites,e);if(!r&&Bc(s))return n;if(!r&&n==null&&!Vc(s,U()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(st(u.path,e)||st(e,u.path))},a=m1(t.allWrites,o,e),l=n||b.EMPTY_NODE;return Xi(a,l)}}}function VD(t,e,n){let i=b.EMPTY_NODE;const r=si(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ae,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=mn(t.visibleWrites,e);return n.forEachChild(ae,(o,a)=>{const l=Xi(mn(s,new $(o)),a);i=i.updateImmediateChild(o,l)}),pg(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=mn(t.visibleWrites,e);return pg(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function BD(t,e,n,i,r){P(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=oe(e,n);if(Vc(t.visibleWrites,s))return null;{const o=mn(t.visibleWrites,s);return Bc(o)?r.getChild(n):Xi(o,r.getChild(n))}}function zD(t,e,n,i){const r=oe(e,n),s=si(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=mn(t.visibleWrites,r);return Xi(o,i.getNode().getImmediateChild(n))}else return null}function UD(t,e){return si(t.visibleWrites,e)}function WD(t,e,n,i,r,s,o){let a;const l=mn(t.visibleWrites,e),u=si(l,U());if(u!=null)a=u;else if(n!=null)a=Xi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let h=f.getNext();for(;h&&c.length<r;)d(h,i)!==0&&c.push(h),h=f.getNext();return c}else return[]}function $D(){return{visibleWrites:_t.empty(),allWrites:[],lastWriteId:-1}}function Sa(t,e,n,i){return g1(t.writeTree,t.treePath,e,n,i)}function zf(t,e){return VD(t.writeTree,t.treePath,e)}function mg(t,e,n,i){return BD(t.writeTree,t.treePath,e,n,i)}function Ea(t,e){return UD(t.writeTree,oe(t.treePath,e))}function HD(t,e,n,i,r,s){return WD(t.writeTree,t.treePath,e,n,i,r,s)}function Uf(t,e,n){return zD(t.writeTree,t.treePath,e,n)}function y1(t,e){return v1(oe(t.treePath,e),t.writeTree)}function v1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;P(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),P(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Ps(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Is(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Qi(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Ps(i,e.snapshotNode,r.oldSnap));else throw or("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const _1=new KD;class Wf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ei(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Uf(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ti(this.viewCache_),s=HD(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){return{filter:t}}function QD(t,e){P(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),P(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function qD(t,e,n,i,r){const s=new GD;let o,a;if(n.type===gt.OVERWRITE){const u=n;u.source.fromUser?o=zc(t,e,u.path,u.snap,i,r,s):(P(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!V(u.path),o=Ta(t,e,u.path,u.snap,i,r,a,s))}else if(n.type===gt.MERGE){const u=n;u.source.fromUser?o=ZD(t,e,u.path,u.children,i,r,s):(P(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Uc(t,e,u.path,u.children,i,r,a,s))}else if(n.type===gt.ACK_USER_WRITE){const u=n;u.revert?o=tA(t,e,u.path,i,r,s):o=JD(t,e,u.path,u.affectedTree,i,r,s)}else if(n.type===gt.LISTEN_COMPLETE)o=eA(t,e,n.path,i,s);else throw or("Unknown operation type: "+n.type);const l=s.getChanges();return XD(e,o,l),{viewCache:o,changes:l}}function XD(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Fc(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(d1(Fc(e)))}}function w1(t,e,n,i,r,s){const o=e.eventCache;if(Ea(i,n)!=null)return e;{let a,l;if(V(n))if(P(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ti(e),c=u instanceof b?u:b.EMPTY_NODE,d=zf(i,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Sa(i,ti(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=F(n);if(u===".priority"){P(wn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=mg(i,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=K(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=mg(i,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Uf(i,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,r,s):a=o.getNode()}}return Qr(e,a,o.isFullyInitialized()||V(n),t.filter.filtersNodes())}}function Ta(t,e,n,i,r,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(V(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),h,null)}else{const h=F(n);if(!l.isCompleteForPath(n)&&wn(n)>1)return e;const y=K(n),w=l.getNode().getImmediateChild(h).updateChild(y,i);h===".priority"?u=c.updatePriority(l.getNode(),w):u=c.updateChild(l.getNode(),h,w,y,_1,null)}const d=h1(e,u,l.isFullyInitialized()||V(n),c.filtersNodes()),f=new Wf(r,d,s);return w1(t,d,n,r,f,a)}function zc(t,e,n,i,r,s,o){const a=e.eventCache;let l,u;const c=new Wf(r,e,s);if(V(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Qr(e,u,!0,t.filter.filtersNodes());else{const d=F(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=Qr(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=K(n),h=a.getNode().getImmediateChild(d);let y;if(V(f))y=i;else{const m=c.getCompleteChild(d);m!=null?Af(f)===".priority"&&m.getChild(r1(f)).isEmpty()?y=m:y=m.updateChild(f,i):y=b.EMPTY_NODE}if(h.equals(y))l=e;else{const m=t.filter.updateChild(a.getNode(),d,y,f,c,o);l=Qr(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function gg(t,e){return t.eventCache.isCompleteForChild(e)}function ZD(t,e,n,i,r,s,o){let a=e;return i.foreach((l,u)=>{const c=oe(n,l);gg(e,F(c))&&(a=zc(t,a,c,u,r,s,o))}),i.foreach((l,u)=>{const c=oe(n,l);gg(e,F(c))||(a=zc(t,a,c,u,r,s,o))}),a}function yg(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Uc(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;V(n)?u=i:u=new H(null).setTree(n,i);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),y=yg(t,h,f);l=Ta(t,l,new $(d),y,r,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const y=e.serverCache.getNode().getImmediateChild(d),m=yg(t,y,f);l=Ta(t,l,new $(d),m,r,s,o,a)}}),l}function JD(t,e,n,i,r,s,o){if(Ea(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(V(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ta(t,e,n,l.getNode().getChild(n),r,s,a,o);if(V(n)){let u=new H(null);return l.getNode().forEachChild(Oi,(c,d)=>{u=u.set(new $(c),d)}),Uc(t,e,n,u,r,s,a,o)}else return e}else{let u=new H(null);return i.foreach((c,d)=>{const f=oe(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Uc(t,e,n,u,r,s,a,o)}}function eA(t,e,n,i,r){const s=e.serverCache,o=h1(e,s.getNode(),s.isFullyInitialized()||V(n),s.isFiltered());return w1(t,o,n,i,_1,r)}function tA(t,e,n,i,r,s){let o;if(Ea(i,n)!=null)return e;{const a=new Wf(i,e,r),l=e.eventCache.getNode();let u;if(V(n)||F(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Sa(i,ti(e));else{const d=e.serverCache.getNode();P(d instanceof b,"serverChildren would be complete if leaf node"),c=zf(i,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=F(n);let d=Uf(i,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,K(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,b.EMPTY_NODE,K(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Sa(i,ti(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ea(i,U())!=null,Qr(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Lf(i.getIndex()),s=wD(i);this.processor_=YD(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(b.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(b.EMPTY_NODE,a.getNode(),null),c=new ei(l,o.isFullyInitialized(),r.filtersNodes()),d=new ei(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ja(d,c),this.eventGenerator_=new ID(this.query_)}get query(){return this.query_}}function iA(t){return t.viewCache_.serverCache.getNode()}function rA(t,e){const n=ti(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!V(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function vg(t){return t.eventRegistrations_.length===0}function sA(t,e){t.eventRegistrations_.push(e)}function _g(t,e,n){const i=[];if(n){P(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function wg(t,e,n,i){e.type===gt.MERGE&&e.source.queryId!==null&&(P(ti(t.viewCache_),"We should always have a full cache before handling merges"),P(Fc(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=qD(t.processor_,r,e,n,i);return QD(t.processor_,s.viewCache),P(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,x1(t,s.changes,s.viewCache.eventCache.getNode(),null)}function oA(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ae,(s,o)=>{i.push(Qi(s,o))}),n.isFullyInitialized()&&i.push(d1(n.getNode())),x1(t,i,n.getNode(),e)}function x1(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return PD(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka;class aA{constructor(){this.views=new Map}}function lA(t){P(!ka,"__referenceConstructor has already been defined"),ka=t}function uA(){return P(ka,"Reference.ts has not been loaded"),ka}function cA(t){return t.views.size===0}function $f(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return P(s!=null,"SyncTree gave us an op for an invalid query."),wg(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(wg(o,e,n,i));return s}}function dA(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Sa(n,r?i:null),l=!1;a?l=!0:i instanceof b?(a=zf(n,i),l=!1):(a=b.EMPTY_NODE,l=!1);const u=Ja(new ei(a,l,!1),new ei(i,r,!1));return new nA(e,u)}return o}function fA(t,e,n,i,r,s){const o=dA(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),sA(o,n),oA(o,n)}function hA(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=xn(t);if(r==="default")for(const[l,u]of t.views.entries())o=o.concat(_g(u,n,i)),vg(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(r);l&&(o=o.concat(_g(l,n,i)),vg(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!xn(t)&&s.push(new(uA())(e._repo,e._path)),{removed:s,events:o}}function C1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Fi(t,e){let n=null;for(const i of t.views.values())n=n||rA(i,e);return n}function S1(t,e){if(e._queryParams.loadsAllData())return el(t);{const i=e._queryIdentifier;return t.views.get(i)}}function E1(t,e){return S1(t,e)!=null}function xn(t){return el(t)!=null}function el(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia;function pA(t){P(!Ia,"__referenceConstructor has already been defined"),Ia=t}function mA(){return P(Ia,"Reference.ts has not been loaded"),Ia}let gA=1;class xg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new H(null),this.pendingWriteTree_=$D(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function T1(t,e,n,i,r){return RD(t.pendingWriteTree_,e,n,i,r),r?ur(t,new Jn(Ff(),e,n)):[]}function yA(t,e,n,i){MD(t.pendingWriteTree_,e,n,i);const r=H.fromObject(n);return ur(t,new qi(Ff(),e,r))}function rn(t,e,n=!1){const i=bD(t.pendingWriteTree_,e);if(LD(t.pendingWriteTree_,e)){let s=new H(null);return i.snap!=null?s=s.set(U(),!0):Pe(i.children,o=>{s=s.set(new $(o),!0)}),ur(t,new Ca(i.path,s,n))}else return[]}function tl(t,e,n){return ur(t,new Jn(jf(),e,n))}function vA(t,e,n){const i=H.fromObject(n);return ur(t,new qi(jf(),e,i))}function _A(t,e){return ur(t,new Ds(jf(),e))}function wA(t,e,n){const i=Gf(t,n);if(i){const r=Kf(i),s=r.path,o=r.queryId,a=We(s,e),l=new Ds(Vf(o),a);return Yf(t,s,l)}else return[]}function Wc(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||E1(o,e))){const l=hA(o,e,n,i);cA(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!r){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>xn(h));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=SA(f);for(let y=0;y<h.length;++y){const m=h[y],w=m.query,p=P1(t,m);t.listenProvider_.startListening(Xr(w),Pa(t,w),p.hashFn,p.onComplete)}}}!d&&u.length>0&&!i&&(c?t.listenProvider_.stopListening(Xr(e),null):u.forEach(f=>{const h=t.queryToTagMap.get(nl(f));t.listenProvider_.stopListening(Xr(f),h)}))}EA(t,u)}return a}function xA(t,e,n,i){const r=Gf(t,i);if(r!=null){const s=Kf(r),o=s.path,a=s.queryId,l=We(o,e),u=new Jn(Vf(a),l,n);return Yf(t,o,u)}else return[]}function CA(t,e,n,i){const r=Gf(t,i);if(r){const s=Kf(r),o=s.path,a=s.queryId,l=We(o,e),u=H.fromObject(n),c=new qi(Vf(a),l,u);return Yf(t,o,c)}else return[]}function Cg(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(f,h)=>{const y=We(f,r);s=s||Fi(h,y),o=o||xn(h)});let a=t.syncPointTree_.get(r);a?(o=o||xn(a),s=s||Fi(a,U())):(a=new aA,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=b.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((h,y)=>{const m=Fi(y,U());m&&(s=s.updateImmediateChild(h,m))}));const u=E1(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=nl(e);P(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=TA();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const c=Bf(t.pendingWriteTree_,r);let d=fA(a,e,n,c,s,l);if(!u&&!o&&!i){const f=S1(a,e);d=d.concat(kA(t,e,f))}return d}function Hf(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=We(o,e),u=Fi(a,l);if(u)return u});return g1(r,e,s,n,!0)}function ur(t,e){return k1(e,t.syncPointTree_,null,Bf(t.pendingWriteTree_,U()))}function k1(t,e,n,i){if(V(t.path))return I1(t,e,n,i);{const r=e.get(U());n==null&&r!=null&&(n=Fi(r,U()));let s=[];const o=F(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=y1(i,o);s=s.concat(k1(a,l,u,c))}return r&&(s=s.concat($f(r,t,i,n))),s}}function I1(t,e,n,i){const r=e.get(U());n==null&&r!=null&&(n=Fi(r,U()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=y1(i,o),c=t.operationForChild(o);c&&(s=s.concat(I1(c,a,l,u)))}),r&&(s=s.concat($f(r,t,i,n))),s}function P1(t,e){const n=e.query,i=Pa(t,n);return{hashFn:()=>(iA(e)||b.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?wA(t,n._path,i):_A(t,n._path);{const s=vN(r,n);return Wc(t,n,null,s)}}}}function Pa(t,e){const n=nl(e);return t.queryToTagMap.get(n)}function nl(t){return t._path.toString()+"$"+t._queryIdentifier}function Gf(t,e){return t.tagToQueryMap.get(e)}function Kf(t){const e=t.indexOf("$");return P(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $(t.substr(0,e))}}function Yf(t,e,n){const i=t.syncPointTree_.get(e);P(i,"Missing sync point for query tag that we're tracking");const r=Bf(t.pendingWriteTree_,e);return $f(i,n,r,null)}function SA(t){return t.fold((e,n,i)=>{if(n&&xn(n))return[el(n)];{let r=[];return n&&(r=C1(n)),Pe(i,(s,o)=>{r=r.concat(o)}),r}})}function Xr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(mA())(t._repo,t._path):t}function EA(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=nl(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function TA(){return gA++}function kA(t,e,n){const i=e._path,r=Pa(t,e),s=P1(t,n),o=t.listenProvider_.startListening(Xr(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)P(!xn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!V(u)&&c&&xn(c))return[el(c).query];{let f=[];return c&&(f=f.concat(C1(c).map(h=>h.query))),Pe(d,(h,y)=>{f=f.concat(y)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(Xr(c),Pa(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Qf(n)}node(){return this.node_}}class qf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=oe(this.path_,e);return new qf(this.syncTree_,n)}node(){return Hf(this.syncTree_,this.path_)}}const IA=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Sg=function(t,e,n){if(!t||typeof t!="object")return t;if(P(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return PA(t[".sv"],e,n);if(typeof t[".sv"]=="object")return NA(t[".sv"],e);P(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},PA=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:P(!1,"Unexpected server value: "+t)}},NA=function(t,e,n){t.hasOwnProperty("increment")||P(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&P(!1,"Unexpected increment value: "+i);const r=e.node();if(P(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},N1=function(t,e,n,i){return Xf(e,new qf(n,t),i)},D1=function(t,e,n){return Xf(t,new Qf(e),n)};function Xf(t,e,n){const i=t.getPriority().val(),r=Sg(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Sg(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new ye(a,we(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new ye(r))),o.forEachChild(ae,(a,l)=>{const u=Xf(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Jf(t,e){let n=e instanceof $?e:new $(e),i=t,r=F(n);for(;r!==null;){const s=Ki(i.node.children,r)||{children:{},childCount:0};i=new Zf(r,i,s),n=K(n),r=F(n)}return i}function cr(t){return t.node.value}function A1(t,e){t.node.value=e,$c(t)}function R1(t){return t.node.childCount>0}function DA(t){return cr(t)===void 0&&!R1(t)}function il(t,e){Pe(t.node.children,(n,i)=>{e(new Zf(n,t,i))})}function M1(t,e,n,i){n&&!i&&e(t),il(t,r=>{M1(r,e,!0,i)}),n&&i&&e(t)}function AA(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Gs(t){return new $(t.parent===null?t.name:Gs(t.parent)+"/"+t.name)}function $c(t){t.parent!==null&&RA(t.parent,t.name,t)}function RA(t,e,n){const i=DA(n),r=Dt(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,$c(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,$c(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=/[\[\].#$\/\u0000-\u001F\u007F]/,bA=/[\[\].#$\u0000-\u001F\u007F]/,lu=10*1024*1024,eh=function(t){return typeof t=="string"&&t.length!==0&&!MA.test(t)},b1=function(t){return typeof t=="string"&&t.length!==0&&!bA.test(t)},LA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),b1(t)},OA=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!kf(t)||t&&typeof t=="object"&&Dt(t,".sv")},L1=function(t,e,n,i){i&&e===void 0||rl(qa(t,"value"),e,n)},rl=function(t,e,n){const i=n instanceof $?new ZN(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+bn(i));if(typeof e=="function")throw new Error(t+"contains a function "+bn(i)+" with contents = "+e.toString());if(kf(e))throw new Error(t+"contains "+e.toString()+" "+bn(i));if(typeof e=="string"&&e.length>lu/3&&Xa(e)>lu)throw new Error(t+"contains a string greater than "+lu+" utf8 bytes "+bn(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Pe(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!eh(o)))throw new Error(t+" contains an invalid key ("+o+") "+bn(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JN(i,o),rl(t,a,i),eD(i)}),r&&s)throw new Error(t+' contains ".value" child '+bn(i)+" in addition to actual children.")}},FA=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=ks(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!eh(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XN);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&st(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},jA=function(t,e,n,i){if(i&&e===void 0)return;const r=qa(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Pe(e,(o,a)=>{const l=new $(o);if(rl(r,a,oe(n,l)),Af(l)===".priority"&&!OA(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),FA(r,s)},O1=function(t,e,n,i){if(!(i&&n===void 0)&&!b1(n))throw new Error(qa(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},VA=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),O1(t,e,n,i)},th=function(t,e){if(F(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},BA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!eh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LA(n))throw new Error(qa(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sl(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!Rf(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function F1(t,e,n){sl(t,n),j1(t,i=>Rf(i,e))}function xt(t,e,n){sl(t,n),j1(t,i=>st(i,e)||st(e,i))}function j1(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(UA(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function UA(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Gn&&Te("event: "+n.toString()),lr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="repo_interrupt",$A=25;class HA{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xa(),this.transactionQueueTree_=new Zf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function GA(t,e,n){if(t.stats_=Nf(t.repoInfo_),t.forceRestClient_||CN())t.server_=new wa(t.repoInfo_,(i,r,s,o)=>{Eg(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Tg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Ft(t.repoInfo_,e,(i,r,s,o)=>{Eg(t,i,r,s,o)},i=>{Tg(t,i)},i=>{KA(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=IN(t.repoInfo_,()=>new kD(t.stats_,t.server_)),t.infoData_=new xD,t.infoSyncTree_=new xg({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=tl(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),nh(t,"connected",!1),t.serverSyncTree_=new xg({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const u=o(a,l);xt(t.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function V1(t){const n=t.infoData_.getNode(new $(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ol(t){return IA({timestamp:V1(t)})}function Eg(t,e,n,i,r){t.dataUpdateCount++;const s=new $(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=ha(n,u=>we(u));o=CA(t.serverSyncTree_,s,l,r)}else{const l=we(n);o=xA(t.serverSyncTree_,s,l,r)}else if(i){const l=ha(n,u=>we(u));o=vA(t.serverSyncTree_,s,l)}else{const l=we(n);o=tl(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Zi(t,s)),xt(t.eventQueue_,a,o)}function Tg(t,e){nh(t,"connected",e),e===!1&&qA(t)}function KA(t,e){Pe(e,(n,i)=>{nh(t,n,i)})}function nh(t,e,n){const i=new $("/.info/"+e),r=we(n);t.infoData_.updateSnapshot(i,r);const s=tl(t.infoSyncTree_,i,r);xt(t.eventQueue_,i,s)}function ih(t){return t.nextWriteId_++}function YA(t,e,n,i,r){al(t,"set",{path:e.toString(),value:n,priority:i});const s=ol(t),o=we(n,i),a=Hf(t.serverSyncTree_,e),l=D1(o,a,s),u=ih(t),c=T1(t.serverSyncTree_,e,l,u,!0);sl(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const y=f==="ok";y||Fe("set at "+e+" failed: "+f);const m=rn(t.serverSyncTree_,u,!y);xt(t.eventQueue_,e,m),Hc(t,r,f,h)});const d=sh(t,e);Zi(t,d),xt(t.eventQueue_,d,[])}function QA(t,e,n,i){al(t,"update",{path:e.toString(),value:n});let r=!0;const s=ol(t),o={};if(Pe(n,(a,l)=>{r=!1,o[a]=N1(oe(e,a),we(l),t.serverSyncTree_,s)}),r)Te("update() called with empty data.  Don't do anything."),Hc(t,i,"ok",void 0);else{const a=ih(t),l=yA(t.serverSyncTree_,e,o,a);sl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const d=u==="ok";d||Fe("update at "+e+" failed: "+u);const f=rn(t.serverSyncTree_,a,!d),h=f.length>0?Zi(t,e):e;xt(t.eventQueue_,h,f),Hc(t,i,u,c)}),Pe(n,u=>{const c=sh(t,oe(e,u));Zi(t,c)}),xt(t.eventQueue_,e,[])}}function qA(t){al(t,"onDisconnectEvents");const e=ol(t),n=xa();Oc(t.onDisconnect_,U(),(r,s)=>{const o=N1(r,s,t.serverSyncTree_,e);f1(n,r,o)});let i=[];Oc(n,U(),(r,s)=>{i=i.concat(tl(t.serverSyncTree_,r,s));const o=sh(t,r);Zi(t,o)}),t.onDisconnect_=xa(),xt(t.eventQueue_,U(),i)}function XA(t,e,n){let i;F(e._path)===".info"?i=Cg(t.infoSyncTree_,e,n):i=Cg(t.serverSyncTree_,e,n),F1(t.eventQueue_,e._path,i)}function kg(t,e,n){let i;F(e._path)===".info"?i=Wc(t.infoSyncTree_,e,n):i=Wc(t.serverSyncTree_,e,n),F1(t.eventQueue_,e._path,i)}function ZA(t){t.persistentConnection_&&t.persistentConnection_.interrupt(WA)}function al(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Te(n,...e)}function Hc(t,e,n,i){e&&lr(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function B1(t,e,n){return Hf(t.serverSyncTree_,e,n)||b.EMPTY_NODE}function rh(t,e=t.transactionQueueTree_){if(e||ll(t,e),cr(e)){const n=U1(t,e);P(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&JA(t,Gs(e),n)}else R1(e)&&il(e,n=>{rh(t,n)})}function JA(t,e,n){const i=n.map(u=>u.currentWriteId),r=B1(t,e,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const c=n[u];P(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=We(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{al(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(rn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ll(t,Jf(t.transactionQueueTree_,e)),rh(t,t.transactionQueueTree_),xt(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)lr(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Fe("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Zi(t,e)}},o)}function Zi(t,e){const n=z1(t,e),i=Gs(n),r=U1(t,n);return eR(t,r,i),i}function eR(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=We(n,l.path);let c=!1,d;if(P(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,r=r.concat(rn(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=$A)c=!0,d="maxretry",r=r.concat(rn(t.serverSyncTree_,l.currentWriteId,!0));else{const f=B1(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){rl("transaction failed: Data returned ",h,l.path);let y=we(h);typeof h=="object"&&h!=null&&Dt(h,".priority")||(y=y.updatePriority(f.getPriority()));const w=l.currentWriteId,p=ol(t),g=D1(y,f,p);l.currentOutputSnapshotRaw=y,l.currentOutputSnapshotResolved=g,l.currentWriteId=ih(t),o.splice(o.indexOf(w),1),r=r.concat(T1(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),r=r.concat(rn(t.serverSyncTree_,w,!0))}else c=!0,d="nodata",r=r.concat(rn(t.serverSyncTree_,l.currentWriteId,!0))}xt(t.eventQueue_,n,r),r=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}ll(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)lr(i[a]);rh(t,t.transactionQueueTree_)}function z1(t,e){let n,i=t.transactionQueueTree_;for(n=F(e);n!==null&&cr(i)===void 0;)i=Jf(i,n),e=K(e),n=F(e);return i}function U1(t,e){const n=[];return W1(t,e,n),n.sort((i,r)=>i.order-r.order),n}function W1(t,e,n){const i=cr(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);il(e,r=>{W1(t,r,n)})}function ll(t,e){const n=cr(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,A1(e,n.length>0?n:void 0)}il(e,i=>{ll(t,i)})}function sh(t,e){const n=Gs(z1(t,e)),i=Jf(t.transactionQueueTree_,e);return AA(i,r=>{uu(t,r)}),uu(t,i),M1(i,r=>{uu(t,r)}),n}function uu(t,e){const n=cr(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(P(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(P(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(rn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?A1(e,void 0):n.length=s+1,xt(t.eventQueue_,Gs(e),r);for(let o=0;o<i.length;o++)lr(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function nR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Fe(`Invalid query segment '${n}' in query '${t}'`)}return e}const Ig=function(t,e){const n=iR(t),i=n.namespace;n.domain==="firebase.com"&&Ht(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Ht("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||hN();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Q_(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new $(n.pathString)}},iR=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(r=tR(t.substring(c,d)));const f=nR(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=i}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",rR=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Pg.charAt(n%64),n=Math.floor(n/64);P(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=Pg.charAt(e[r]);return P(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xe(this.snapshot.exportVal())}}class H1{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return P(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return V(this._path)?null:Af(this._path)}get ref(){return new Kt(this._repo,this._path)}get _queryIdentifier(){const e=dg(this._queryParams),n=If(e);return n==="{}"?"default":n}get _queryObject(){return dg(this._queryParams)}isEqual(e){if(e=ar(e),!(e instanceof oh))return!1;const n=this._repo===e._repo,i=Rf(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+qN(this._path)}}class Kt extends oh{constructor(e,n){super(e,n,new Of,!1)}get parent(){const e=r1(this._path);return e===null?null:new Kt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class As{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new $(e),i=Ji(this.ref,e);return new As(this._node.getChild(n),i,ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new As(r,Ji(this.ref,i),ae)))}hasChild(e){const n=new $(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Tr(t,e){return t=ar(t),t._checkNotDeleted("ref"),e!==void 0?Ji(t._root,e):t._root}function Ji(t,e){return t=ar(t),F(t._path)===null?VA("child","path",e,!1):O1("child","path",e,!1),new Kt(t._repo,oe(t._path,e))}function oR(t,e){t=ar(t),th("push",t._path),L1("push",e,t._path,!0);const n=V1(t._repo),i=rR(n),r=Ji(t,i),s=Ji(t,i);let o;return e!=null?o=ah(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function aR(t){return th("remove",t._path),ah(t,null)}function ah(t,e){t=ar(t),th("set",t._path),L1("set",e,t._path,!1);const n=new zs;return YA(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function lR(t,e){jA("update",e,t._path,!1);const n=new zs;return QA(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class lh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new $1("value",this,new As(e.snapshotNode,new Kt(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new H1(this,e,n):null}matches(e){return e instanceof lh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class uh{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new H1(this,e,n):null}createEvent(e,n){P(e.childName!=null,"Child events should have a childName.");const i=Ji(new Kt(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new $1(e.type,this,new As(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof uh?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function uR(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const l=n,u=(c,d)=>{kg(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new sR(n,s||void 0),a=e==="value"?new lh(o):new uh(e,o);return XA(t._repo,t,a),()=>kg(t._repo,t,a)}function cR(t,e,n,i){return uR(t,"value",e,n,i)}lA(Kt);pA(Kt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="FIREBASE_DATABASE_EMULATOR_HOST",Gc={};let fR=!1;function hR(t,e,n,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),o=Ef(s);t.repoInfo_=new Q_(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function pR(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Ht("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Ig(s,r),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[dR]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=Ig(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const c=r&&l?new Li(Li.OWNER):new EN(t.name,t.options,e);BA("Invalid Firebase Database URL",o),V(o.path)||Ht("Database URL must point to the root of a Firebase Database (not including a child path).");const d=gR(a,t,c,new SN(t,n));return new yR(d,t)}function mR(t,e){const n=Gc[e];(!n||n[t.key]!==t)&&Ht(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ZA(t),delete n[t.key]}function gR(t,e,n,i){let r=Gc[e.name];r||(r={},Gc[e.name]=r);let s=r[t.toURLString()];return s&&Ht("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new HA(t,fR,n,i),r[t.toURLString()]=s,s}class yR{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kt(this._repo,U())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ht("Cannot call "+e+" on a deleted database.")}}function vR(t=XP(),e){const n=GP(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=RI("database");i&&_R(n,...i)}return n}function _R(t,e,n,i={}){t=ar(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&pa(i,s.repoInfo_.emulatorOptions))return;Ht("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Ht('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Li(Li.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:bI(i.mockUserToken,t.app.options.projectId);o=new Li(a)}Ef(e)&&(MI(e),FI("Database",!0)),hR(s,r,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){lN(qP),ga(new Ss("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return pR(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Mi(Ym,Qm,t),Mi(Ym,Qm,"esm2020")}Ft.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ft.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wR();var xR="firebase",CR="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(xR,CR,"app");const SR={apiKey:"AIzaSyAgfhlVrNGwhdux6qbmMuSx4wotxMy0pGU",authDomain:"family-hub-dashboard.firebaseapp.com",databaseURL:"https://family-hub-dashboard-default-rtdb.firebaseio.com",projectId:"family-hub-dashboard",storageBucket:"family-hub-dashboard.firebasestorage.app",messagingSenderId:"237122444853",appId:"1:237122444853:web:8d2836b0aea34422d0db7c"},ER=R_(SR),kr=vR(ER);function cu(t,e=[]){const[n,i]=S.useState(e),[r,s]=S.useState(!0),[o,a]=S.useState(null);return S.useEffect(()=>{const f=Tr(kr,t),h=cR(f,y=>{try{const m=y.val();if(console.log(`Firebase onValue for ${t}:`,m),m){let w;Array.isArray(m)?w=m:w=Object.entries(m).map(([p,g])=>({...g,firebaseId:p,id:g.id||p})),console.log(`Converted to array for ${t}:`,w),i(w)}else console.log(`No data found for ${t}, using default:`,e),i(e);s(!1),a(null)}catch(m){console.error("Firebase sync error:",m),a(m),s(!1)}},y=>{console.error("Firebase listener error:",y),a(y),s(!1)});return()=>h()},[t,e]),{data:n,loading:r,error:o,updateData:async f=>{try{console.log(`Updating data for ${t}:`,f);const h=Tr(kr,t);await ah(h,f),console.log(`Data updated successfully for ${t}`)}catch(h){console.error("Firebase update error:",h),a(h)}},addItem:async f=>{try{console.log(`Adding item to ${t}:`,f);const h=Tr(kr,t),y=await oR(h,f);console.log(`Item added successfully to ${t}, key:`,y.key)}catch(h){console.error("Firebase add error:",h),a(h)}},updateItem:async(f,h)=>{try{const y=n.find(p=>p.id===f),m=(y==null?void 0:y.firebaseId)||f;console.log(`Updating item ${f} using Firebase key ${m}:`,h);const w=Tr(kr,`${t}/${m}`);await lR(w,h),console.log(`Item updated successfully: ${m}`)}catch(y){console.error("Firebase item update error:",y),a(y)}},removeItem:async f=>{try{const h=n.find(w=>w.id===f),y=(h==null?void 0:h.firebaseId)||f;console.log(`Removing item ${f} using Firebase key ${y}`);const m=Tr(kr,`${t}/${y}`);await aR(m),console.log(`Item removed successfully: ${y}`)}catch(h){console.error("Firebase remove error:",h),a(h)}}}}function TR(){const[t,e]=S.useState("ALERTS"),{data:n,updateData:i,addItem:r,updateItem:s,removeItem:o,loading:a}=cu("groceryItems",[]),{data:l,updateData:u,addItem:c,updateItem:d,removeItem:f,loading:h}=cu("tasks",[]),{data:y,updateData:m,loading:w}=cu("meals",{}),p=C=>{r?r(C):i([C,...n])},g=C=>{c?c(C):u([C,...l])},v=C=>{console.log("App: saving meals data:",C),m(C)},x=typeof window<"u"&&window.innerWidth<768;return _.jsx(xI,{children:_.jsxs("div",{className:"flex flex-col min-h-screen px-2 sm:px-4 md:px-8 text-text font-sans",children:[!x&&_.jsx(CC,{}),_.jsx("div",{className:`flex-grow flex flex-col gap-3 sm:gap-6 overflow-auto ${x?"pb-[80px] pt-4":"pb-[96px]"}`,children:_.jsx(wI,{currentTab:t,groceryItems:n,setGroceryItems:i,addGroceryItem:r,updateGroceryItem:s,removeGroceryItem:o,tasks:l,setTasks:u,addTask:c,updateTask:d,removeTask:f,meals:y,setMeals:m})}),_.jsx(iI,{current:t,onNavigate:e,onSaveGrocery:p,onSaveTask:g,onSaveMeals:v,groceryItems:n})]})})}du.createRoot(document.getElementById("root")).render(_.jsx(lw.StrictMode,{children:_.jsx(TR,{})}));
