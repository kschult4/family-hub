var tw=Object.defineProperty,nw=Object.defineProperties;var iw=Object.getOwnPropertyDescriptors;var to=Object.getOwnPropertySymbols;var yh=Object.prototype.hasOwnProperty,vh=Object.prototype.propertyIsEnumerable;var ml=Math.pow,gh=(t,e,n)=>e in t?tw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||(e={}))yh.call(e,n)&&gh(t,n,e[n]);if(to)for(var n of to(e))vh.call(e,n)&&gh(t,n,e[n]);return t},F=(t,e)=>nw(t,iw(e));var it=(t,e)=>{var n={};for(var i in t)yh.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&to)for(var i of to(t))e.indexOf(i)<0&&vh.call(t,i)&&(n[i]=t[i]);return n};var pe=(t,e,n)=>new Promise((i,r)=>{var s=l=>{try{a(n.next(l))}catch(u){r(u)}},o=l=>{try{a(n.throw(l))}catch(u){r(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function rw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jg={exports:{}},ba={},Vg={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=Symbol.for("react.element"),sw=Symbol.for("react.portal"),ow=Symbol.for("react.fragment"),aw=Symbol.for("react.strict_mode"),lw=Symbol.for("react.profiler"),uw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),dw=Symbol.for("react.forward_ref"),fw=Symbol.for("react.suspense"),hw=Symbol.for("react.memo"),pw=Symbol.for("react.lazy"),_h=Symbol.iterator;function mw(t){return t===null||typeof t!="object"?null:(t=_h&&t[_h]||t["@@iterator"],typeof t=="function"?t:null)}var Bg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zg=Object.assign,Ug={};function rr(t,e,n){this.props=t,this.context=e,this.refs=Ug,this.updater=n||Bg}rr.prototype.isReactComponent={};rr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wg(){}Wg.prototype=rr.prototype;function Jc(t,e,n){this.props=t,this.context=e,this.refs=Ug,this.updater=n||Bg}var ed=Jc.prototype=new Wg;ed.constructor=Jc;zg(ed,rr.prototype);ed.isPureReactComponent=!0;var wh=Array.isArray,$g=Object.prototype.hasOwnProperty,td={current:null},Hg={key:!0,ref:!0,__self:!0,__source:!0};function Gg(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$g.call(e,i)&&!Hg.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Os,type:t,key:s,ref:o,props:r,_owner:td.current}}function gw(t,e){return{$$typeof:Os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Os}function yw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xh=/\/+/g;function gl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yw(""+t.key):e.toString(36)}function ko(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Os:case sw:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+gl(o,0):i,wh(r)?(n="",t!=null&&(n=t.replace(xh,"$&/")+"/"),ko(r,e,n,"",function(u){return u})):r!=null&&(nd(r)&&(r=gw(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(xh,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",wh(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+gl(s,a);o+=ko(s,e,n,l,r)}else if(l=mw(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+gl(s,a++),o+=ko(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function no(t,e,n){if(t==null)return t;var i=[],r=0;return ko(t,i,"","",function(s){return e.call(n,s,r++)}),i}function vw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},Io={transition:null},_w={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Io,ReactCurrentOwner:td};function Kg(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:no,forEach:function(t,e,n){no(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return no(t,function(){e++}),e},toArray:function(t){return no(t,function(e){return e})||[]},only:function(t){if(!nd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=rr;U.Fragment=ow;U.Profiler=lw;U.PureComponent=Jc;U.StrictMode=aw;U.Suspense=fw;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w;U.act=Kg;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=zg({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=td.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$g.call(e,l)&&!Hg.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:Os,type:t.type,key:r,ref:s,props:i,_owner:o}};U.createContext=function(t){return t={$$typeof:cw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uw,_context:t},t.Consumer=t};U.createElement=Gg;U.createFactory=function(t){var e=Gg.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:dw,render:t}};U.isValidElement=nd;U.lazy=function(t){return{$$typeof:pw,_payload:{_status:-1,_result:t},_init:vw}};U.memo=function(t,e){return{$$typeof:hw,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Io.transition;Io.transition={};try{t()}finally{Io.transition=e}};U.unstable_act=Kg;U.useCallback=function(t,e){return ze.current.useCallback(t,e)};U.useContext=function(t){return ze.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};U.useEffect=function(t,e){return ze.current.useEffect(t,e)};U.useId=function(){return ze.current.useId()};U.useImperativeHandle=function(t,e,n){return ze.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return ze.current.useMemo(t,e)};U.useReducer=function(t,e,n){return ze.current.useReducer(t,e,n)};U.useRef=function(t){return ze.current.useRef(t)};U.useState=function(t){return ze.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return ze.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return ze.current.useTransition()};U.version="18.3.1";Vg.exports=U;var S=Vg.exports;const ww=rw(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=S,Cw=Symbol.for("react.element"),Sw=Symbol.for("react.fragment"),Ew=Object.prototype.hasOwnProperty,Tw=xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kw={key:!0,ref:!0,__self:!0,__source:!0};function Yg(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Ew.call(e,i)&&!kw.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Cw,type:t,key:s,ref:o,props:r,_owner:Tw.current}}ba.Fragment=Sw;ba.jsx=Yg;ba.jsxs=Yg;jg.exports=ba;var _=jg.exports,yu={},Qg={exports:{}},tt={},qg={exports:{}},Xg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,M){var O=D.length;D.push(M);e:for(;0<O;){var te=O-1>>>1,_e=D[te];if(0<r(_e,M))D[te]=M,D[O]=_e,O=te;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var M=D[0],O=D.pop();if(O!==M){D[0]=O;e:for(var te=0,_e=D.length,Js=_e>>>1;te<Js;){var An=2*(te+1)-1,pl=D[An],Rn=An+1,eo=D[Rn];if(0>r(pl,O))Rn<_e&&0>r(eo,pl)?(D[te]=eo,D[Rn]=O,te=Rn):(D[te]=pl,D[An]=O,te=An);else if(Rn<_e&&0>r(eo,O))D[te]=eo,D[Rn]=O,te=Rn;else break e}}return M}function r(D,M){var O=D.sortIndex-M.sortIndex;return O!==0?O:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,m=!1,p=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var M=n(u);M!==null;){if(M.callback===null)i(u);else if(M.startTime<=D)i(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function x(D){if(p=!1,v(D),!m)if(n(l)!==null)m=!0,Zs(C);else{var M=n(u);M!==null&&ce(x,M.startTime-D)}}function C(D,M){m=!1,p&&(p=!1,g(T),T=-1),h=!0;var O=f;try{for(v(M),d=n(l);d!==null&&(!(d.expirationTime>M)||D&&!he());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var _e=te(d.expirationTime<=M);M=t.unstable_now(),typeof _e=="function"?d.callback=_e:d===n(l)&&i(l),v(M)}else i(l);d=n(l)}if(d!==null)var Js=!0;else{var An=n(u);An!==null&&ce(x,An.startTime-M),Js=!1}return Js}finally{d=null,f=O,h=!1}}var E=!1,k=null,T=-1,j=5,R=-1;function he(){return!(t.unstable_now()-R<j)}function Zt(){if(k!==null){var D=t.unstable_now();R=D;var M=!0;try{M=k(!0,D)}finally{M?Dn():(E=!1,k=null)}}else E=!1}var Dn;if(typeof y=="function")Dn=function(){y(Zt)};else if(typeof MessageChannel!="undefined"){var mr=new MessageChannel,Xs=mr.port2;mr.port1.onmessage=Zt,Dn=function(){Xs.postMessage(null)}}else Dn=function(){w(Zt,0)};function Zs(D){k=D,E||(E=!0,Dn())}function ce(D,M){T=w(function(){D(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Zs(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var O=f;f=M;try{return D()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var O=f;f=D;try{return M()}finally{f=O}},t.unstable_scheduleCallback=function(D,M,O){var te=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?te+O:te):O=te,D){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=O+_e,D={id:c++,callback:M,priorityLevel:D,startTime:O,expirationTime:_e,sortIndex:-1},O>te?(D.sortIndex=O,e(u,D),n(l)===null&&D===n(u)&&(p?(g(T),T=-1):p=!0,ce(x,O-te))):(D.sortIndex=_e,e(l,D),m||h||(m=!0,Zs(C))),D},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(D){var M=f;return function(){var O=f;f=M;try{return D.apply(this,arguments)}finally{f=O}}}})(Xg);qg.exports=Xg;var Iw=qg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=S,et=Iw;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zg=new Set,ns={};function oi(t,e){Ui(t,e),Ui(t+"Capture",e)}function Ui(t,e){for(ns[t]=e,t=0;t<e.length;t++)Zg.add(e[t])}var Ut=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),vu=Object.prototype.hasOwnProperty,Nw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ch={},Sh={};function Dw(t){return vu.call(Sh,t)?!0:vu.call(Ch,t)?!1:Nw.test(t)?Sh[t]=!0:(Ch[t]=!0,!1)}function Aw(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rw(t,e,n,i){if(e===null||typeof e=="undefined"||Aw(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var id=/[\-:]([a-z])/g;function rd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(id,rd);De[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(id,rd);De[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(id,rd);De[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function sd(t,e,n,i){var r=De.hasOwnProperty(e)?De[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rw(e,n,r,i)&&(n=null),i||r===null?Dw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var qt=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,io=Symbol.for("react.element"),fi=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),Jg=Symbol.for("react.provider"),ey=Symbol.for("react.context"),ad=Symbol.for("react.forward_ref"),wu=Symbol.for("react.suspense"),xu=Symbol.for("react.suspense_list"),ld=Symbol.for("react.memo"),tn=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),Eh=Symbol.iterator;function gr(t){return t===null||typeof t!="object"?null:(t=Eh&&t[Eh]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,yl;function Ar(t){if(yl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yl=e&&e[1]||""}return`
`+yl+t}var vl=!1;function _l(t,e){if(!t||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ar(t):""}function Mw(t){switch(t.tag){case 5:return Ar(t.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 2:case 15:return t=_l(t.type,!1),t;case 11:return t=_l(t.type.render,!1),t;case 1:return t=_l(t.type,!0),t;default:return""}}function Cu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hi:return"Fragment";case fi:return"Portal";case _u:return"Profiler";case od:return"StrictMode";case wu:return"Suspense";case xu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ey:return(t.displayName||"Context")+".Consumer";case Jg:return(t._context.displayName||"Context")+".Provider";case ad:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ld:return e=t.displayName||null,e!==null?e:Cu(t.type)||"Memo";case tn:e=t._payload,t=t._init;try{return Cu(t(e))}catch(n){}}return null}function bw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cu(e);case 8:return e===od?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ny(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Lw(t){var e=ny(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ro(t){t._valueTracker||(t._valueTracker=Lw(t))}function iy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ny(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Uo(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Su(t,e){var n=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Th(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=wn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ry(t,e){e=e.checked,e!=null&&sd(t,"checked",e,!1)}function Eu(t,e){ry(t,e);var n=wn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tu(t,e.type,wn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tu(t,e,n){(e!=="number"||Uo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Rr=Array.isArray;function Di(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+wn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ku(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ih(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(Rr(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wn(n)}}function sy(t,e){var n=wn(e.value),i=wn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Ph(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var so,ay=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(so=so||document.createElement("div"),so.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=so.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function is(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ow=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(t){Ow.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fr[e]=Fr[t]})});function ly(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fr.hasOwnProperty(t)&&Fr[t]?(""+e).trim():e+"px"}function uy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=ly(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Fw=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pu(t,e){if(e){if(Fw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function Nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=null;function ud(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Au=null,Ai=null,Ri=null;function Nh(t){if(t=Vs(t)){if(typeof Au!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Va(e),Au(t.stateNode,t.type,e))}}function cy(t){Ai?Ri?Ri.push(t):Ri=[t]:Ai=t}function dy(){if(Ai){var t=Ai,e=Ri;if(Ri=Ai=null,Nh(t),e)for(t=0;t<e.length;t++)Nh(e[t])}}function fy(t,e){return t(e)}function hy(){}var wl=!1;function py(t,e,n){if(wl)return t(e,n);wl=!0;try{return fy(t,e,n)}finally{wl=!1,(Ai!==null||Ri!==null)&&(hy(),dy())}}function rs(t,e){var n=t.stateNode;if(n===null)return null;var i=Va(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var Ru=!1;if(Ut)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch(t){Ru=!1}function jw(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var jr=!1,Wo=null,$o=!1,Mu=null,Vw={onError:function(t){jr=!0,Wo=t}};function Bw(t,e,n,i,r,s,o,a,l){jr=!1,Wo=null,jw.apply(Vw,arguments)}function zw(t,e,n,i,r,s,o,a,l){if(Bw.apply(this,arguments),jr){if(jr){var u=Wo;jr=!1,Wo=null}else throw Error(I(198));$o||($o=!0,Mu=u)}}function ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function my(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dh(t){if(ai(t)!==t)throw Error(I(188))}function Uw(t){var e=t.alternate;if(!e){if(e=ai(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Dh(r),t;if(s===i)return Dh(r),e;s=s.sibling}throw Error(I(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==i)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function gy(t){return t=Uw(t),t!==null?yy(t):null}function yy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yy(t);if(e!==null)return e;t=t.sibling}return null}var vy=et.unstable_scheduleCallback,Ah=et.unstable_cancelCallback,Ww=et.unstable_shouldYield,$w=et.unstable_requestPaint,fe=et.unstable_now,Hw=et.unstable_getCurrentPriorityLevel,cd=et.unstable_ImmediatePriority,_y=et.unstable_UserBlockingPriority,Ho=et.unstable_NormalPriority,Gw=et.unstable_LowPriority,wy=et.unstable_IdlePriority,La=null,Nt=null;function Kw(t){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(La,t,void 0,(t.current.flags&128)===128)}catch(e){}}var xt=Math.clz32?Math.clz32:qw,Yw=Math.log,Qw=Math.LN2;function qw(t){return t>>>=0,t===0?32:31-(Yw(t)/Qw|0)|0}var oo=64,ao=4194304;function Mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Go(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Mr(a):(s&=o,s!==0&&(i=Mr(s)))}else o=n&~r,o!==0?i=Mr(o):s!==0&&(i=Mr(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-xt(e),r=1<<n,i|=t[n],e&=~r;return i}function Xw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zw(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xt(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=Xw(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xy(){var t=oo;return oo<<=1,!(oo&4194240)&&(oo=64),t}function xl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xt(e),t[e]=n}function Jw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-xt(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function dd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-xt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var H=0;function Cy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sy,fd,Ey,Ty,ky,Lu=!1,lo=[],un=null,cn=null,dn=null,ss=new Map,os=new Map,rn=[],ex="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(t,e){switch(t){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":ss.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(e.pointerId)}}function vr(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Vs(e),e!==null&&fd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function tx(t,e,n,i,r){switch(e){case"focusin":return un=vr(un,t,e,n,i,r),!0;case"dragenter":return cn=vr(cn,t,e,n,i,r),!0;case"mouseover":return dn=vr(dn,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ss.set(s,vr(ss.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,os.set(s,vr(os.get(s)||null,t,e,n,i,r)),!0}return!1}function Iy(t){var e=Vn(t.target);if(e!==null){var n=ai(e);if(n!==null){if(e=n.tag,e===13){if(e=my(n),e!==null){t.blockedOn=e,ky(t.priority,function(){Ey(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ou(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Du=i,n.target.dispatchEvent(i),Du=null}else return e=Vs(n),e!==null&&fd(e),t.blockedOn=n,!1;e.shift()}return!0}function Mh(t,e,n){Po(t)&&n.delete(e)}function nx(){Lu=!1,un!==null&&Po(un)&&(un=null),cn!==null&&Po(cn)&&(cn=null),dn!==null&&Po(dn)&&(dn=null),ss.forEach(Mh),os.forEach(Mh)}function _r(t,e){t.blockedOn===e&&(t.blockedOn=null,Lu||(Lu=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,nx)))}function as(t){function e(r){return _r(r,t)}if(0<lo.length){_r(lo[0],t);for(var n=1;n<lo.length;n++){var i=lo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(un!==null&&_r(un,t),cn!==null&&_r(cn,t),dn!==null&&_r(dn,t),ss.forEach(e),os.forEach(e),n=0;n<rn.length;n++)i=rn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<rn.length&&(n=rn[0],n.blockedOn===null);)Iy(n),n.blockedOn===null&&rn.shift()}var Mi=qt.ReactCurrentBatchConfig,Ko=!0;function ix(t,e,n,i){var r=H,s=Mi.transition;Mi.transition=null;try{H=1,hd(t,e,n,i)}finally{H=r,Mi.transition=s}}function rx(t,e,n,i){var r=H,s=Mi.transition;Mi.transition=null;try{H=4,hd(t,e,n,i)}finally{H=r,Mi.transition=s}}function hd(t,e,n,i){if(Ko){var r=Ou(t,e,n,i);if(r===null)Al(t,e,i,Yo,n),Rh(t,i);else if(tx(r,t,e,n,i))i.stopPropagation();else if(Rh(t,i),e&4&&-1<ex.indexOf(t)){for(;r!==null;){var s=Vs(r);if(s!==null&&Sy(s),s=Ou(t,e,n,i),s===null&&Al(t,e,i,Yo,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Al(t,e,i,null,n)}}var Yo=null;function Ou(t,e,n,i){if(Yo=null,t=ud(i),t=Vn(t),t!==null)if(e=ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=my(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yo=t,null}function Py(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hw()){case cd:return 1;case _y:return 4;case Ho:case Gw:return 16;case wy:return 536870912;default:return 16}default:return 16}}var on=null,pd=null,No=null;function Ny(){if(No)return No;var t,e=pd,n=e.length,i,r="value"in on?on.value:on.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return No=r.slice(t,1<i?1-i:void 0)}function Do(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uo(){return!0}function bh(){return!1}function nt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uo:bh,this.isPropagationStopped=bh,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},md=nt(sr),js=se({},sr,{view:0,detail:0}),sx=nt(js),Cl,Sl,wr,Oa=se({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(Cl=t.screenX-wr.screenX,Sl=t.screenY-wr.screenY):Sl=Cl=0,wr=t),Cl)},movementY:function(t){return"movementY"in t?t.movementY:Sl}}),Lh=nt(Oa),ox=se({},Oa,{dataTransfer:0}),ax=nt(ox),lx=se({},js,{relatedTarget:0}),El=nt(lx),ux=se({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),cx=nt(ux),dx=se({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fx=nt(dx),hx=se({},sr,{data:0}),Oh=nt(hx),px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gx[t])?!!e[t]:!1}function gd(){return yx}var vx=se({},js,{key:function(t){if(t.key){var e=px[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Do(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gd,charCode:function(t){return t.type==="keypress"?Do(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Do(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_x=nt(vx),wx=se({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=nt(wx),xx=se({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gd}),Cx=nt(xx),Sx=se({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=nt(Sx),Tx=se({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kx=nt(Tx),Ix=[9,13,27,32],yd=Ut&&"CompositionEvent"in window,Vr=null;Ut&&"documentMode"in document&&(Vr=document.documentMode);var Px=Ut&&"TextEvent"in window&&!Vr,Dy=Ut&&(!yd||Vr&&8<Vr&&11>=Vr),jh=String.fromCharCode(32),Vh=!1;function Ay(t,e){switch(t){case"keyup":return Ix.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ry(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function Nx(t,e){switch(t){case"compositionend":return Ry(e);case"keypress":return e.which!==32?null:(Vh=!0,jh);case"textInput":return t=e.data,t===jh&&Vh?null:t;default:return null}}function Dx(t,e){if(pi)return t==="compositionend"||!yd&&Ay(t,e)?(t=Ny(),No=pd=on=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dy&&e.locale!=="ko"?null:e.data;default:return null}}var Ax={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ax[t.type]:e==="textarea"}function My(t,e,n,i){cy(i),e=Qo(e,"onChange"),0<e.length&&(n=new md("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Br=null,ls=null;function Rx(t){$y(t,0)}function Fa(t){var e=yi(t);if(iy(e))return t}function Mx(t,e){if(t==="change")return e}var by=!1;if(Ut){var Tl;if(Ut){var kl="oninput"in document;if(!kl){var zh=document.createElement("div");zh.setAttribute("oninput","return;"),kl=typeof zh.oninput=="function"}Tl=kl}else Tl=!1;by=Tl&&(!document.documentMode||9<document.documentMode)}function Uh(){Br&&(Br.detachEvent("onpropertychange",Ly),ls=Br=null)}function Ly(t){if(t.propertyName==="value"&&Fa(ls)){var e=[];My(e,ls,t,ud(t)),py(Rx,e)}}function bx(t,e,n){t==="focusin"?(Uh(),Br=e,ls=n,Br.attachEvent("onpropertychange",Ly)):t==="focusout"&&Uh()}function Lx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fa(ls)}function Ox(t,e){if(t==="click")return Fa(e)}function Fx(t,e){if(t==="input"||t==="change")return Fa(e)}function jx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:jx;function us(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!vu.call(e,r)||!Et(t[r],e[r]))return!1}return!0}function Wh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $h(t,e){var n=Wh(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wh(n)}}function Oy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Oy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fy(){for(var t=window,e=Uo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(i){n=!1}if(n)t=e.contentWindow;else break;e=Uo(t.document)}return e}function vd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Vx(t){var e=Fy(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Oy(n.ownerDocument.documentElement,n)){if(i!==null&&vd(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=$h(n,s);var o=$h(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bx=Ut&&"documentMode"in document&&11>=document.documentMode,mi=null,Fu=null,zr=null,ju=!1;function Hh(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ju||mi==null||mi!==Uo(i)||(i=mi,"selectionStart"in i&&vd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zr&&us(zr,i)||(zr=i,i=Qo(Fu,"onSelect"),0<i.length&&(e=new md("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function co(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gi={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},Il={},jy={};Ut&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function ja(t){if(Il[t])return Il[t];if(!gi[t])return t;var e=gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jy)return Il[t]=e[n];return t}var Vy=ja("animationend"),By=ja("animationiteration"),zy=ja("animationstart"),Uy=ja("transitionend"),Wy=new Map,Gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(t,e){Wy.set(t,e),oi(e,[t])}for(var Pl=0;Pl<Gh.length;Pl++){var Nl=Gh[Pl],zx=Nl.toLowerCase(),Ux=Nl[0].toUpperCase()+Nl.slice(1);kn(zx,"on"+Ux)}kn(Vy,"onAnimationEnd");kn(By,"onAnimationIteration");kn(zy,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(Uy,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function Kh(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,zw(i,e,void 0,t),t.currentTarget=null}function $y(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Kh(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Kh(r,a,u),s=l}}}if($o)throw t=Mu,$o=!1,Mu=null,t}function X(t,e){var n=e[Wu];n===void 0&&(n=e[Wu]=new Set);var i=t+"__bubble";n.has(i)||(Hy(e,t,2,!1),n.add(i))}function Dl(t,e,n){var i=0;e&&(i|=4),Hy(n,t,i,e)}var fo="_reactListening"+Math.random().toString(36).slice(2);function cs(t){if(!t[fo]){t[fo]=!0,Zg.forEach(function(n){n!=="selectionchange"&&(Wx.has(n)||Dl(n,!1,t),Dl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fo]||(e[fo]=!0,Dl("selectionchange",!1,e))}}function Hy(t,e,n,i){switch(Py(e)){case 1:var r=ix;break;case 4:r=rx;break;default:r=hd}n=r.bind(null,e,n,t),r=void 0,!Ru||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Al(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Vn(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}py(function(){var u=s,c=ud(n),d=[];e:{var f=Wy.get(t);if(f!==void 0){var h=md,m=t;switch(t){case"keypress":if(Do(n)===0)break e;case"keydown":case"keyup":h=_x;break;case"focusin":m="focus",h=El;break;case"focusout":m="blur",h=El;break;case"beforeblur":case"afterblur":h=El;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=ax;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Cx;break;case Vy:case By:case zy:h=cx;break;case Uy:h=Ex;break;case"scroll":h=sx;break;case"wheel":h=kx;break;case"copy":case"cut":case"paste":h=fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Fh}var p=(e&4)!==0,w=!p&&t==="scroll",g=p?f!==null?f+"Capture":null:f;p=[];for(var y=u,v;y!==null;){v=y;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,g!==null&&(x=rs(y,g),x!=null&&p.push(ds(y,x,v)))),w)break;y=y.return}0<p.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Du&&(m=n.relatedTarget||n.fromElement)&&(Vn(m)||m[Wt]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?Vn(m):null,m!==null&&(w=ai(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(p=Lh,x="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=Fh,x="onPointerLeave",g="onPointerEnter",y="pointer"),w=h==null?f:yi(h),v=m==null?f:yi(m),f=new p(x,y+"leave",h,n,c),f.target=w,f.relatedTarget=v,x=null,Vn(c)===u&&(p=new p(g,y+"enter",m,n,c),p.target=v,p.relatedTarget=w,x=p),w=x,h&&m)t:{for(p=h,g=m,y=0,v=p;v;v=ci(v))y++;for(v=0,x=g;x;x=ci(x))v++;for(;0<y-v;)p=ci(p),y--;for(;0<v-y;)g=ci(g),v--;for(;y--;){if(p===g||g!==null&&p===g.alternate)break t;p=ci(p),g=ci(g)}p=null}else p=null;h!==null&&Yh(d,f,h,p,!1),m!==null&&w!==null&&Yh(d,w,m,p,!0)}}e:{if(f=u?yi(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var C=Mx;else if(Bh(f))if(by)C=Fx;else{C=Lx;var E=bx}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=Ox);if(C&&(C=C(t,u))){My(d,C,n,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Tu(f,"number",f.value)}switch(E=u?yi(u):window,t){case"focusin":(Bh(E)||E.contentEditable==="true")&&(mi=E,Fu=u,zr=null);break;case"focusout":zr=Fu=mi=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,Hh(d,n,c);break;case"selectionchange":if(Bx)break;case"keydown":case"keyup":Hh(d,n,c)}var k;if(yd)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else pi?Ay(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Dy&&n.locale!=="ko"&&(pi||T!=="onCompositionStart"?T==="onCompositionEnd"&&pi&&(k=Ny()):(on=c,pd="value"in on?on.value:on.textContent,pi=!0)),E=Qo(u,T),0<E.length&&(T=new Oh(T,t,null,n,c),d.push({event:T,listeners:E}),k?T.data=k:(k=Ry(n),k!==null&&(T.data=k)))),(k=Px?Nx(t,n):Dx(t,n))&&(u=Qo(u,"onBeforeInput"),0<u.length&&(c=new Oh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}$y(d,e)})}function ds(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qo(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=rs(t,n),s!=null&&i.unshift(ds(t,s,r)),s=rs(t,e),s!=null&&i.push(ds(t,s,r))),t=t.return}return i}function ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yh(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=rs(n,s),l!=null&&o.unshift(ds(n,l,a))):r||(l=rs(n,s),l!=null&&o.push(ds(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var $x=/\r\n?/g,Hx=/\u0000|\uFFFD/g;function Qh(t){return(typeof t=="string"?t:""+t).replace($x,`
`).replace(Hx,"")}function ho(t,e,n){if(e=Qh(e),Qh(t)!==e&&n)throw Error(I(425))}function qo(){}var Vu=null,Bu=null;function zu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,Gx=typeof clearTimeout=="function"?clearTimeout:void 0,qh=typeof Promise=="function"?Promise:void 0,Kx=typeof queueMicrotask=="function"?queueMicrotask:typeof qh!="undefined"?function(t){return qh.resolve(null).then(t).catch(Yx)}:Uu;function Yx(t){setTimeout(function(){throw t})}function Rl(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),as(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);as(e)}function fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var or=Math.random().toString(36).slice(2),Pt="__reactFiber$"+or,fs="__reactProps$"+or,Wt="__reactContainer$"+or,Wu="__reactEvents$"+or,Qx="__reactListeners$"+or,qx="__reactHandles$"+or;function Vn(t){var e=t[Pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wt]||n[Pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xh(t);t!==null;){if(n=t[Pt])return n;t=Xh(t)}return e}t=n,n=t.parentNode}return null}function Vs(t){return t=t[Pt]||t[Wt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Va(t){return t[fs]||null}var $u=[],vi=-1;function In(t){return{current:t}}function Z(t){0>vi||(t.current=$u[vi],$u[vi]=null,vi--)}function q(t,e){vi++,$u[vi]=t.current,t.current=e}var xn={},Oe=In(xn),Ye=In(!1),Xn=xn;function Wi(t,e){var n=t.type.contextTypes;if(!n)return xn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Qe(t){return t=t.childContextTypes,t!=null}function Xo(){Z(Ye),Z(Oe)}function Zh(t,e,n){if(Oe.current!==xn)throw Error(I(168));q(Oe,e),q(Ye,n)}function Gy(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(I(108,bw(t)||"Unknown",r));return se({},n,i)}function Zo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,Xn=Oe.current,q(Oe,t),q(Ye,Ye.current),!0}function Jh(t,e,n){var i=t.stateNode;if(!i)throw Error(I(169));n?(t=Gy(t,e,Xn),i.__reactInternalMemoizedMergedChildContext=t,Z(Ye),Z(Oe),q(Oe,t)):Z(Ye),q(Ye,n)}var Ot=null,Ba=!1,Ml=!1;function Ky(t){Ot===null?Ot=[t]:Ot.push(t)}function Xx(t){Ba=!0,Ky(t)}function Pn(){if(!Ml&&Ot!==null){Ml=!0;var t=0,e=H;try{var n=Ot;for(H=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ot=null,Ba=!1}catch(r){throw Ot!==null&&(Ot=Ot.slice(t+1)),vy(cd,Pn),r}finally{H=e,Ml=!1}}return null}var _i=[],wi=0,Jo=null,ea=0,ot=[],at=0,Zn=null,Ft=1,jt="";function bn(t,e){_i[wi++]=ea,_i[wi++]=Jo,Jo=t,ea=e}function Yy(t,e,n){ot[at++]=Ft,ot[at++]=jt,ot[at++]=Zn,Zn=t;var i=Ft;t=jt;var r=32-xt(i)-1;i&=~(1<<r),n+=1;var s=32-xt(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ft=1<<32-xt(e)+r|n<<r|i,jt=s+t}else Ft=1<<s|n<<r|i,jt=t}function _d(t){t.return!==null&&(bn(t,1),Yy(t,1,0))}function wd(t){for(;t===Jo;)Jo=_i[--wi],_i[wi]=null,ea=_i[--wi],_i[wi]=null;for(;t===Zn;)Zn=ot[--at],ot[at]=null,jt=ot[--at],ot[at]=null,Ft=ot[--at],ot[at]=null}var Je=null,Ze=null,J=!1,vt=null;function Qy(t,e){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ep(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Je=t,Ze=fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Je=t,Ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zn!==null?{id:Ft,overflow:jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Je=t,Ze=null,!0):!1;default:return!1}}function Hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gu(t){if(J){var e=Ze;if(e){var n=e;if(!ep(t,e)){if(Hu(t))throw Error(I(418));e=fn(n.nextSibling);var i=Je;e&&ep(t,e)?Qy(i,n):(t.flags=t.flags&-4097|2,J=!1,Je=t)}}else{if(Hu(t))throw Error(I(418));t.flags=t.flags&-4097|2,J=!1,Je=t}}}function tp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function po(t){if(t!==Je)return!1;if(!J)return tp(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zu(t.type,t.memoizedProps)),e&&(e=Ze)){if(Hu(t))throw qy(),Error(I(418));for(;e;)Qy(t,e),e=fn(e.nextSibling)}if(tp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ze=fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ze=null}}else Ze=Je?fn(t.stateNode.nextSibling):null;return!0}function qy(){for(var t=Ze;t;)t=fn(t.nextSibling)}function $i(){Ze=Je=null,J=!1}function xd(t){vt===null?vt=[t]:vt.push(t)}var Zx=qt.ReactCurrentBatchConfig;function xr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var i=n.stateNode}if(!i)throw Error(I(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function mo(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function np(t){var e=t._init;return e(t._payload)}function Xy(t){function e(g,y){if(t){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function i(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function r(g,y){return g=gn(g,y),g.index=0,g.sibling=null,g}function s(g,y,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,v,x){return y===null||y.tag!==6?(y=Bl(v,g.mode,x),y.return=g,y):(y=r(y,v),y.return=g,y)}function l(g,y,v,x){var C=v.type;return C===hi?c(g,y,v.props.children,x,v.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===tn&&np(C)===y.type)?(x=r(y,v.props),x.ref=xr(g,y,v),x.return=g,x):(x=Fo(v.type,v.key,v.props,null,g.mode,x),x.ref=xr(g,y,v),x.return=g,x)}function u(g,y,v,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=zl(v,g.mode,x),y.return=g,y):(y=r(y,v.children||[]),y.return=g,y)}function c(g,y,v,x,C){return y===null||y.tag!==7?(y=Kn(v,g.mode,x,C),y.return=g,y):(y=r(y,v),y.return=g,y)}function d(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Bl(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case io:return v=Fo(y.type,y.key,y.props,null,g.mode,v),v.ref=xr(g,null,y),v.return=g,v;case fi:return y=zl(y,g.mode,v),y.return=g,y;case tn:var x=y._init;return d(g,x(y._payload),v)}if(Rr(y)||gr(y))return y=Kn(y,g.mode,v,null),y.return=g,y;mo(g,y)}return null}function f(g,y,v,x){var C=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:a(g,y,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case io:return v.key===C?l(g,y,v,x):null;case fi:return v.key===C?u(g,y,v,x):null;case tn:return C=v._init,f(g,y,C(v._payload),x)}if(Rr(v)||gr(v))return C!==null?null:c(g,y,v,x,null);mo(g,v)}return null}function h(g,y,v,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(v)||null,a(y,g,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case io:return g=g.get(x.key===null?v:x.key)||null,l(y,g,x,C);case fi:return g=g.get(x.key===null?v:x.key)||null,u(y,g,x,C);case tn:var E=x._init;return h(g,y,v,E(x._payload),C)}if(Rr(x)||gr(x))return g=g.get(v)||null,c(y,g,x,C,null);mo(y,x)}return null}function m(g,y,v,x){for(var C=null,E=null,k=y,T=y=0,j=null;k!==null&&T<v.length;T++){k.index>T?(j=k,k=null):j=k.sibling;var R=f(g,k,v[T],x);if(R===null){k===null&&(k=j);break}t&&k&&R.alternate===null&&e(g,k),y=s(R,y,T),E===null?C=R:E.sibling=R,E=R,k=j}if(T===v.length)return n(g,k),J&&bn(g,T),C;if(k===null){for(;T<v.length;T++)k=d(g,v[T],x),k!==null&&(y=s(k,y,T),E===null?C=k:E.sibling=k,E=k);return J&&bn(g,T),C}for(k=i(g,k);T<v.length;T++)j=h(k,g,T,v[T],x),j!==null&&(t&&j.alternate!==null&&k.delete(j.key===null?T:j.key),y=s(j,y,T),E===null?C=j:E.sibling=j,E=j);return t&&k.forEach(function(he){return e(g,he)}),J&&bn(g,T),C}function p(g,y,v,x){var C=gr(v);if(typeof C!="function")throw Error(I(150));if(v=C.call(v),v==null)throw Error(I(151));for(var E=C=null,k=y,T=y=0,j=null,R=v.next();k!==null&&!R.done;T++,R=v.next()){k.index>T?(j=k,k=null):j=k.sibling;var he=f(g,k,R.value,x);if(he===null){k===null&&(k=j);break}t&&k&&he.alternate===null&&e(g,k),y=s(he,y,T),E===null?C=he:E.sibling=he,E=he,k=j}if(R.done)return n(g,k),J&&bn(g,T),C;if(k===null){for(;!R.done;T++,R=v.next())R=d(g,R.value,x),R!==null&&(y=s(R,y,T),E===null?C=R:E.sibling=R,E=R);return J&&bn(g,T),C}for(k=i(g,k);!R.done;T++,R=v.next())R=h(k,g,T,R.value,x),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?T:R.key),y=s(R,y,T),E===null?C=R:E.sibling=R,E=R);return t&&k.forEach(function(Zt){return e(g,Zt)}),J&&bn(g,T),C}function w(g,y,v,x){if(typeof v=="object"&&v!==null&&v.type===hi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case io:e:{for(var C=v.key,E=y;E!==null;){if(E.key===C){if(C=v.type,C===hi){if(E.tag===7){n(g,E.sibling),y=r(E,v.props.children),y.return=g,g=y;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===tn&&np(C)===E.type){n(g,E.sibling),y=r(E,v.props),y.ref=xr(g,E,v),y.return=g,g=y;break e}n(g,E);break}else e(g,E);E=E.sibling}v.type===hi?(y=Kn(v.props.children,g.mode,x,v.key),y.return=g,g=y):(x=Fo(v.type,v.key,v.props,null,g.mode,x),x.ref=xr(g,y,v),x.return=g,g=x)}return o(g);case fi:e:{for(E=v.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(g,y.sibling),y=r(y,v.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=zl(v,g.mode,x),y.return=g,g=y}return o(g);case tn:return E=v._init,w(g,y,E(v._payload),x)}if(Rr(v))return m(g,y,v,x);if(gr(v))return p(g,y,v,x);mo(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(g,y.sibling),y=r(y,v),y.return=g,g=y):(n(g,y),y=Bl(v,g.mode,x),y.return=g,g=y),o(g)):n(g,y)}return w}var Hi=Xy(!0),Zy=Xy(!1),ta=In(null),na=null,xi=null,Cd=null;function Sd(){Cd=xi=na=null}function Ed(t){var e=ta.current;Z(ta),t._currentValue=e}function Ku(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function bi(t,e){na=t,Cd=xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($e=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(Cd!==t)if(t={context:t,memoizedValue:e,next:null},xi===null){if(na===null)throw Error(I(308));xi=t,na.dependencies={lanes:0,firstContext:t}}else xi=xi.next=t;return e}var Bn=null;function Td(t){Bn===null?Bn=[t]:Bn.push(t)}function Jy(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Td(e)):(n.next=r.next,r.next=n),e.interleaved=n,$t(t,i)}function $t(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nn=!1;function kd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ev(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,W&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,$t(t,n)}return r=i.interleaved,r===null?(e.next=e,Td(i)):(e.next=r.next,r.next=e),i.interleaved=e,$t(t,n)}function Ao(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dd(t,n)}}function ip(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ia(t,e,n,i){var r=t.updateQueue;nn=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((i&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(f=e,h=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=se({},d,f);break e;case 2:nn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(c===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ei|=o,t.lanes=o,t.memoizedState=d}}function rp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(I(191,r));r.call(i)}}}var Bs={},Dt=In(Bs),hs=In(Bs),ps=In(Bs);function zn(t){if(t===Bs)throw Error(I(174));return t}function Id(t,e){switch(q(ps,e),q(hs,t),q(Dt,Bs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Iu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Iu(e,t)}Z(Dt),q(Dt,e)}function Gi(){Z(Dt),Z(hs),Z(ps)}function tv(t){zn(ps.current);var e=zn(Dt.current),n=Iu(e,t.type);e!==n&&(q(hs,t),q(Dt,n))}function Pd(t){hs.current===t&&(Z(Dt),Z(hs))}var ne=In(0);function ra(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bl=[];function Nd(){for(var t=0;t<bl.length;t++)bl[t]._workInProgressVersionPrimary=null;bl.length=0}var Ro=qt.ReactCurrentDispatcher,Ll=qt.ReactCurrentBatchConfig,Jn=0,re=null,ye=null,xe=null,sa=!1,Ur=!1,ms=0,Jx=0;function Re(){throw Error(I(321))}function Dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function Ad(t,e,n,i,r,s){if(Jn=s,re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ro.current=t===null||t.memoizedState===null?iC:rC,t=n(i,r),Ur){s=0;do{if(Ur=!1,ms=0,25<=s)throw Error(I(301));s+=1,xe=ye=null,e.updateQueue=null,Ro.current=sC,t=n(i,r)}while(Ur)}if(Ro.current=oa,e=ye!==null&&ye.next!==null,Jn=0,xe=ye=re=null,sa=!1,e)throw Error(I(300));return t}function Rd(){var t=ms!==0;return ms=0,t}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?re.memoizedState=xe=t:xe=xe.next=t,xe}function ht(){if(ye===null){var t=re.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=xe===null?re.memoizedState:xe.next;if(e!==null)xe=e,ye=t;else{if(t===null)throw Error(I(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},xe===null?re.memoizedState=xe=t:xe=xe.next=t}return xe}function gs(t,e){return typeof e=="function"?e(t):e}function Ol(t){var e=ht(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var i=ye,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Jn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,re.lanes|=c,ei|=c}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,Et(i,e.memoizedState)||($e=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,re.lanes|=s,ei|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fl(t){var e=ht(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Et(s,e.memoizedState)||($e=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function nv(){}function iv(t,e){var n=re,i=ht(),r=e(),s=!Et(i.memoizedState,r);if(s&&(i.memoizedState=r,$e=!0),i=i.queue,Md(ov.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,ys(9,sv.bind(null,n,i,r,e),void 0,null),Te===null)throw Error(I(349));Jn&30||rv(n,e,r)}return r}function rv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sv(t,e,n,i){e.value=n,e.getSnapshot=i,av(e)&&lv(t)}function ov(t,e,n){return n(function(){av(e)&&lv(t)})}function av(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Et(t,n)}catch(i){return!0}}function lv(t){var e=$t(t,1);e!==null&&Ct(e,t,1,-1)}function sp(t){var e=It();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:t},e.queue=t,t=t.dispatch=nC.bind(null,re,t),[e.memoizedState,t]}function ys(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=re.updateQueue,e===null?(e={lastEffect:null,stores:null},re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function uv(){return ht().memoizedState}function Mo(t,e,n,i){var r=It();re.flags|=t,r.memoizedState=ys(1|e,n,void 0,i===void 0?null:i)}function za(t,e,n,i){var r=ht();i=i===void 0?null:i;var s=void 0;if(ye!==null){var o=ye.memoizedState;if(s=o.destroy,i!==null&&Dd(i,o.deps)){r.memoizedState=ys(e,n,s,i);return}}re.flags|=t,r.memoizedState=ys(1|e,n,s,i)}function op(t,e){return Mo(8390656,8,t,e)}function Md(t,e){return za(2048,8,t,e)}function cv(t,e){return za(4,2,t,e)}function dv(t,e){return za(4,4,t,e)}function fv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hv(t,e,n){return n=n!=null?n.concat([t]):null,za(4,4,fv.bind(null,e,t),n)}function bd(){}function pv(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Dd(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function mv(t,e){var n=ht();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Dd(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function gv(t,e,n){return Jn&21?(Et(n,e)||(n=xy(),re.lanes|=n,ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$e=!0),t.memoizedState=n)}function eC(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var i=Ll.transition;Ll.transition={};try{t(!1),e()}finally{H=n,Ll.transition=i}}function yv(){return ht().memoizedState}function tC(t,e,n){var i=mn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},vv(t))_v(e,n);else if(n=Jy(t,e,n,i),n!==null){var r=Ve();Ct(n,t,i,r),wv(n,e,i)}}function nC(t,e,n){var i=mn(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(vv(t))_v(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Et(a,o)){var l=e.interleaved;l===null?(r.next=r,Td(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch(u){}finally{}n=Jy(t,e,r,i),n!==null&&(r=Ve(),Ct(n,t,i,r),wv(n,e,i))}}function vv(t){var e=t.alternate;return t===re||e!==null&&e===re}function _v(t,e){Ur=sa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wv(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dd(t,n)}}var oa={readContext:ft,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},iC={readContext:ft,useCallback:function(t,e){return It().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:op,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Mo(4194308,4,fv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Mo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mo(4,2,t,e)},useMemo:function(t,e){var n=It();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=It();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=tC.bind(null,re,t),[i.memoizedState,t]},useRef:function(t){var e=It();return t={current:t},e.memoizedState=t},useState:sp,useDebugValue:bd,useDeferredValue:function(t){return It().memoizedState=t},useTransition:function(){var t=sp(!1),e=t[0];return t=eC.bind(null,t[1]),It().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=re,r=It();if(J){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Te===null)throw Error(I(349));Jn&30||rv(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,op(ov.bind(null,i,s,t),[t]),i.flags|=2048,ys(9,sv.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=It(),e=Te.identifierPrefix;if(J){var n=jt,i=Ft;n=(i&~(1<<32-xt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ms++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Jx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rC={readContext:ft,useCallback:pv,useContext:ft,useEffect:Md,useImperativeHandle:hv,useInsertionEffect:cv,useLayoutEffect:dv,useMemo:mv,useReducer:Ol,useRef:uv,useState:function(){return Ol(gs)},useDebugValue:bd,useDeferredValue:function(t){var e=ht();return gv(e,ye.memoizedState,t)},useTransition:function(){var t=Ol(gs)[0],e=ht().memoizedState;return[t,e]},useMutableSource:nv,useSyncExternalStore:iv,useId:yv,unstable_isNewReconciler:!1},sC={readContext:ft,useCallback:pv,useContext:ft,useEffect:Md,useImperativeHandle:hv,useInsertionEffect:cv,useLayoutEffect:dv,useMemo:mv,useReducer:Fl,useRef:uv,useState:function(){return Fl(gs)},useDebugValue:bd,useDeferredValue:function(t){var e=ht();return ye===null?e.memoizedState=t:gv(e,ye.memoizedState,t)},useTransition:function(){var t=Fl(gs)[0],e=ht().memoizedState;return[t,e]},useMutableSource:nv,useSyncExternalStore:iv,useId:yv,unstable_isNewReconciler:!1};function gt(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ua={isMounted:function(t){return(t=t._reactInternals)?ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ve(),r=mn(t),s=Bt(i,r);s.payload=e,n!=null&&(s.callback=n),e=hn(t,s,r),e!==null&&(Ct(e,t,r,i),Ao(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ve(),r=mn(t),s=Bt(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hn(t,s,r),e!==null&&(Ct(e,t,r,i),Ao(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ve(),i=mn(t),r=Bt(n,i);r.tag=2,e!=null&&(r.callback=e),e=hn(t,r,i),e!==null&&(Ct(e,t,i,n),Ao(e,t,i))}};function ap(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!us(n,i)||!us(r,s):!0}function xv(t,e,n){var i=!1,r=xn,s=e.contextType;return typeof s=="object"&&s!==null?s=ft(s):(r=Qe(e)?Xn:Oe.current,i=e.contextTypes,s=(i=i!=null)?Wi(t,r):xn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ua,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function lp(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ua.enqueueReplaceState(e,e.state,null)}function Qu(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},kd(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ft(s):(s=Qe(e)?Xn:Oe.current,r.context=Wi(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yu(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ua.enqueueReplaceState(r,r.state,null),ia(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Ki(t,e){try{var n="",i=e;do n+=Mw(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function jl(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function qu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var oC=typeof WeakMap=="function"?WeakMap:Map;function Cv(t,e,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){la||(la=!0,oc=i),qu(t,e)},n}function Sv(t,e,n){n=Bt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){qu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qu(t,e),typeof i!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function up(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new oC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=wC.bind(null,t,e,n),e.then(t,t))}function cp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dp(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bt(-1,1),e.tag=2,hn(n,e,1))),n.lanes|=1),t)}var aC=qt.ReactCurrentOwner,$e=!1;function Fe(t,e,n,i){e.child=t===null?Zy(e,null,n,i):Hi(e,t.child,n,i)}function fp(t,e,n,i,r){n=n.render;var s=e.ref;return bi(e,r),i=Ad(t,e,n,i,s,r),n=Rd(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ht(t,e,r)):(J&&n&&_d(e),e.flags|=1,Fe(t,e,i,r),e.child)}function hp(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Ud(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ev(t,e,s,i,r)):(t=Fo(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:us,n(o,i)&&t.ref===e.ref)return Ht(t,e,r)}return e.flags|=1,t=gn(s,i),t.ref=e.ref,t.return=e,e.child=t}function Ev(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(us(s,i)&&t.ref===e.ref)if($e=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&($e=!0);else return e.lanes=t.lanes,Ht(t,e,r)}return Xu(t,e,n,i,r)}function Tv(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Si,Xe),Xe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(Si,Xe),Xe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,q(Si,Xe),Xe|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,q(Si,Xe),Xe|=i;return Fe(t,e,r,n),e.child}function kv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xu(t,e,n,i,r){var s=Qe(n)?Xn:Oe.current;return s=Wi(e,s),bi(e,r),n=Ad(t,e,n,i,s,r),i=Rd(),t!==null&&!$e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ht(t,e,r)):(J&&i&&_d(e),e.flags|=1,Fe(t,e,n,r),e.child)}function pp(t,e,n,i,r){if(Qe(n)){var s=!0;Zo(e)}else s=!1;if(bi(e,r),e.stateNode===null)bo(t,e),xv(e,n,i),Qu(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Qe(n)?Xn:Oe.current,u=Wi(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&lp(e,o,i,u),nn=!1;var f=e.memoizedState;o.state=f,ia(e,i,o,r),l=e.memoizedState,a!==i||f!==l||Ye.current||nn?(typeof c=="function"&&(Yu(e,n,c,i),l=e.memoizedState),(a=nn||ap(e,n,a,i,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,ev(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gt(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=Qe(n)?Xn:Oe.current,l=Wi(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&lp(e,o,i,l),nn=!1,f=e.memoizedState,o.state=f,ia(e,i,o,r);var m=e.memoizedState;a!==d||f!==m||Ye.current||nn?(typeof h=="function"&&(Yu(e,n,h,i),m=e.memoizedState),(u=nn||ap(e,n,u,i,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),o.props=i,o.state=m,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Zu(t,e,n,i,s,r)}function Zu(t,e,n,i,r,s){kv(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Jh(e,n,!1),Ht(t,e,s);i=e.stateNode,aC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Hi(e,t.child,null,s),e.child=Hi(e,null,a,s)):Fe(t,e,a,s),e.memoizedState=i.state,r&&Jh(e,n,!0),e.child}function Iv(t){var e=t.stateNode;e.pendingContext?Zh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zh(t,e.context,!1),Id(t,e.containerInfo)}function mp(t,e,n,i,r){return $i(),xd(r),e.flags|=256,Fe(t,e,n,i),e.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function ec(t){return{baseLanes:t,cachePool:null,transitions:null}}function Pv(t,e,n){var i=e.pendingProps,r=ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),q(ne,r&1),t===null)return Gu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ha(o,i,0,null),t=Kn(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ec(n),e.memoizedState=Ju,t):Ld(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return lC(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=gn(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=gn(a,s):(s=Kn(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?ec(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ju,i}return s=t.child,t=s.sibling,i=gn(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ld(t,e){return e=Ha({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function go(t,e,n,i){return i!==null&&xd(i),Hi(e,t.child,null,n),t=Ld(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lC(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=jl(Error(I(422))),go(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Ha({mode:"visible",children:i.children},r,0,null),s=Kn(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Hi(e,t.child,null,o),e.child.memoizedState=ec(o),e.memoizedState=Ju,s);if(!(e.mode&1))return go(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(I(419)),i=jl(s,i,void 0),go(t,e,o,i)}if(a=(o&t.childLanes)!==0,$e||a){if(i=Te,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,$t(t,r),Ct(i,t,r,-1))}return zd(),i=jl(Error(I(421))),go(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=xC.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Ze=fn(r.nextSibling),Je=e,J=!0,vt=null,t!==null&&(ot[at++]=Ft,ot[at++]=jt,ot[at++]=Zn,Ft=t.id,jt=t.overflow,Zn=e),e=Ld(e,i.children),e.flags|=4096,e)}function gp(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ku(t.return,e,n)}function Vl(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function Nv(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Fe(t,e,i.children,n),i=ne.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gp(t,n,e);else if(t.tag===19)gp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(q(ne,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ra(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Vl(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ra(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Vl(e,!0,n,null,s);break;case"together":Vl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ht(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uC(t,e,n){switch(e.tag){case 3:Iv(e),$i();break;case 5:tv(e);break;case 1:Qe(e.type)&&Zo(e);break;case 4:Id(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;q(ta,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(q(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?Pv(t,e,n):(q(ne,ne.current&1),t=Ht(t,e,n),t!==null?t.sibling:null);q(ne,ne.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Nv(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),q(ne,ne.current),i)break;return null;case 22:case 23:return e.lanes=0,Tv(t,e,n)}return Ht(t,e,n)}var Dv,tc,Av,Rv;Dv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tc=function(){};Av=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,zn(Dt.current);var s=null;switch(n){case"input":r=Su(t,r),i=Su(t,i),s=[];break;case"select":r=se({},r,{value:void 0}),i=se({},i,{value:void 0}),s=[];break;case"textarea":r=ku(t,r),i=ku(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=qo)}Pu(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ns.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ns.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&X("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Rv=function(t,e,n,i){n!==i&&(e.flags|=4)};function Cr(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function cC(t,e,n){var i=e.pendingProps;switch(wd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(e),null;case 1:return Qe(e.type)&&Xo(),Me(e),null;case 3:return i=e.stateNode,Gi(),Z(Ye),Z(Oe),Nd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(po(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vt!==null&&(uc(vt),vt=null))),tc(t,e),Me(e),null;case 5:Pd(e);var r=zn(ps.current);if(n=e.type,t!==null&&e.stateNode!=null)Av(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(I(166));return Me(e),null}if(t=zn(Dt.current),po(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Pt]=e,i[fs]=s,t=(e.mode&1)!==0,n){case"dialog":X("cancel",i),X("close",i);break;case"iframe":case"object":case"embed":X("load",i);break;case"video":case"audio":for(r=0;r<br.length;r++)X(br[r],i);break;case"source":X("error",i);break;case"img":case"image":case"link":X("error",i),X("load",i);break;case"details":X("toggle",i);break;case"input":Th(i,s),X("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},X("invalid",i);break;case"textarea":Ih(i,s),X("invalid",i)}Pu(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&ho(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ho(i.textContent,a,t),r=["children",""+a]):ns.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&X("scroll",i)}switch(n){case"input":ro(i),kh(i,s,!0);break;case"textarea":ro(i),Ph(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=qo)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Pt]=e,t[fs]=i,Dv(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nu(n,i),n){case"dialog":X("cancel",t),X("close",t),r=i;break;case"iframe":case"object":case"embed":X("load",t),r=i;break;case"video":case"audio":for(r=0;r<br.length;r++)X(br[r],t);r=i;break;case"source":X("error",t),r=i;break;case"img":case"image":case"link":X("error",t),X("load",t),r=i;break;case"details":X("toggle",t),r=i;break;case"input":Th(t,i),r=Su(t,i),X("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=se({},i,{value:void 0}),X("invalid",t);break;case"textarea":Ih(t,i),r=ku(t,i),X("invalid",t);break;default:r=i}Pu(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ay(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&is(t,l):typeof l=="number"&&is(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ns.hasOwnProperty(s)?l!=null&&s==="onScroll"&&X("scroll",t):l!=null&&sd(t,s,l,o))}switch(n){case"input":ro(t),kh(t,i,!1);break;case"textarea":ro(t),Ph(t);break;case"option":i.value!=null&&t.setAttribute("value",""+wn(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Di(t,!!i.multiple,s,!1):i.defaultValue!=null&&Di(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=qo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Me(e),null;case 6:if(t&&e.stateNode!=null)Rv(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(I(166));if(n=zn(ps.current),zn(Dt.current),po(e)){if(i=e.stateNode,n=e.memoizedProps,i[Pt]=e,(s=i.nodeValue!==n)&&(t=Je,t!==null))switch(t.tag){case 3:ho(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ho(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Pt]=e,e.stateNode=i}return Me(e),null;case 13:if(Z(ne),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ze!==null&&e.mode&1&&!(e.flags&128))qy(),$i(),e.flags|=98560,s=!1;else if(s=po(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(I(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[Pt]=e}else $i(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Me(e),s=!1}else vt!==null&&(uc(vt),vt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?ve===0&&(ve=3):zd())),e.updateQueue!==null&&(e.flags|=4),Me(e),null);case 4:return Gi(),tc(t,e),t===null&&cs(e.stateNode.containerInfo),Me(e),null;case 10:return Ed(e.type._context),Me(e),null;case 17:return Qe(e.type)&&Xo(),Me(e),null;case 19:if(Z(ne),s=e.memoizedState,s===null)return Me(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Cr(s,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ra(t),o!==null){for(e.flags|=128,Cr(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return q(ne,ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&fe()>Yi&&(e.flags|=128,i=!0,Cr(s,!1),e.lanes=4194304)}else{if(!i)if(t=ra(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Cr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!J)return Me(e),null}else 2*fe()-s.renderingStartTime>Yi&&n!==1073741824&&(e.flags|=128,i=!0,Cr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fe(),e.sibling=null,n=ne.current,q(ne,i?n&1|2:n&1),e):(Me(e),null);case 22:case 23:return Bd(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Xe&1073741824&&(Me(e),e.subtreeFlags&6&&(e.flags|=8192)):Me(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function dC(t,e){switch(wd(e),e.tag){case 1:return Qe(e.type)&&Xo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gi(),Z(Ye),Z(Oe),Nd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pd(e),null;case 13:if(Z(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));$i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Z(ne),null;case 4:return Gi(),null;case 10:return Ed(e.type._context),null;case 22:case 23:return Bd(),null;case 24:return null;default:return null}}var yo=!1,be=!1,fC=typeof WeakSet=="function"?WeakSet:Set,A=null;function Ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ae(t,e,i)}else n.current=null}function nc(t,e,n){try{n()}catch(i){ae(t,e,i)}}var yp=!1;function hC(t,e){if(Vu=Ko,t=Fy(),vd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===r&&(a=o),f===s&&++c===i&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bu={focusedElem:t,selectionRange:n},Ko=!1,A=e;A!==null;)if(e=A,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,A=t;else for(;A!==null;){e=A;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,w=m.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:gt(e.type,p),w);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(x){ae(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,A=t;break}A=e.return}return m=yp,yp=!1,m}function Wr(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&nc(e,n,s)}r=r.next}while(r!==i)}}function Wa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ic(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mv(t){var e=t.alternate;e!==null&&(t.alternate=null,Mv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pt],delete e[fs],delete e[Wu],delete e[Qx],delete e[qx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bv(t){return t.tag===5||t.tag===3||t.tag===4}function vp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qo));else if(i!==4&&(t=t.child,t!==null))for(rc(t,e,n),t=t.sibling;t!==null;)rc(t,e,n),t=t.sibling}function sc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(sc(t,e,n),t=t.sibling;t!==null;)sc(t,e,n),t=t.sibling}var ke=null,yt=!1;function Jt(t,e,n){for(n=n.child;n!==null;)Lv(t,e,n),n=n.sibling}function Lv(t,e,n){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(La,n)}catch(a){}switch(n.tag){case 5:be||Ci(n,e);case 6:var i=ke,r=yt;ke=null,Jt(t,e,n),ke=i,yt=r,ke!==null&&(yt?(t=ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(yt?(t=ke,n=n.stateNode,t.nodeType===8?Rl(t.parentNode,n):t.nodeType===1&&Rl(t,n),as(t)):Rl(ke,n.stateNode));break;case 4:i=ke,r=yt,ke=n.stateNode.containerInfo,yt=!0,Jt(t,e,n),ke=i,yt=r;break;case 0:case 11:case 14:case 15:if(!be&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nc(n,e,o),r=r.next}while(r!==i)}Jt(t,e,n);break;case 1:if(!be&&(Ci(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){ae(n,e,a)}Jt(t,e,n);break;case 21:Jt(t,e,n);break;case 22:n.mode&1?(be=(i=be)||n.memoizedState!==null,Jt(t,e,n),be=i):Jt(t,e,n);break;default:Jt(t,e,n)}}function _p(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fC),e.forEach(function(i){var r=CC.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function pt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ke=a.stateNode,yt=!1;break e;case 3:ke=a.stateNode.containerInfo,yt=!0;break e;case 4:ke=a.stateNode.containerInfo,yt=!0;break e}a=a.return}if(ke===null)throw Error(I(160));Lv(s,o,r),ke=null,yt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){ae(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ov(e,t),e=e.sibling}function Ov(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pt(e,t),kt(t),i&4){try{Wr(3,t,t.return),Wa(3,t)}catch(p){ae(t,t.return,p)}try{Wr(5,t,t.return)}catch(p){ae(t,t.return,p)}}break;case 1:pt(e,t),kt(t),i&512&&n!==null&&Ci(n,n.return);break;case 5:if(pt(e,t),kt(t),i&512&&n!==null&&Ci(n,n.return),t.flags&32){var r=t.stateNode;try{is(r,"")}catch(p){ae(t,t.return,p)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ry(r,s),Nu(a,o);var u=Nu(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?uy(r,d):c==="dangerouslySetInnerHTML"?ay(r,d):c==="children"?is(r,d):sd(r,c,d,u)}switch(a){case"input":Eu(r,s);break;case"textarea":sy(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Di(r,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Di(r,!!s.multiple,s.defaultValue,!0):Di(r,!!s.multiple,s.multiple?[]:"",!1))}r[fs]=s}catch(p){ae(t,t.return,p)}}break;case 6:if(pt(e,t),kt(t),i&4){if(t.stateNode===null)throw Error(I(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(p){ae(t,t.return,p)}}break;case 3:if(pt(e,t),kt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{as(e.containerInfo)}catch(p){ae(t,t.return,p)}break;case 4:pt(e,t),kt(t);break;case 13:pt(e,t),kt(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(jd=fe())),i&4&&_p(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(be=(u=be)||c,pt(e,t),be=u):pt(e,t),kt(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(A=t,c=t.child;c!==null;){for(d=A=c;A!==null;){switch(f=A,h=f.child,f.tag){case 0:case 11:case 14:case 15:Wr(4,f,f.return);break;case 1:Ci(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){ae(i,n,p)}}break;case 5:Ci(f,f.return);break;case 22:if(f.memoizedState!==null){xp(d);continue}}h!==null?(h.return=f,A=h):xp(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ly("display",o))}catch(p){ae(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){ae(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pt(e,t),kt(t),i&4&&_p(t);break;case 21:break;default:pt(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bv(n)){var i=n;break e}n=n.return}throw Error(I(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(is(r,""),i.flags&=-33);var s=vp(t);sc(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=vp(t);rc(t,a,o);break;default:throw Error(I(161))}}catch(l){ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pC(t,e,n){A=t,Fv(t)}function Fv(t,e,n){for(var i=(t.mode&1)!==0;A!==null;){var r=A,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||yo;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||be;a=yo;var u=be;if(yo=o,(be=l)&&!u)for(A=r;A!==null;)o=A,l=o.child,o.tag===22&&o.memoizedState!==null?Cp(r):l!==null?(l.return=o,A=l):Cp(r);for(;s!==null;)A=s,Fv(s),s=s.sibling;A=r,yo=a,be=u}wp(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,A=s):wp(t)}}function wp(t){for(;A!==null;){var e=A;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||Wa(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!be)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:gt(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rp(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&as(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}be||e.flags&512&&ic(e)}catch(f){ae(e,e.return,f)}}if(e===t){A=null;break}if(n=e.sibling,n!==null){n.return=e.return,A=n;break}A=e.return}}function xp(t){for(;A!==null;){var e=A;if(e===t){A=null;break}var n=e.sibling;if(n!==null){n.return=e.return,A=n;break}A=e.return}}function Cp(t){for(;A!==null;){var e=A;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wa(4,e)}catch(l){ae(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){ae(e,r,l)}}var s=e.return;try{ic(e)}catch(l){ae(e,s,l)}break;case 5:var o=e.return;try{ic(e)}catch(l){ae(e,o,l)}}}catch(l){ae(e,e.return,l)}if(e===t){A=null;break}var a=e.sibling;if(a!==null){a.return=e.return,A=a;break}A=e.return}}var mC=Math.ceil,aa=qt.ReactCurrentDispatcher,Od=qt.ReactCurrentOwner,ct=qt.ReactCurrentBatchConfig,W=0,Te=null,ge=null,Ne=0,Xe=0,Si=In(0),ve=0,vs=null,ei=0,$a=0,Fd=0,$r=null,We=null,jd=0,Yi=1/0,Lt=null,la=!1,oc=null,pn=null,vo=!1,an=null,ua=0,Hr=0,ac=null,Lo=-1,Oo=0;function Ve(){return W&6?fe():Lo!==-1?Lo:Lo=fe()}function mn(t){return t.mode&1?W&2&&Ne!==0?Ne&-Ne:Zx.transition!==null?(Oo===0&&(Oo=xy()),Oo):(t=H,t!==0||(t=window.event,t=t===void 0?16:Py(t.type)),t):1}function Ct(t,e,n,i){if(50<Hr)throw Hr=0,ac=null,Error(I(185));Fs(t,n,i),(!(W&2)||t!==Te)&&(t===Te&&(!(W&2)&&($a|=n),ve===4&&sn(t,Ne)),qe(t,i),n===1&&W===0&&!(e.mode&1)&&(Yi=fe()+500,Ba&&Pn()))}function qe(t,e){var n=t.callbackNode;Zw(t,e);var i=Go(t,t===Te?Ne:0);if(i===0)n!==null&&Ah(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Ah(n),e===1)t.tag===0?Xx(Sp.bind(null,t)):Ky(Sp.bind(null,t)),Kx(function(){!(W&6)&&Pn()}),n=null;else{switch(Cy(i)){case 1:n=cd;break;case 4:n=_y;break;case 16:n=Ho;break;case 536870912:n=wy;break;default:n=Ho}n=Hv(n,jv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jv(t,e){if(Lo=-1,Oo=0,W&6)throw Error(I(327));var n=t.callbackNode;if(Li()&&t.callbackNode!==n)return null;var i=Go(t,t===Te?Ne:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=ca(t,i);else{e=i;var r=W;W|=2;var s=Bv();(Te!==t||Ne!==e)&&(Lt=null,Yi=fe()+500,Gn(t,e));do try{vC();break}catch(a){Vv(t,a)}while(1);Sd(),aa.current=s,W=r,ge!==null?e=0:(Te=null,Ne=0,e=ve)}if(e!==0){if(e===2&&(r=bu(t),r!==0&&(i=r,e=lc(t,r))),e===1)throw n=vs,Gn(t,0),sn(t,i),qe(t,fe()),n;if(e===6)sn(t,i);else{if(r=t.current.alternate,!(i&30)&&!gC(r)&&(e=ca(t,i),e===2&&(s=bu(t),s!==0&&(i=s,e=lc(t,s))),e===1))throw n=vs,Gn(t,0),sn(t,i),qe(t,fe()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(I(345));case 2:Ln(t,We,Lt);break;case 3:if(sn(t,i),(i&130023424)===i&&(e=jd+500-fe(),10<e)){if(Go(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Ve(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Uu(Ln.bind(null,t,We,Lt),e);break}Ln(t,We,Lt);break;case 4:if(sn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-xt(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=fe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mC(i/1960))-i,10<i){t.timeoutHandle=Uu(Ln.bind(null,t,We,Lt),i);break}Ln(t,We,Lt);break;case 5:Ln(t,We,Lt);break;default:throw Error(I(329))}}}return qe(t,fe()),t.callbackNode===n?jv.bind(null,t):null}function lc(t,e){var n=$r;return t.current.memoizedState.isDehydrated&&(Gn(t,e).flags|=256),t=ca(t,e),t!==2&&(e=We,We=n,e!==null&&uc(e)),t}function uc(t){We===null?We=t:We.push.apply(We,t)}function gC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Et(s(),r))return!1}catch(o){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sn(t,e){for(e&=~Fd,e&=~$a,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xt(e),i=1<<n;t[n]=-1,e&=~i}}function Sp(t){if(W&6)throw Error(I(327));Li();var e=Go(t,0);if(!(e&1))return qe(t,fe()),null;var n=ca(t,e);if(t.tag!==0&&n===2){var i=bu(t);i!==0&&(e=i,n=lc(t,i))}if(n===1)throw n=vs,Gn(t,0),sn(t,e),qe(t,fe()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ln(t,We,Lt),qe(t,fe()),null}function Vd(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(Yi=fe()+500,Ba&&Pn())}}function ti(t){an!==null&&an.tag===0&&!(W&6)&&Li();var e=W;W|=1;var n=ct.transition,i=H;try{if(ct.transition=null,H=1,t)return t()}finally{H=i,ct.transition=n,W=e,!(W&6)&&Pn()}}function Bd(){Xe=Si.current,Z(Si)}function Gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gx(n)),ge!==null)for(n=ge.return;n!==null;){var i=n;switch(wd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Xo();break;case 3:Gi(),Z(Ye),Z(Oe),Nd();break;case 5:Pd(i);break;case 4:Gi();break;case 13:Z(ne);break;case 19:Z(ne);break;case 10:Ed(i.type._context);break;case 22:case 23:Bd()}n=n.return}if(Te=t,ge=t=gn(t.current,null),Ne=Xe=e,ve=0,vs=null,Fd=$a=ei=0,We=$r=null,Bn!==null){for(e=0;e<Bn.length;e++)if(n=Bn[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Bn=null}return t}function Vv(t,e){do{var n=ge;try{if(Sd(),Ro.current=oa,sa){for(var i=re.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}sa=!1}if(Jn=0,xe=ye=re=null,Ur=!1,ms=0,Od.current=null,n===null||n.return===null){ve=1,vs=e,ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ne,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=cp(o);if(h!==null){h.flags&=-257,dp(h,o,a,s,e),h.mode&1&&up(s,u,e),e=h,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){up(s,u,e),zd();break e}l=Error(I(426))}}else if(J&&a.mode&1){var w=cp(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),dp(w,o,a,s,e),xd(Ki(l,a));break e}}s=l=Ki(l,a),ve!==4&&(ve=2),$r===null?$r=[s]:$r.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Cv(s,l,e);ip(s,g);break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(pn===null||!pn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Sv(s,a,e);ip(s,x);break e}}s=s.return}while(s!==null)}Uv(n)}catch(C){e=C,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(1)}function Bv(){var t=aa.current;return aa.current=oa,t===null?oa:t}function zd(){(ve===0||ve===3||ve===2)&&(ve=4),Te===null||!(ei&268435455)&&!($a&268435455)||sn(Te,Ne)}function ca(t,e){var n=W;W|=2;var i=Bv();(Te!==t||Ne!==e)&&(Lt=null,Gn(t,e));do try{yC();break}catch(r){Vv(t,r)}while(1);if(Sd(),W=n,aa.current=i,ge!==null)throw Error(I(261));return Te=null,Ne=0,ve}function yC(){for(;ge!==null;)zv(ge)}function vC(){for(;ge!==null&&!Ww();)zv(ge)}function zv(t){var e=$v(t.alternate,t,Xe);t.memoizedProps=t.pendingProps,e===null?Uv(t):ge=e,Od.current=null}function Uv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dC(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,ge=null;return}}else if(n=cC(n,e,Xe),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);ve===0&&(ve=5)}function Ln(t,e,n){var i=H,r=ct.transition;try{ct.transition=null,H=1,_C(t,e,n,i)}finally{ct.transition=r,H=i}return null}function _C(t,e,n,i){do Li();while(an!==null);if(W&6)throw Error(I(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Jw(t,s),t===Te&&(ge=Te=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vo||(vo=!0,Hv(Ho,function(){return Li(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ct.transition,ct.transition=null;var o=H;H=1;var a=W;W|=4,Od.current=null,hC(t,n),Ov(n,t),Vx(Bu),Ko=!!Vu,Bu=Vu=null,t.current=n,pC(n),$w(),W=a,H=o,ct.transition=s}else t.current=n;if(vo&&(vo=!1,an=t,ua=r),s=t.pendingLanes,s===0&&(pn=null),Kw(n.stateNode),qe(t,fe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(la)throw la=!1,t=oc,oc=null,t;return ua&1&&t.tag!==0&&Li(),s=t.pendingLanes,s&1?t===ac?Hr++:(Hr=0,ac=t):Hr=0,Pn(),null}function Li(){if(an!==null){var t=Cy(ua),e=ct.transition,n=H;try{if(ct.transition=null,H=16>t?16:t,an===null)var i=!1;else{if(t=an,an=null,ua=0,W&6)throw Error(I(331));var r=W;for(W|=4,A=t.current;A!==null;){var s=A,o=s.child;if(A.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(A=u;A!==null;){var c=A;switch(c.tag){case 0:case 11:case 15:Wr(8,c,s)}var d=c.child;if(d!==null)d.return=c,A=d;else for(;A!==null;){c=A;var f=c.sibling,h=c.return;if(Mv(c),c===u){A=null;break}if(f!==null){f.return=h,A=f;break}A=h}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var w=p.sibling;p.sibling=null,p=w}while(p!==null)}}A=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,A=o;else e:for(;A!==null;){if(s=A,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,A=g;break e}A=s.return}}var y=t.current;for(A=y;A!==null;){o=A;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,A=v;else e:for(o=y;A!==null;){if(a=A,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wa(9,a)}}catch(C){ae(a,a.return,C)}if(a===o){A=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,A=x;break e}A=a.return}}if(W=r,Pn(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(La,t)}catch(C){}i=!0}return i}finally{H=n,ct.transition=e}}return!1}function Ep(t,e,n){e=Ki(n,e),e=Cv(t,e,1),t=hn(t,e,1),e=Ve(),t!==null&&(Fs(t,1,e),qe(t,e))}function ae(t,e,n){if(t.tag===3)Ep(t,t,n);else for(;e!==null;){if(e.tag===3){Ep(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(pn===null||!pn.has(i))){t=Ki(n,t),t=Sv(e,t,1),e=hn(e,t,1),t=Ve(),e!==null&&(Fs(e,1,t),qe(e,t));break}}e=e.return}}function wC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&n,Te===t&&(Ne&n)===n&&(ve===4||ve===3&&(Ne&130023424)===Ne&&500>fe()-jd?Gn(t,0):Fd|=n),qe(t,e)}function Wv(t,e){e===0&&(t.mode&1?(e=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):e=1);var n=Ve();t=$t(t,e),t!==null&&(Fs(t,e,n),qe(t,n))}function xC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wv(t,n)}function CC(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(I(314))}i!==null&&i.delete(e),Wv(t,n)}var $v;$v=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)$e=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $e=!1,uC(t,e,n);$e=!!(t.flags&131072)}else $e=!1,J&&e.flags&1048576&&Yy(e,ea,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;bo(t,e),t=e.pendingProps;var r=Wi(e,Oe.current);bi(e,n),r=Ad(null,e,i,t,r,n);var s=Rd();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qe(i)?(s=!0,Zo(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,kd(e),r.updater=Ua,e.stateNode=r,r._reactInternals=e,Qu(e,i,t,n),e=Zu(null,e,i,!0,s,n)):(e.tag=0,J&&s&&_d(e),Fe(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(bo(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=EC(i),t=gt(i,t),r){case 0:e=Xu(null,e,i,t,n);break e;case 1:e=pp(null,e,i,t,n);break e;case 11:e=fp(null,e,i,t,n);break e;case 14:e=hp(null,e,i,gt(i.type,t),n);break e}throw Error(I(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:gt(i,r),Xu(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:gt(i,r),pp(t,e,i,r,n);case 3:e:{if(Iv(e),t===null)throw Error(I(387));i=e.pendingProps,s=e.memoizedState,r=s.element,ev(t,e),ia(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Ki(Error(I(423)),e),e=mp(t,e,i,n,r);break e}else if(i!==r){r=Ki(Error(I(424)),e),e=mp(t,e,i,n,r);break e}else for(Ze=fn(e.stateNode.containerInfo.firstChild),Je=e,J=!0,vt=null,n=Zy(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($i(),i===r){e=Ht(t,e,n);break e}Fe(t,e,i,n)}e=e.child}return e;case 5:return tv(e),t===null&&Gu(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,zu(i,r)?o=null:s!==null&&zu(i,s)&&(e.flags|=32),kv(t,e),Fe(t,e,o,n),e.child;case 6:return t===null&&Gu(e),null;case 13:return Pv(t,e,n);case 4:return Id(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Hi(e,null,i,n):Fe(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:gt(i,r),fp(t,e,i,r,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,q(ta,i._currentValue),i._currentValue=o,s!==null)if(Et(s.value,o)){if(s.children===r.children&&!Ye.current){e=Ht(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Bt(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ku(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ku(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Fe(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,bi(e,n),r=ft(r),i=i(r),e.flags|=1,Fe(t,e,i,n),e.child;case 14:return i=e.type,r=gt(i,e.pendingProps),r=gt(i.type,r),hp(t,e,i,r,n);case 15:return Ev(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:gt(i,r),bo(t,e),e.tag=1,Qe(i)?(t=!0,Zo(e)):t=!1,bi(e,n),xv(e,i,r),Qu(e,i,r,n),Zu(null,e,i,!0,t,n);case 19:return Nv(t,e,n);case 22:return Tv(t,e,n)}throw Error(I(156,e.tag))};function Hv(t,e){return vy(t,e)}function SC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(t,e,n,i){return new SC(t,e,n,i)}function Ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function EC(t){if(typeof t=="function")return Ud(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ad)return 11;if(t===ld)return 14}return 2}function gn(t,e){var n=t.alternate;return n===null?(n=lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fo(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Ud(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hi:return Kn(n.children,r,s,e);case od:o=8,r|=8;break;case _u:return t=lt(12,n,e,r|2),t.elementType=_u,t.lanes=s,t;case wu:return t=lt(13,n,e,r),t.elementType=wu,t.lanes=s,t;case xu:return t=lt(19,n,e,r),t.elementType=xu,t.lanes=s,t;case ty:return Ha(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jg:o=10;break e;case ey:o=9;break e;case ad:o=11;break e;case ld:o=14;break e;case tn:o=16,i=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=lt(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Kn(t,e,n,i){return t=lt(7,t,i,e),t.lanes=n,t}function Ha(t,e,n,i){return t=lt(22,t,i,e),t.elementType=ty,t.lanes=n,t.stateNode={isHidden:!1},t}function Bl(t,e,n){return t=lt(6,t,null,e),t.lanes=n,t}function zl(t,e,n){return e=lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TC(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xl(0),this.expirationTimes=xl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wd(t,e,n,i,r,s,o,a,l){return t=new TC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=lt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kd(s),t}function kC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fi,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Gv(t){if(!t)return xn;t=t._reactInternals;e:{if(ai(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(Qe(n))return Gy(t,n,e)}return e}function Kv(t,e,n,i,r,s,o,a,l){return t=Wd(n,i,!0,t,r,s,o,a,l),t.context=Gv(null),n=t.current,i=Ve(),r=mn(n),s=Bt(i,r),s.callback=e!=null?e:null,hn(n,s,r),t.current.lanes=r,Fs(t,r,i),qe(t,i),t}function Ga(t,e,n,i){var r=e.current,s=Ve(),o=mn(r);return n=Gv(n),e.context===null?e.context=n:e.pendingContext=n,e=Bt(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=hn(r,e,o),t!==null&&(Ct(t,r,o,s),Ao(t,r,o)),o}function da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $d(t,e){Tp(t,e),(t=t.alternate)&&Tp(t,e)}function IC(){return null}var Yv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hd(t){this._internalRoot=t}Ka.prototype.render=Hd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Ga(t,e,null,null)};Ka.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ti(function(){Ga(null,t,null,null)}),e[Wt]=null}};function Ka(t){this._internalRoot=t}Ka.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ty();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rn.length&&e!==0&&e<rn[n].priority;n++);rn.splice(n,0,t),n===0&&Iy(t)}};function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ya(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kp(){}function PC(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=da(o);s.call(u)}}var o=Kv(e,i,t,0,null,!1,!1,"",kp);return t._reactRootContainer=o,t[Wt]=o.current,cs(t.nodeType===8?t.parentNode:t),ti(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=da(l);a.call(u)}}var l=Wd(t,0,!1,null,null,!1,!1,"",kp);return t._reactRootContainer=l,t[Wt]=l.current,cs(t.nodeType===8?t.parentNode:t),ti(function(){Ga(e,l,n,i)}),l}function Qa(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=da(o);a.call(l)}}Ga(e,o,t,r)}else o=PC(n,e,t,r,i);return da(o)}Sy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mr(e.pendingLanes);n!==0&&(dd(e,n|1),qe(e,fe()),!(W&6)&&(Yi=fe()+500,Pn()))}break;case 13:ti(function(){var i=$t(t,1);if(i!==null){var r=Ve();Ct(i,t,1,r)}}),$d(t,1)}};fd=function(t){if(t.tag===13){var e=$t(t,134217728);if(e!==null){var n=Ve();Ct(e,t,134217728,n)}$d(t,134217728)}};Ey=function(t){if(t.tag===13){var e=mn(t),n=$t(t,e);if(n!==null){var i=Ve();Ct(n,t,e,i)}$d(t,e)}};Ty=function(){return H};ky=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};Au=function(t,e,n){switch(e){case"input":if(Eu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Va(i);if(!r)throw Error(I(90));iy(i),Eu(i,r)}}}break;case"textarea":sy(t,n);break;case"select":e=n.value,e!=null&&Di(t,!!n.multiple,e,!1)}};fy=Vd;hy=ti;var NC={usingClientEntryPoint:!1,Events:[Vs,yi,Va,cy,dy,Vd]},Sr={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DC={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gy(t),t===null?null:t.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||IC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{La=_o.inject(DC),Nt=_o}catch(t){}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gd(e))throw Error(I(200));return kC(t,e,null,n)};tt.createRoot=function(t,e){if(!Gd(t))throw Error(I(299));var n=!1,i="",r=Yv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Wd(t,1,!1,null,null,n,!1,i,r),t[Wt]=e.current,cs(t.nodeType===8?t.parentNode:t),new Hd(e)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=gy(e),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return ti(t)};tt.hydrate=function(t,e,n){if(!Ya(e))throw Error(I(200));return Qa(null,t,e,!0,n)};tt.hydrateRoot=function(t,e,n){if(!Gd(t))throw Error(I(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Yv;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Kv(e,null,t,1,n!=null?n:null,r,!1,s,o),t[Wt]=e.current,cs(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Ka(e)};tt.render=function(t,e,n){if(!Ya(e))throw Error(I(200));return Qa(null,t,e,!1,n)};tt.unmountComponentAtNode=function(t){if(!Ya(t))throw Error(I(40));return t._reactRootContainer?(ti(function(){Qa(null,null,t,!1,function(){t._reactRootContainer=null,t[Wt]=null})}),!0):!1};tt.unstable_batchedUpdates=Vd;tt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ya(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return Qa(t,e,n,!1,i)};tt.version="18.3.1-next-f1338f8080-20240426";function Qv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qv)}catch(t){console.error(t)}}Qv(),Qg.exports=tt;var AC=Qg.exports,Ip=AC;yu.createRoot=Ip.createRoot,yu.hydrateRoot=Ip.hydrateRoot;function RC(){const[t,e]=S.useState(null),[n,i]=S.useState(null),r=37.471561,s=-77.776657;S.useEffect(()=>{typeof window!="undefined"&&window.location.hostname.includes("github.io")&&(e(72),i(1)),fetch(`https://api.open-meteo.com/v1/forecast?latitude=${r}&longitude=${s}&current=temperature_2m,weathercode`).then(l=>l.json()).then(l=>{if(l!=null&&l.current){const c=l.current.temperature_2m*9/5+32;e(Math.round(c)),i(l.current.weathercode)}}).catch(l=>{console.error("Weather fetch failed:",l)})},[]);const a={0:"clear.svg",1:"partlycloudy.svg",2:"cloudy.svg",3:"cloudy.svg",45:"fog.svg",48:"fog.svg",51:"rain.svg",53:"rain.svg",55:"rain.svg",56:"rain.svg",57:"rain.svg",61:"rain.svg",63:"rain.svg",65:"rain.svg",66:"rain.svg",67:"rain.svg",71:"snow.svg",73:"snow.svg",75:"snow.svg",77:"snow.svg",80:"rain.svg",81:"rain.svg",82:"thunderstorm.svg",85:"snow.svg",86:"snow.svg",95:"thunderstorm.svg",96:"thunderstorm.svg",99:"thunderstorm.svg"}[n]||"cloudy.svg";return _.jsxs("div",{className:"flex items-center gap-3 text-3xl font-bold text-[#5A3210]",children:[_.jsx("img",{src:`/family-hub/weather/${a}`,alt:a.replace(".svg",""),className:"w-10 h-10 object-contain",style:{filter:"brightness(0) saturate(100%) invert(23%) sepia(63%) saturate(1027%) hue-rotate(20deg) brightness(94%) contrast(95%)"},title:a.replace(".svg","")}),t!==null?_.jsxs("span",{children:[t,"°F"]}):_.jsx("span",{children:"--°F"})]})}function MC(){const[t,e]=S.useState(null);return S.useEffect(()=>{e((()=>{const i=new Date,r=new Date("2025-01-17"),s=29.53058867,a=((i-r)/(1e3*60*60*24)%s+s)%s;return a<1.84566?{name:"New Moon",icon:"newmoon.svg"}:a<5.53699?{name:"Waxing Crescent",icon:"waxingcrescent.svg"}:a<9.22831?{name:"First Quarter",icon:"firstquarter.svg"}:a<12.91963?{name:"Waxing Gibbous",icon:"waxinggibbous.svg"}:a<16.61096?{name:"Full Moon",icon:"fullmoon.svg"}:a<20.30228?{name:"Waning Gibbous",icon:"waninggibbous.svg"}:a<23.99361?{name:"Last Quarter",icon:"lastquarter.svg"}:{name:"Waning Crescent",icon:"waningcrescent.svg"}})())},[]),t?_.jsx("div",{className:"flex items-center gap-2 text-3xl font-bold text-[#5A3210]",children:_.jsx("img",{src:`/family-hub/moon/${t.icon}`,alt:t.name,title:t.name,className:"w-10 h-10 object-contain",style:{filter:"brightness(0) saturate(100%) invert(23%) sepia(63%) saturate(1027%) hue-rotate(20deg) brightness(94%) contrast(95%)"}})}):_.jsx("div",{className:"w-12"})}function bC(){const[t,e]=S.useState(new Date);S.useEffect(()=>{const r=setInterval(()=>e(new Date),1e3);return()=>clearInterval(r)},[]);const n=t.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}),i=t.toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"});return _.jsxs("header",{className:"w-full bg-transparent shadow-none px-2 sm:px-6 py-3 sm:py-6 mb-3 sm:mb-6 flex justify-between items-center",style:{paddingTop:window.innerWidth<768?"20px":"50px"},children:[_.jsx(MC,{}),_.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[_.jsx("div",{className:"text-sm sm:text-2xl font-medium text-[#5A3210] font-serif",children:n}),_.jsx("div",{className:"text-3xl sm:text-6xl font-bold text-[#5A3210] mt-1",children:i})]}),_.jsx(RC,{})]})}const Kd=S.createContext({});function Yd(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qd=typeof window!="undefined",qv=Qd?S.useLayoutEffect:S.useEffect,qa=S.createContext(null);function qd(t,e){t.indexOf(e)===-1&&t.push(e)}function Xd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gt=(t,e,n)=>n>e?e:n<t?t:n;let Zd=()=>{};const Kt={},Xv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Zv(t){return typeof t=="object"&&t!==null}const Jv=t=>/^0[^.\s]+$/u.test(t);function Jd(t){let e;return()=>(e===void 0&&(e=t()),e)}const dt=t=>t,LC=(t,e)=>n=>e(t(n)),zs=(...t)=>t.reduce(LC),_s=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class ef{constructor(){this.subscriptions=[]}add(e){return qd(this.subscriptions,e),()=>Xd(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const At=t=>t*1e3,Rt=t=>t/1e3;function e0(t,e){return e?t*(1e3/e):0}const t0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OC=1e-7,FC=12;function jC(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=t0(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>OC&&++a<FC);return o}function Us(t,e,n,i){if(t===e&&n===i)return dt;const r=s=>jC(s,0,1,t,n);return s=>s===0||s===1?s:t0(r(s),e,i)}const n0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,i0=t=>e=>1-t(1-e),r0=Us(.33,1.53,.69,.99),tf=i0(r0),s0=n0(tf),o0=t=>(t*=2)<1?.5*tf(t):.5*(2-Math.pow(2,-10*(t-1))),nf=t=>1-Math.sin(Math.acos(t)),a0=i0(nf),l0=n0(nf),VC=Us(.42,0,1,1),BC=Us(0,0,.58,1),u0=Us(.42,0,.58,1),zC=t=>Array.isArray(t)&&typeof t[0]!="number",c0=t=>Array.isArray(t)&&typeof t[0]=="number",UC={linear:dt,easeIn:VC,easeInOut:u0,easeOut:BC,circIn:nf,circInOut:l0,circOut:a0,backIn:tf,backInOut:s0,backOut:r0,anticipate:o0},WC=t=>typeof t=="string",Pp=t=>{if(c0(t)){Zd(t.length===4);const[e,n,i,r]=t;return Us(e,n,i,r)}else if(WC(t))return UC[t];return t},wo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Np={value:null,addProjectionMetrics:null};function $C(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(d){o.has(d)&&(c.schedule(d),t()),l++,d(a)}const c={schedule:(d,f=!1,h=!1)=>{const p=h&&r?n:i;return f&&o.add(d),p.has(d)||p.add(d),d},cancel:d=>{i.delete(d),o.delete(d)},process:d=>{if(a=d,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),e&&Np.value&&Np.value.frameloop[e].push(l),l=0,n.clear(),r=!1,s&&(s=!1,c.process(d))}};return c}const HC=40;function d0(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=wo.reduce((v,x)=>(v[x]=$C(s,e?x:void 0),v),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:h,postRender:m}=o,p=()=>{const v=Kt.useManualTiming?r.timestamp:performance.now();n=!1,Kt.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(v-r.timestamp,HC),1)),r.timestamp=v,r.isProcessing=!0,a.process(r),l.process(r),u.process(r),c.process(r),d.process(r),f.process(r),h.process(r),m.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(p))},w=()=>{n=!0,i=!0,r.isProcessing||t(p)};return{schedule:wo.reduce((v,x)=>{const C=o[x];return v[x]=(E,k=!1,T=!1)=>(n||w(),C.schedule(E,k,T)),v},{}),cancel:v=>{for(let x=0;x<wo.length;x++)o[wo[x]].cancel(v)},state:r,steps:o}}const{schedule:ee,cancel:Cn,state:Ie,steps:Ul}=d0(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:dt,!0);let jo;function GC(){jo=void 0}const He={now:()=>(jo===void 0&&He.set(Ie.isProcessing||Kt.useManualTiming?Ie.timestamp:performance.now()),jo),set:t=>{jo=t,queueMicrotask(GC)}},f0=t=>e=>typeof e=="string"&&e.startsWith(t),rf=f0("--"),KC=f0("var(--"),sf=t=>KC(t)?YC.test(t.split("/*")[0].trim()):!1,YC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ar={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ws=F(P({},ar),{transform:t=>Gt(0,1,t)}),xo=F(P({},ar),{default:1}),Gr=t=>Math.round(t*1e5)/1e5,of=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function QC(t){return t==null}const qC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,af=(t,e)=>n=>!!(typeof n=="string"&&qC.test(n)&&n.startsWith(t)||e&&!QC(n)&&Object.prototype.hasOwnProperty.call(n,e)),h0=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(of);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},XC=t=>Gt(0,255,t),Wl=F(P({},ar),{transform:t=>Math.round(XC(t))}),Un={test:af("rgb","red"),parse:h0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Wl.transform(t)+", "+Wl.transform(e)+", "+Wl.transform(n)+", "+Gr(ws.transform(i))+")"};function ZC(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const cc={test:af("#"),parse:ZC,transform:Un.transform},Ws=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),en=Ws("deg"),Mt=Ws("%"),b=Ws("px"),JC=Ws("vh"),eS=Ws("vw"),Dp=(()=>F(P({},Mt),{parse:t=>Mt.parse(t)/100,transform:t=>Mt.transform(t*100)}))(),Ei={test:af("hsl","hue"),parse:h0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Mt.transform(Gr(e))+", "+Mt.transform(Gr(n))+", "+Gr(ws.transform(i))+")"},me={test:t=>Un.test(t)||cc.test(t)||Ei.test(t),parse:t=>Un.test(t)?Un.parse(t):Ei.test(t)?Ei.parse(t):cc.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Un.transform(t):Ei.transform(t),getAnimatableNone:t=>{const e=me.parse(t);return e.alpha=0,me.transform(e)}},tS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nS(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(of))==null?void 0:e.length)||0)+(((n=t.match(tS))==null?void 0:n.length)||0)>0}const p0="number",m0="color",iS="var",rS="var(",Ap="${}",sS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xs(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(sS,l=>(me.test(l)?(i.color.push(s),r.push(m0),n.push(me.parse(l))):l.startsWith(rS)?(i.var.push(s),r.push(iS),n.push(l)):(i.number.push(s),r.push(p0),n.push(parseFloat(l))),++s,Ap)).split(Ap);return{values:n,split:a,indexes:i,types:r}}function g0(t){return xs(t).values}function y0(t){const{split:e,types:n}=xs(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===p0?s+=Gr(r[o]):a===m0?s+=me.transform(r[o]):s+=r[o]}return s}}const oS=t=>typeof t=="number"?0:me.test(t)?me.getAnimatableNone(t):t;function aS(t){const e=g0(t);return y0(t)(e.map(oS))}const Sn={test:nS,parse:g0,createTransformer:y0,getAnimatableNone:aS};function $l(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lS({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=$l(l,a,t+1/3),s=$l(l,a,t),o=$l(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function fa(t,e){return n=>n>0?e:t}const ie=(t,e,n)=>t+(e-t)*n,Hl=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},uS=[cc,Un,Ei],cS=t=>uS.find(e=>e.test(t));function Rp(t){const e=cS(t);if(!e)return!1;let n=e.parse(t);return e===Ei&&(n=lS(n)),n}const Mp=(t,e)=>{const n=Rp(t),i=Rp(e);if(!n||!i)return fa(t,e);const r=P({},n);return s=>(r.red=Hl(n.red,i.red,s),r.green=Hl(n.green,i.green,s),r.blue=Hl(n.blue,i.blue,s),r.alpha=ie(n.alpha,i.alpha,s),Un.transform(r))},dc=new Set(["none","hidden"]);function dS(t,e){return dc.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fS(t,e){return n=>ie(t,e,n)}function lf(t){return typeof t=="number"?fS:typeof t=="string"?sf(t)?fa:me.test(t)?Mp:mS:Array.isArray(t)?v0:typeof t=="object"?me.test(t)?Mp:hS:fa}function v0(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>lf(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function hS(t,e){const n=P(P({},t),e),i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=lf(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function pS(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(r=t.values[a])!=null?r:0;n[s]=l,i[o]++}return n}const mS=(t,e)=>{const n=Sn.createTransformer(e),i=xs(t),r=xs(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?dc.has(t)&&!r.values.length||dc.has(e)&&!i.values.length?dS(t,e):zs(v0(pS(i,r),r.values),n):fa(t,e)};function _0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ie(t,e,n):lf(t)(t,e)}const gS=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ee.update(e,n),stop:()=>Cn(e),now:()=>Ie.isProcessing?Ie.timestamp:He.now()}},w0=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=Math.round(t(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},ha=2e4;function uf(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<ha;)e+=n,i=t.next(e);return e>=ha?1/0:e}function yS(t,e=100,n){const i=n(F(P({},t),{keyframes:[0,e]})),r=Math.min(uf(i),ha);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:Rt(r)}}const vS=5;function x0(t,e,n){const i=Math.max(e-vS,0);return e0(n-t(i),e-i)}const oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gl=.001;function _S({duration:t=oe.duration,bounce:e=oe.bounce,velocity:n=oe.velocity,mass:i=oe.mass}){let r,s,o=1-e;o=Gt(oe.minDamping,oe.maxDamping,o),t=Gt(oe.minDuration,oe.maxDuration,Rt(t)),o<1?(r=u=>{const c=u*o,d=c*t,f=c-n,h=fc(u,o),m=Math.exp(-d);return Gl-f/h*m},s=u=>{const d=u*o*t,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-d),p=fc(Math.pow(u,2),o);return(-r(u)+Gl>0?-1:1)*((f-h)*m)/p}):(r=u=>{const c=Math.exp(-u*t),d=(u-n)*t+1;return-Gl+c*d},s=u=>{const c=Math.exp(-u*t),d=(n-u)*(t*t);return c*d});const a=5/t,l=xS(r,s,a);if(t=At(t),isNaN(l))return{stiffness:oe.stiffness,damping:oe.damping,duration:t};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:o*2*Math.sqrt(i*u),duration:t}}}const wS=12;function xS(t,e,n){let i=n;for(let r=1;r<wS;r++)i=i-t(i)/e(i);return i}function fc(t,e){return t*Math.sqrt(1-e*e)}const CS=["duration","bounce"],SS=["stiffness","damping","mass"];function bp(t,e){return e.some(n=>t[n]!==void 0)}function ES(t){let e=P({velocity:oe.velocity,stiffness:oe.stiffness,damping:oe.damping,mass:oe.mass,isResolvedFromDuration:!1},t);if(!bp(t,SS)&&bp(t,CS))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Gt(.05,1,1-(t.bounce||0))*Math.sqrt(r);e=F(P({},e),{mass:oe.mass,stiffness:r,damping:s})}else{const n=_S(t);e=F(P(P({},e),n),{mass:oe.mass}),e.isResolvedFromDuration=!0}return e}function pa(t=oe.visualDuration,e=oe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:h}=ES(F(P({},n),{velocity:-Rt(n.velocity||0)})),m=f||0,p=u/(2*Math.sqrt(l*c)),w=o-s,g=Rt(Math.sqrt(l/c)),y=Math.abs(w)<5;i||(i=y?oe.restSpeed.granular:oe.restSpeed.default),r||(r=y?oe.restDelta.granular:oe.restDelta.default);let v;if(p<1){const C=fc(g,p);v=E=>{const k=Math.exp(-p*g*E);return o-k*((m+p*g*w)/C*Math.sin(C*E)+w*Math.cos(C*E))}}else if(p===1)v=C=>o-Math.exp(-g*C)*(w+(m+g*w)*C);else{const C=g*Math.sqrt(p*p-1);v=E=>{const k=Math.exp(-p*g*E),T=Math.min(C*E,300);return o-k*((m+p*g*w)*Math.sinh(T)+C*w*Math.cosh(T))/C}}const x={calculatedDuration:h&&d||null,next:C=>{const E=v(C);if(h)a.done=C>=d;else{let k=C===0?m:0;p<1&&(k=C===0?At(m):x0(v,C,E));const T=Math.abs(k)<=i,j=Math.abs(o-E)<=r;a.done=T&&j}return a.value=a.done?o:E,a},toString:()=>{const C=Math.min(uf(x),ha),E=w0(k=>x.next(C*k).value,C,30);return C+"ms "+E},toTransition:()=>{}};return x}pa.applyToOptions=t=>{const e=yS(t,100,pa);return t.ease=e.ease,t.duration=At(e.duration),t.type="keyframes",t};function hc({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=t[0],f={done:!1,value:d},h=T=>a!==void 0&&T<a||l!==void 0&&T>l,m=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let p=n*e;const w=d+p,g=o===void 0?w:o(w);g!==w&&(p=g-d);const y=T=>-p*Math.exp(-T/i),v=T=>g+y(T),x=T=>{const j=y(T),R=v(T);f.done=Math.abs(j)<=u,f.value=f.done?g:R};let C,E;const k=T=>{h(f.value)&&(C=T,E=pa({keyframes:[f.value,m(f.value)],velocity:x0(v,T,f.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:T=>{let j=!1;return!E&&C===void 0&&(j=!0,x(T),k(T)),C!==void 0&&T>=C?E.next(T-C):(!j&&x(T),f)}}}function TS(t,e,n){const i=[],r=n||Kt.mix||_0,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||dt:e;a=zs(l,a)}i.push(a)}return i}function kS(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(Zd(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=TS(e,i,r),l=a.length,u=c=>{if(o&&c<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=_s(t[d],t[d+1],c);return a[d](f)};return n?c=>u(Gt(t[0],t[s-1],c)):u}function IS(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=_s(0,e,i);t.push(ie(n,1,r))}}function PS(t){const e=[0];return IS(e,t.length-1),e}function NS(t,e){return t.map(n=>n*e)}function DS(t,e){return t.map(()=>e||u0).splice(0,t.length-1)}function Kr({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=zC(i)?i.map(Pp):Pp(i),s={done:!1,value:e[0]},o=NS(n&&n.length===e.length?n:PS(e),t),a=kS(o,e,{ease:Array.isArray(r)?r:DS(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const AS=t=>t!==null;function cf(t,{repeat:e,repeatType:n="loop"},i,r=1){const s=t.filter(AS),a=r<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const RS={decay:hc,inertia:hc,tween:Kr,keyframes:Kr,spring:pa};function C0(t){typeof t.type=="string"&&(t.type=RS[t.type])}class df{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const MS=t=>t/100;class ff extends df{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==He.now()&&this.tick(He.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;C0(e);const{type:n=Kr,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Kr;l!==Kr&&typeof a[0]!="number"&&(this.mixKeyframes=zs(MS,_0(a[0],a[1])),a=[0,100]);const u=l(F(P({},e),{keyframes:a}));s==="mirror"&&(this.mirroredGenerator=l(F(P({},e),{keyframes:[...a].reverse(),velocity:-o}))),u.calculatedDuration===null&&(u.calculatedDuration=uf(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:h,type:m,onUpdate:p,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,x=i;if(d){const T=Math.min(this.currentTime,r)/a;let j=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&j--,j=Math.min(j,d+1),!!(j%2)&&(f==="reverse"?(R=1-R,h&&(R-=h/a)):f==="mirror"&&(x=o)),v=Gt(0,1,R)*a}const C=y?{done:!1,value:c[0]}:x.next(v);s&&(C.value=s(C.value));let{done:E}=C;!y&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&m!==hc&&(C.value=cf(c,this.options,w,this.speed)),p&&p(C.value),k&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return Rt(this.calculatedDuration)}get time(){return Rt(this.currentTime)}set time(e){var n;e=At(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(He.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rt(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=gS,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n!=null?n:i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(He.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function bS(t){var e;for(let n=1;n<t.length;n++)(e=t[n])!=null||(t[n]=t[n-1])}const Wn=t=>t*180/Math.PI,pc=t=>{const e=Wn(Math.atan2(t[1],t[0]));return mc(e)},LS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:pc,rotateZ:pc,skewX:t=>Wn(Math.atan(t[1])),skewY:t=>Wn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mc=t=>(t=t%360,t<0&&(t+=360),t),Lp=pc,Op=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Fp=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),OS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Op,scaleY:Fp,scale:t=>(Op(t)+Fp(t))/2,rotateX:t=>mc(Wn(Math.atan2(t[6],t[5]))),rotateY:t=>mc(Wn(Math.atan2(-t[2],t[0]))),rotateZ:Lp,rotate:Lp,skewX:t=>Wn(Math.atan(t[4])),skewY:t=>Wn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function gc(t){return t.includes("scale")?1:0}function yc(t,e){if(!t||t==="none")return gc(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=OS,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=LS,r=a}if(!r)return gc(e);const s=i[e],o=r[1].split(",").map(jS);return typeof s=="function"?s(o):o[s]}const FS=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return yc(n,e)};function jS(t){return parseFloat(t.trim())}const lr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ur=(()=>new Set(lr))(),jp=t=>t===ar||t===b,VS=new Set(["x","y","z"]),BS=lr.filter(t=>!VS.has(t));function zS(t){const e=[];return BS.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Yn={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>yc(e,"x"),y:(t,{transform:e})=>yc(e,"y")};Yn.translateX=Yn.x;Yn.translateY=Yn.y;const Qn=new Set;let vc=!1,_c=!1,wc=!1;function S0(){if(_c){const t=Array.from(Qn).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=zS(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))==null||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_c=!1,vc=!1,Qn.forEach(t=>t.complete(wc)),Qn.clear()}function E0(){Qn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_c=!0)})}function US(){wc=!0,E0(),S0(),wc=!1}class hf{constructor(e,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Qn.add(this),vc||(vc=!0,ee.read(E0),ee.resolveKeyframes(S0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const a=i.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}bS(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qn.delete(this)}cancel(){this.state==="scheduled"&&(Qn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WS=t=>t.startsWith("--");function $S(t,e,n){WS(e)?t.style.setProperty(e,n):t.style[e]=n}const HS=Jd(()=>window.ScrollTimeline!==void 0),GS={};function KS(t,e){const n=Jd(t);return()=>{var i;return(i=GS[e])!=null?i:n()}}const T0=KS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),Lr=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Vp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lr([0,.65,.55,1]),circOut:Lr([.55,0,1,.45]),backIn:Lr([.31,.01,.66,-.59]),backOut:Lr([.33,1.53,.69,.99])};function k0(t,e){if(t)return typeof t=="function"?T0()?w0(t,e):"ease-out":c0(t)?Lr(t):Array.isArray(t)?t.map(n=>k0(n,e)||Vp.easeOut):Vp[t]}function YS(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[e]:n};l&&(c.offset=l);const d=k0(a,r);Array.isArray(d)&&(c.easing=d);const f={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(c,f)}function I0(t){return typeof t=="function"&&"applyToOptions"in t}function QS(n){var i=n,{type:t}=i,e=it(i,["type"]);var r,s;return I0(t)&&T0()?t.applyToOptions(e):((r=e.duration)!=null||(e.duration=300),(s=e.ease)!=null||(e.ease="easeOut"),e)}class qS extends df{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Zd(typeof e.type!="string");const u=QS(e);this.animation=YS(n,i,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=cf(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):$S(n,i,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Rt(Number(e))}get time(){return Rt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=At(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&HS()?(this.animation.timeline=e,dt):n(this)}}const P0={anticipate:o0,backInOut:s0,circInOut:l0};function XS(t){return t in P0}function ZS(t){typeof t.ease=="string"&&XS(t.ease)&&(t.ease=P0[t.ease])}const Bp=10;class JS extends qS{constructor(e){ZS(e),C0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var c;const u=this.options,{motionValue:n,onUpdate:i,onComplete:r,element:s}=u,o=it(u,["motionValue","onUpdate","onComplete","element"]);if(!n)return;if(e!==void 0){n.set(e);return}const a=new ff(F(P({},o),{autoplay:!1})),l=At((c=this.finishedTime)!=null?c:this.time);n.setWithVelocity(a.sample(l-Bp).value,a.sample(l).value,Bp),a.stop()}}const zp=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Sn.test(t)||t==="0")&&!t.startsWith("url("));function eE(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tE(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=zp(r,e),a=zp(s,e);return!o||!a?!1:eE(t)||(n==="spring"||I0(n))&&i}function xc(t){t.duration=0,t.type}const nE=new Set(["opacity","clipPath","filter","transform"]),iE=Jd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rE(t){var c;const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return iE()&&n&&nE.has(n)&&(n!=="transform"||!u)&&!l&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const sE=40;class oE extends df{constructor(f){var h=f,{autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c}=h,d=it(h,["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"]);var w;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=He.now();const m=P({autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:l,motionValue:u,element:c},d),p=(c==null?void 0:c.KeyframeResolver)||hf;this.keyframeResolver=new p(a,(g,y,v)=>this.onKeyframesResolved(g,y,m,!v),l,u,c),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=i;this.resolvedAt=He.now(),tE(e,s,o,a)||((Kt.instantAnimations||!l)&&(c==null||c(cf(e,i,n))),e[0]=e[e.length-1],xc(i),i.repeat=0);const d=r?this.resolvedAt?this.resolvedAt-this.createdAt>sE?this.resolvedAt:this.createdAt:this.createdAt:void 0,f=F(P({startTime:d,finalKeyframe:n},i),{keyframes:e}),h=!u&&rE(f)?new JS(F(P({},f),{element:f.motionValue.owner.current})):new ff(f);h.finished.then(()=>this.notifyFinished()).catch(dt),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),US()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const aE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lE(t){const e=aE.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n!=null?n:i}`,r]}function N0(t,e,n=1){const[i,r]=lE(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return Xv(o)?parseFloat(o):o}return sf(r)?N0(r,e,n+1):r}function pf(t,e){var n,i;return(i=(n=t==null?void 0:t[e])!=null?n:t==null?void 0:t.default)!=null?i:t}const D0=new Set(["width","height","top","left","right","bottom",...lr]),uE={test:t=>t==="auto",parse:t=>t},A0=t=>e=>e.test(t),R0=[ar,b,Mt,en,eS,JC,uE],Up=t=>R0.find(A0(t));function cE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Jv(t):!0}const dE=new Set(["brightness","contrast","saturate","opacity"]);function fE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(of)||[];if(!i)return t;const r=n.replace(i,"");let s=dE.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const hE=/\b([a-z-]*)\(.*?\)/gu,Cc=F(P({},Sn),{getAnimatableNone:t=>{const e=t.match(hE);return e?e.map(fE).join(" "):t}}),Wp=F(P({},ar),{transform:Math.round}),pE={rotate:en,rotateX:en,rotateY:en,rotateZ:en,scale:xo,scaleX:xo,scaleY:xo,scaleZ:xo,skew:en,skewX:en,skewY:en,distance:b,translateX:b,translateY:b,translateZ:b,x:b,y:b,z:b,perspective:b,transformPerspective:b,opacity:ws,originX:Dp,originY:Dp,originZ:b},mf=F(P({borderWidth:b,borderTopWidth:b,borderRightWidth:b,borderBottomWidth:b,borderLeftWidth:b,borderRadius:b,radius:b,borderTopLeftRadius:b,borderTopRightRadius:b,borderBottomRightRadius:b,borderBottomLeftRadius:b,width:b,maxWidth:b,height:b,maxHeight:b,top:b,right:b,bottom:b,left:b,padding:b,paddingTop:b,paddingRight:b,paddingBottom:b,paddingLeft:b,margin:b,marginTop:b,marginRight:b,marginBottom:b,marginLeft:b,backgroundPositionX:b,backgroundPositionY:b},pE),{zIndex:Wp,fillOpacity:ws,strokeOpacity:ws,numOctaves:Wp}),mE=F(P({},mf),{color:me,backgroundColor:me,outlineColor:me,fill:me,stroke:me,borderColor:me,borderTopColor:me,borderRightColor:me,borderBottomColor:me,borderLeftColor:me,filter:Cc,WebkitFilter:Cc}),M0=t=>mE[t];function b0(t,e){let n=M0(t);return n!==Cc&&(n=Sn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gE=new Set(["auto","none","0"]);function yE(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!gE.has(s)&&xs(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=b0(n,r)}class vE extends hf{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),sf(u))){const c=N0(u,n.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!D0.has(i)||e.length!==2)return;const[r,s]=e,o=Up(r),a=Up(s);if(o!==a)if(jp(o)&&jp(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else Yn[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||cE(e[r]))&&i.push(r);i.length&&yE(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yn[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=Yn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function _E(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const s=(i=n==null?void 0:n[t])!=null?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const L0=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function O0(t){return Zv(t)&&"offsetHeight"in t}const $p=30,wE=t=>!isNaN(parseFloat(t));class xE{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var s;const r=He.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=He.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wE(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ef);const i=this.events[e].add(n);return e==="change"?()=>{i(),ee.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=He.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$p)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$p);return e0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qi(t,e){return new xE(t,e)}const{schedule:gf,cancel:VR}=d0(queueMicrotask,!1),mt={x:!1,y:!1};function F0(){return mt.x||mt.y}function CE(t){return t==="x"||t==="y"?mt[t]?null:(mt[t]=!0,()=>{mt[t]=!1}):mt.x||mt.y?null:(mt.x=mt.y=!0,()=>{mt.x=mt.y=!1})}function j0(t,e){const n=_E(t),i=new AbortController,r=F(P({passive:!0},e),{signal:i.signal});return[n,r,()=>i.abort()]}function Hp(t){return!(t.pointerType==="touch"||F0())}function SE(t,e,n={}){const[i,r,s]=j0(t,n),o=a=>{if(!Hp(a))return;const{target:l}=a,u=e(l,a);if(typeof u!="function"||!l)return;const c=d=>{Hp(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const V0=(t,e)=>e?t===e?!0:V0(t,e.parentElement):!1,yf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,EE=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TE(t){return EE.has(t.tagName)||t.tabIndex!==-1}const Vo=new WeakSet;function Gp(t){return e=>{e.key==="Enter"&&t(e)}}function Kl(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kE=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Gp(()=>{if(Vo.has(n))return;Kl(n,"down");const r=Gp(()=>{Kl(n,"up")}),s=()=>Kl(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Kp(t){return yf(t)&&!F0()}function IE(t,e,n={}){const[i,r,s]=j0(t,n),o=a=>{const l=a.currentTarget;if(!Kp(a))return;Vo.add(l);const u=e(l,a),c=(h,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Vo.has(l)&&Vo.delete(l),Kp(h)&&typeof u=="function"&&u(h,{success:m})},d=h=>{c(h,l===window||l===document||n.useGlobalTarget||V0(l,h.target))},f=h=>{c(h,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",f,r)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),O0(a)&&(a.addEventListener("focus",u=>kE(u,r)),!TE(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function B0(t){return Zv(t)&&"ownerSVGElement"in t}function PE(t){return B0(t)&&t.tagName==="svg"}const Le=t=>!!(t&&t.getVelocity),NE=[...R0,me,Sn],DE=t=>NE.find(A0(t)),vf=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class AE extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=O0(i)&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RE({children:t,isPresent:e,anchorX:n,root:i}){const r=S.useId(),s=S.useRef(null),o=S.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=S.useContext(vf);return S.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:d,right:f}=o.current;if(e||!s.current||!l||!u)return;const h=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const m=document.createElement("style");a&&(m.nonce=a);const p=i!=null?i:document.head;return p.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{p.contains(m)&&p.removeChild(m)}},[e]),_.jsx(AE,{isPresent:e,childRef:s,sizeRef:o,children:S.cloneElement(t,{ref:s})})}const ME=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const u=Yd(bE),c=S.useId();let d=!0,f=S.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:r,onExitComplete:h=>{u.set(h,!0);for(const m of u.values())if(!m)return;i&&i()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[n,u,i]);return s&&d&&(f=P({},f)),S.useMemo(()=>{u.forEach((h,m)=>u.set(m,!1))},[n]),S.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),o==="popLayout"&&(t=_.jsx(RE,{isPresent:n,anchorX:a,root:l,children:t})),_.jsx(qa.Provider,{value:f,children:t})};function bE(){return new Map}function z0(t=!0){const e=S.useContext(qa);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=S.useId();S.useEffect(()=>{if(t)return r(s)},[t]);const o=S.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const Co=t=>t.key||"";function Yp(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const _f=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=z0(o),d=S.useMemo(()=>Yp(t),[t]),f=o&&!u?[]:d.map(Co),h=S.useRef(!0),m=S.useRef(d),p=Yd(()=>new Map),[w,g]=S.useState(d),[y,v]=S.useState(d);qv(()=>{h.current=!1,m.current=d;for(let E=0;E<y.length;E++){const k=Co(y[E]);f.includes(k)?p.delete(k):p.get(k)!==!0&&p.set(k,!1)}},[y,f.length,f.join("-")]);const x=[];if(d!==w){let E=[...d];for(let k=0;k<y.length;k++){const T=y[k],j=Co(T);f.includes(j)||(E.splice(k,0,T),x.push(T))}return s==="wait"&&x.length&&(E=x),v(Yp(E)),g(d),null}const{forceRender:C}=S.useContext(Kd);return _.jsx(_.Fragment,{children:y.map(E=>{const k=Co(E),T=o&&!u?!1:d===y||f.includes(k),j=()=>{if(p.has(k))p.set(k,!0);else return;let R=!0;p.forEach(he=>{he||(R=!1)}),R&&(C==null||C(),v(m.current),o&&(c==null||c()),i&&i())};return _.jsx(ME,{isPresent:T,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,root:l,onExitComplete:T?void 0:j,anchorX:a,children:E},k)})})},U0=S.createContext({strict:!1}),Qp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qi={};for(const t in Qp)qi[t]={isEnabled:e=>Qp[t].some(n=>!!e[n])};function LE(t){for(const e in t)qi[e]=P(P({},qi[e]),t[e])}const OE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ma(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OE.has(t)}let W0=t=>!ma(t);function FE(t){typeof t=="function"&&(W0=e=>e.startsWith("on")?!ma(e):t(e))}try{FE(require("@emotion/is-prop-valid").default)}catch(t){}function jE(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(W0(r)||n===!0&&ma(r)||!e&&!ma(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const Xa=S.createContext({});function Za(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Cs(t){return typeof t=="string"||Array.isArray(t)}const wf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xf=["initial",...wf];function Ja(t){return Za(t.animate)||xf.some(e=>Cs(t[e]))}function $0(t){return!!(Ja(t)||t.variants)}function VE(t,e){if(Ja(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Cs(n)?n:void 0,animate:Cs(i)?i:void 0}}return t.inherit!==!1?e:{}}function BE(t){const{initial:e,animate:n}=VE(t,S.useContext(Xa));return S.useMemo(()=>({initial:e,animate:n}),[qp(e),qp(n)])}function qp(t){return Array.isArray(t)?t.join(" "):t}const Ss={};function zE(t){for(const e in t)Ss[e]=t[e],rf(e)&&(Ss[e].isCSSVariable=!0)}function H0(t,{layout:e,layoutId:n}){return ur.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ss[t]||t==="opacity")}const UE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},WE=lr.length;function $E(t,e,n){let i="",r=!0;for(let s=0;s<WE;s++){const o=lr[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=L0(a,mf[o]);if(!l){r=!1;const c=UE[o]||o;i+=`${c}(${u}) `}n&&(e[o]=u)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Cf(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const u=e[l];if(ur.has(l)){o=!0;continue}else if(rf(l)){r[l]=u;continue}else{const c=L0(u,mf[l]);l.startsWith("origin")?(a=!0,s[l]=c):i[l]=c}}if(e.transform||(o||n?i.transform=$E(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}const Sf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function G0(t,e,n){for(const i in e)!Le(e[i])&&!H0(i,n)&&(t[i]=e[i])}function HE({transformTemplate:t},e){return S.useMemo(()=>{const n=Sf();return Cf(n,e,t),Object.assign({},n.vars,n.style)},[e])}function GE(t,e){const n=t.style||{},i={};return G0(i,n,t),Object.assign(i,HE(t,e)),i}function KE(t,e){const n={},i=GE(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const YE={offset:"stroke-dashoffset",array:"stroke-dasharray"},QE={offset:"strokeDashoffset",array:"strokeDasharray"};function qE(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?YE:QE;t[s.offset]=b.transform(-i);const o=b.transform(e),a=b.transform(n);t[s.array]=`${o} ${a}`}function K0(t,d,l,u,c){var f=d,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0}=f,a=it(f,["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"]);var p,w;if(Cf(t,a,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=(p=h.transformOrigin)!=null?p:"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(w=c==null?void 0:c.transformBox)!=null?w:"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),i!==void 0&&(h.scale=i),r!==void 0&&qE(h,r,s,o,!1)}const Y0=()=>F(P({},Sf()),{attrs:{}}),Q0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XE(t,e,n,i){const r=S.useMemo(()=>{const s=Y0();return K0(s,e,Q0(i),t.transformTemplate,t.style),F(P({},s.attrs),{style:P({},s.style)})},[e]);if(t.style){const s={};G0(s,t.style,t),r.style=P(P({},s),r.style)}return r}const ZE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ef(t){return typeof t!="string"||t.includes("-")?!1:!!(ZE.indexOf(t)>-1||/[A-Z]/u.test(t))}function JE(t,e,n,{latestValues:i},r,s=!1){const a=(Ef(t)?XE:KE)(e,i,r,t),l=jE(e,typeof t=="string",s),u=t!==S.Fragment?F(P(P({},l),a),{ref:n}):{},{children:c}=e,d=S.useMemo(()=>Le(c)?c.get():c,[c]);return S.createElement(t,F(P({},u),{children:d}))}function Xp(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Tf(t,e,n,i){if(typeof e=="function"){const[r,s]=Xp(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=Xp(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function Bo(t){return Le(t)?t.get():t}function eT({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:tT(n,i,r,t),renderState:e()}}function tT(t,e,n,i){const r={},s=i(t,{});for(const h in s)r[h]=Bo(s[h]);let{initial:o,animate:a}=t;const l=Ja(t),u=$0(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Za(d)){const h=Array.isArray(d)?d:[d];for(let m=0;m<h.length;m++){const p=Tf(t,h[m]);if(p){const f=p,{transitionEnd:w,transition:g}=f,y=it(f,["transitionEnd","transition"]);for(const v in y){let x=y[v];if(Array.isArray(x)){const C=c?x.length-1:0;x=x[C]}x!==null&&(r[v]=x)}for(const v in w)r[v]=w[v]}}}return r}const q0=t=>(e,n)=>{const i=S.useContext(Xa),r=S.useContext(qa),s=()=>eT(t,e,i,r);return n?s():Yd(s)};function kf(t,e,n){var s;const{style:i}=t,r={};for(const o in i)(Le(i[o])||e.style&&Le(e.style[o])||H0(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const nT=q0({scrapeMotionValuesFromProps:kf,createRenderState:Sf});function X0(t,e,n){const i=kf(t,e,n);for(const r in t)if(Le(t[r])||Le(e[r])){const s=lr.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const iT=q0({scrapeMotionValuesFromProps:X0,createRenderState:Y0}),rT=Symbol.for("motionComponentSymbol");function Ti(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function sT(t,e,n){return S.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ti(n)&&(n.current=i))},[e])}const If=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oT="framerAppearId",Z0="data-"+If(oT),J0=S.createContext({});function aT(t,e,n,i,r){var p,w;const{visualElement:s}=S.useContext(Xa),o=S.useContext(U0),a=S.useContext(qa),l=S.useContext(vf).reducedMotion,u=S.useRef(null);i=i||o.renderer,!u.current&&i&&(u.current=i(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=S.useContext(J0);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&lT(u.current,n,r,d);const f=S.useRef(!1);S.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const h=n[Z0],m=S.useRef(!!h&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,h))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,h)));return qv(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),m.current&&c.animationState&&c.animationState.animateChanges())}),S.useEffect(()=>{c&&(!m.current&&c.animationState&&c.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,h)}),m.current=!1),c.enteringChildren=void 0)}),c}function lT(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:e_(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Ti(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}function e_(t){if(t)return t.options.allowProjection!==!1?t.projection:e_(t.parent)}function Yl(t,{forwardMotionProps:e=!1}={},n,i){var a,l;n&&LE(n);const r=Ef(t)?iT:nT;function s(u,c){let d;const f=F(P(P({},S.useContext(vf)),u),{layoutId:uT(u)}),{isStatic:h}=f,m=BE(u),p=r(u,h);if(!h&&Qd){cT();const w=dT(f);d=w.MeasureLayout,m.visualElement=aT(t,p,f,i,w.ProjectionNode)}return _.jsxs(Xa.Provider,{value:m,children:[d&&m.visualElement?_.jsx(d,P({visualElement:m.visualElement},f)):null,JE(t,u,sT(p,m.visualElement,c),p,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${(l=(a=t.displayName)!=null?a:t.name)!=null?l:""})`}`;const o=S.forwardRef(s);return o[rT]=t,o}function uT({layoutId:t}){const e=S.useContext(Kd).id;return e&&t!==void 0?e+"-"+t:t}function cT(t,e){S.useContext(U0).strict}function dT(t){const{drag:e,layout:n}=qi;if(!e&&!n)return{};const i=P(P({},e),n);return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function fT(t,e){if(typeof Proxy=="undefined")return Yl;const n=new Map,i=(s,o)=>Yl(s,o,t,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,Yl(o,void 0,t,e)),n.get(o))})}function t_({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function hT({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pT(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Ql(t){return t===void 0||t===1}function Sc({scale:t,scaleX:e,scaleY:n}){return!Ql(t)||!Ql(e)||!Ql(n)}function On(t){return Sc(t)||n_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function n_(t){return Zp(t.x)||Zp(t.y)}function Zp(t){return t&&t!=="0%"}function ga(t,e,n){const i=t-n,r=e*i;return n+r}function Jp(t,e,n,i,r){return r!==void 0&&(t=ga(t,r,i)),ga(t,n,i)+e}function Ec(t,e=0,n=1,i,r){t.min=Jp(t.min,e,n,i,r),t.max=Jp(t.max,e,n,i,r)}function i_(t,{x:e,y:n}){Ec(t.x,e.translate,e.scale,e.originPoint),Ec(t.y,n.translate,n.scale,n.originPoint)}const em=.999999999999,tm=1.0000000000001;function mT(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ii(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,i_(t,o)),i&&On(s.latestValues)&&Ii(t,s.latestValues))}e.x<tm&&e.x>em&&(e.x=1),e.y<tm&&e.y>em&&(e.y=1)}function ki(t,e){t.min=t.min+e,t.max=t.max+e}function nm(t,e,n,i,r=.5){const s=ie(t.min,t.max,r);Ec(t,e,n,s,i)}function Ii(t,e){nm(t.x,e.x,e.scaleX,e.scale,e.originX),nm(t.y,e.y,e.scaleY,e.scale,e.originY)}function r_(t,e){return t_(pT(t.getBoundingClientRect(),e))}function gT(t,e,n){const i=r_(t,n),{scroll:r}=e;return r&&(ki(i.x,r.offset.x),ki(i.y,r.offset.y)),i}const im=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pi=()=>({x:im(),y:im()}),rm=()=>({min:0,max:0}),de=()=>({x:rm(),y:rm()}),Tc={current:null},s_={current:!1};function yT(){if(s_.current=!0,!!Qd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tc.current=t.matches;t.addEventListener("change",e),e()}else Tc.current=!1}const vT=new WeakMap;function _T(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Le(r))t.addValue(i,r);else if(Le(s))t.addValue(i,Qi(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Qi(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const sm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wT{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=He.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ee.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget=P({},l),this.initialValues=n.initial?P({},l):{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Ja(n),this.isVariantNode=$0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const f=this.scrapeMotionValuesFromProps(n,{},this),{willChange:c}=f,d=it(f,["willChange"]);for(const h in d){const m=d[h];l[h]!==void 0&&Le(m)&&m.set(l[h])}}mount(e){var n;this.current=e,vT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),s_.current||yT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tc.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Cn(this.notifyUpdate),Cn(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){var n;this.children.add(e),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ur.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ee.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qi){const n=qi[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):de()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<sm.length;i++){const r=sm[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=_T(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Qi(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!=null?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Xv(i)||Jv(i))?i=parseFloat(i):!DE(i)&&Sn.test(n)&&(i=b0(e,n)),this.setBaseTarget(e,Le(i)?i.get():i)),Le(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=Tf(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Le(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ef),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){gf.render(this.render)}}class o_ extends wT{constructor(){super(...arguments),this.KeyframeResolver=vE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Le(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function a_(t,{style:e,vars:n},i,r){const s=t.style;let o;for(o in e)s[o]=e[o];r==null||r.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function xT(t){return window.getComputedStyle(t)}class CT extends o_{constructor(){super(...arguments),this.type="html",this.renderInstance=a_}readValueFromInstance(e,n){var i;if(ur.has(n))return(i=this.projection)!=null&&i.isProjecting?gc(n):FS(e,n);{const r=xT(e),s=(rf(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return r_(e,n)}build(e,n,i){Cf(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return kf(e,n,i)}}const l_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ST(t,e,n,i){a_(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(l_.has(r)?r:If(r),e.attrs[r])}class ET extends o_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=de}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ur.has(n)){const i=M0(n);return i&&i.default||0}return n=l_.has(n)?n:If(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return X0(e,n,i)}build(e,n,i){K0(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){ST(e,n,i,r)}mount(e){this.isSVGTag=Q0(e.tagName),super.mount(e)}}const TT=(t,e)=>Ef(t)?new ET(e):new CT(e,{allowProjection:t!==S.Fragment});function Oi(t,e,n){const i=t.getProps();return Tf(i,e,n!==void 0?n:i.custom,t)}const kc=t=>Array.isArray(t);function kT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Qi(n))}function IT(t){return kc(t)?t[t.length-1]||0:t}function PT(t,e){let o=Oi(t,e)||{},{transitionEnd:i={},transition:r={}}=o,s=it(o,["transitionEnd","transition"]);s=P(P({},s),i);for(const a in s){const l=IT(s[a]);kT(t,a,l)}}function NT(t){return!!(Le(t)&&t.add)}function Ic(t,e){const n=t.getValue("willChange");if(NT(n))return n.add(e);if(!n&&Kt.WillChange){const i=new Kt.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function u_(t){return t.props[Z0]}const DT=t=>t!==null;function AT(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(DT),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const RT={type:"spring",stiffness:500,damping:25,restSpeed:10},MT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bT={type:"keyframes",duration:.8},LT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OT=(t,{keyframes:e})=>e.length>2?bT:ur.has(t)?t.startsWith("scale")?MT(e[1]):RT:LT;function FT(d){var f=d,{when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u}=f,c=it(f,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(c).length}const Pf=(t,e,n,i={},r,s)=>o=>{const a=pf(i,t)||{},l=a.delay||i.delay||0;let{elapsed:u=0}=i;u=u-At(l);const c=F(P({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity()},a),{delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r});FT(a)||Object.assign(c,OT(t,c)),c.duration&&(c.duration=At(c.duration)),c.repeatDelay&&(c.repeatDelay=At(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(xc(c),c.delay===0&&(d=!0)),(Kt.instantAnimations||Kt.skipAnimations)&&(d=!0,xc(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const f=AT(c.keyframes,a);if(f!==void 0){ee.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new ff(c):new oE(c)};function jT({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function c_(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var d;let c=e,{transition:s=t.getDefaultTransition(),transitionEnd:o}=c,a=it(c,["transition","transitionEnd"]);i&&(s=i);const l=[],u=r&&t.animationState&&t.animationState.getState()[r];for(const f in a){const h=t.getValue(f,(d=t.latestValues[f])!=null?d:null),m=a[f];if(m===void 0||u&&jT(u,f))continue;const p=P({delay:n},pf(s||{},f)),w=h.get();if(w!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===w&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const v=u_(t);if(v){const x=window.MotionHandoffAnimation(v,f,ee);x!==null&&(p.startTime=x,g=!0)}}Ic(t,f),h.start(Pf(f,h,m,t.shouldReduceMotion&&D0.has(f)?{type:!1}:p,t,g));const y=h.animation;y&&l.push(y)}return o&&Promise.all(l).then(()=>{ee.update(()=>{o&&PT(t,o)})}),l}function d_(t,e,n,i=0,r=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),o=t.size,a=(o-1)*i;return typeof n=="function"?n(s,o):r===1?s*i:a-s*i}function Pc(t,e,n={}){var l;const i=Oi(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(c_(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=r;return VT(t,e,u,c,d,f,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function VT(t,e,n=0,i=0,r=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Pc(l,e,F(P({},o),{delay:n+(typeof i=="function"?0:i)+d_(t.variantChildren,l,i,r,s)})).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function BT(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Pc(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=Pc(t,e,n);else{const r=typeof e=="function"?Oi(t,e,n.custom):e;i=Promise.all(c_(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function f_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const zT=xf.length;function h_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?h_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zT;n++){const i=xf[n],r=t.props[i];(Cs(r)||r===!1)&&(e[i]=r)}return e}const UT=[...wf].reverse(),WT=wf.length;function $T(t){return e=>Promise.all(e.map(({animation:n,options:i})=>BT(t,n,i)))}function HT(t){let e=$T(t),n=om(),i=!0;const r=l=>(u,c)=>{var f;const d=Oi(t,c,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const h=d,{transition:m,transitionEnd:p}=h,w=it(h,["transition","transitionEnd"]);u=P(P(P({},u),w),p)}return u};function s(l){e=l(t)}function o(l){const{props:u}=t,c=h_(t.parent)||{},d=[],f=new Set;let h={},m=1/0;for(let w=0;w<WT;w++){const g=UT[w],y=n[g],v=u[g]!==void 0?u[g]:c[g],x=Cs(v),C=g===l?y.isActive:null;C===!1&&(m=w);let E=v===c[g]&&v!==u[g]&&x;if(E&&i&&t.manuallyAnimateOnMount&&(E=!1),y.protectedKeys=P({},h),!y.isActive&&C===null||!v&&!y.prevProp||Za(v)||typeof v=="boolean")continue;const k=GT(y.prevProp,v);let T=k||g===l&&y.isActive&&!E&&x||w>m&&x,j=!1;const R=Array.isArray(v)?v:[v];let he=R.reduce(r(g),{});C===!1&&(he={});const{prevResolvedValues:Zt={}}=y,Dn=P(P({},Zt),he),mr=ce=>{T=!0,f.has(ce)&&(j=!0,f.delete(ce)),y.needsAnimating[ce]=!0;const D=t.getValue(ce);D&&(D.liveStyle=!1)};for(const ce in Dn){const D=he[ce],M=Zt[ce];if(h.hasOwnProperty(ce))continue;let O=!1;kc(D)&&kc(M)?O=!f_(D,M):O=D!==M,O?D!=null?mr(ce):f.add(ce):D!==void 0&&f.has(ce)?mr(ce):y.protectedKeys[ce]=!0}y.prevProp=v,y.prevResolvedValues=he,y.isActive&&(h=P(P({},h),he)),i&&t.blockInitialAnimation&&(T=!1);const Xs=E&&k;T&&(!Xs||j)&&d.push(...R.map(ce=>{const D={type:g};if(typeof ce=="string"&&i&&!Xs&&t.manuallyAnimateOnMount&&t.parent){const{parent:M}=t,O=Oi(M,ce);if(M.enteringChildren&&O){const{delayChildren:te}=O.transition||{};D.delay=d_(M.enteringChildren,t,te)}}return{animation:ce,options:D}}))}if(f.size){const w={};if(typeof u.initial!="boolean"){const g=Oi(t,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(w.transition=g.transition)}f.forEach(g=>{const y=t.getBaseTarget(g),v=t.getValue(g);v&&(v.liveStyle=!0),w[g]=y!=null?y:null}),d.push({animation:w})}let p=!!d.length;return i&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),i=!1,p?e(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=om(),i=!0}}}function GT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!f_(e,t):!1}function Mn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function om(){return{animate:Mn(!0),whileInView:Mn(),whileHover:Mn(),whileTap:Mn(),whileDrag:Mn(),whileFocus:Mn(),exit:Mn()}}class Nn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class KT extends Nn{constructor(e){super(e),e.animationState||(e.animationState=HT(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Za(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let YT=0;class QT extends Nn{constructor(){super(...arguments),this.id=YT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qT={animation:{Feature:KT},exit:{Feature:QT}};function Es(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function $s(t){return{point:{x:t.pageX,y:t.pageY}}}const XT=t=>e=>yf(e)&&t(e,$s(e));function Yr(t,e,n,i){return Es(t,e,XT(n),i)}const p_=1e-4,ZT=1-p_,JT=1+p_,m_=.01,ek=0-m_,tk=0+m_;function je(t){return t.max-t.min}function nk(t,e,n){return Math.abs(t-e)<=n}function am(t,e,n,i=.5){t.origin=i,t.originPoint=ie(e.min,e.max,t.origin),t.scale=je(n)/je(e),t.translate=ie(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ZT&&t.scale<=JT||isNaN(t.scale))&&(t.scale=1),(t.translate>=ek&&t.translate<=tk||isNaN(t.translate))&&(t.translate=0)}function Qr(t,e,n,i){am(t.x,e.x,n.x,i?i.originX:void 0),am(t.y,e.y,n.y,i?i.originY:void 0)}function lm(t,e,n){t.min=n.min+e.min,t.max=t.min+je(e)}function ik(t,e,n){lm(t.x,e.x,n.x),lm(t.y,e.y,n.y)}function um(t,e,n){t.min=e.min-n.min,t.max=t.min+je(e)}function qr(t,e,n){um(t.x,e.x,n.x),um(t.y,e.y,n.y)}function st(t){return[t("x"),t("y")]}const g_=({current:t})=>t?t.ownerDocument.defaultView:null,cm=(t,e)=>Math.abs(t-e);function rk(t,e){const n=cm(t.x,e.x),i=cm(t.y,e.y);return Math.sqrt(ml(n,2)+ml(i,2))}class y_{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xl(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=rk(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!m)return;const{point:p}=f,{timestamp:w}=Ie;this.history.push(F(P({},p),{timestamp:w}));const{onStart:g,onMove:y}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ql(h,this.transformPagePoint),ee.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Xl(f.type==="pointercancel"?this.lastMoveEventInfo:ql(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,g),p&&p(f,g)},!yf(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=$s(e),l=ql(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Ie;this.history=[F(P({},u),{timestamp:c})];const{onSessionStart:d}=n;d&&d(e,Xl(l,this.history)),this.removeListeners=zs(Yr(this.contextWindow,"pointermove",this.handlePointerMove),Yr(this.contextWindow,"pointerup",this.handlePointerUp),Yr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cn(this.updatePoint)}}function ql(t,e){return e?{point:e(t.point)}:t}function dm(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xl({point:t},e){return{point:t,delta:dm(t,v_(e)),offset:dm(t,sk(e)),velocity:ok(e,.1)}}function sk(t){return t[0]}function v_(t){return t[t.length-1]}function ok(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=v_(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>At(e)));)n--;if(!i)return{x:0,y:0};const s=Rt(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ak(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ie(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ie(n,t,i.max):Math.min(t,n)),t}function fm(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lk(t,{top:e,left:n,bottom:i,right:r}){return{x:fm(t.x,n,r),y:fm(t.y,e,i)}}function hm(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function uk(t,e){return{x:hm(t.x,e.x),y:hm(t.y,e.y)}}function ck(t,e){let n=.5;const i=je(t),r=je(e);return r>i?n=_s(e.min,e.max-i,t.min):i>r&&(n=_s(t.min,t.max-r,e.min)),Gt(0,1,n)}function dk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Nc=.35;function fk(t=Nc){return t===!1?t=0:t===!0&&(t=Nc),{x:pm(t,"left","right"),y:pm(t,"top","bottom")}}function pm(t,e,n){return{min:mm(t,e),max:mm(t,n)}}function mm(t,e){return typeof t=="number"?t:t[e]||0}const hk=new WeakMap;class pk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=de(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($s(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CE(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),st(g=>{let y=this.getAxisMotionValue(g).get()||0;if(Mt.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[g];x&&(y=je(x)*(parseFloat(y)/100))}}this.originPoint[g]=y}),p&&ee.postRender(()=>p(d,f)),Ic(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:w}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=f;if(m&&this.currentDirection===null){this.currentDirection=mk(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>st(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new y_(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:g_(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&ee.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!So(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=ak(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&Ti(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=lk(i.layoutBox,e):this.constraints=!1,this.elastic=fk(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&st(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dk(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ti(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=gT(i,r.root,this.visualElement.getTransformPagePoint());let o=uk(r.layout.layoutBox,s);if(n){const a=n(hT(o));this.hasMutatedConstraints=!!a,a&&(o=t_(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=st(c=>{if(!So(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const f=r?200:1e6,h=r?40:1e7,m=P(P({type:"inertia",velocity:i?e[c]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},s),d);return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ic(this.visualElement,e),i.start(Pf(e,i,0,n,this.visualElement,!1))}stopAnimation(){st(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){st(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){st(n=>{const{drag:i}=this.getProps();if(!So(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-ie(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ti(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};st(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=ck({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),st(o=>{if(!So(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ie(l,u,r[o]))})}addListeners(){if(!this.visualElement.current)return;hk.set(this.visualElement,this);const e=this.visualElement.current,n=Yr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Ti(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ee.read(i);const o=Es(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(st(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Nc,dragMomentum:a=!0}=e;return F(P({},e),{drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a})}}function So(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gk extends Nn{constructor(e){super(e),this.removeGroupControls=dt,this.removeListeners=dt,this.controls=new pk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const gm=t=>(e,n)=>{t&&ee.postRender(()=>t(e,n))};class yk extends Nn{constructor(){super(...arguments),this.removePointerDownListener=dt}onPointerDown(e){this.session=new y_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:g_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:gm(e),onStart:gm(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ee.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Yr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ym(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Er={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(b.test(t))t=parseFloat(t);else return t;const n=ym(t,e.target.x),i=ym(t,e.target.y);return`${n}% ${i}%`}},vk={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Sn.parse(t);if(r.length>5)return i;const s=Sn.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const u=ie(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=u),typeof r[3+o]=="number"&&(r[3+o]/=u),s(r)}};let Zl=!1;class _k extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;zE(wk),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),Zl&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(F(P({},s.options),{onExitComplete:()=>this.safeToRemove()}))),zo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,Zl=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ee.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gf.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;Zl=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function __(t){const[e,n]=z0(),i=S.useContext(Kd);return _.jsx(_k,F(P({},t),{layoutGroup:i,switchLayoutGroup:S.useContext(J0),isPresent:e,safeToRemove:n}))}const wk={borderRadius:F(P({},Er),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Er,borderTopRightRadius:Er,borderBottomLeftRadius:Er,borderBottomRightRadius:Er,boxShadow:vk};function xk(t,e,n){const i=Le(t)?t:Qi(t);return i.start(Pf("",i,e,n)),i.animation}const Ck=(t,e)=>t.depth-e.depth;class Sk{constructor(){this.children=[],this.isDirty=!1}add(e){qd(this.children,e),this.isDirty=!0}remove(e){Xd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ck),this.isDirty=!1,this.children.forEach(e)}}function Ek(t,e){const n=He.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Cn(i),t(s-e))};return ee.setup(i,!0),()=>Cn(i)}const w_=["TopLeft","TopRight","BottomLeft","BottomRight"],Tk=w_.length,vm=t=>typeof t=="string"?parseFloat(t):t,_m=t=>typeof t=="number"||b.test(t);function kk(t,e,n,i,r,s){var o,a,l,u;r?(t.opacity=ie(0,(o=n.opacity)!=null?o:1,Ik(i)),t.opacityExit=ie((a=e.opacity)!=null?a:1,0,Pk(i))):s&&(t.opacity=ie((l=e.opacity)!=null?l:1,(u=n.opacity)!=null?u:1,i));for(let c=0;c<Tk;c++){const d=`border${w_[c]}Radius`;let f=wm(e,d),h=wm(n,d);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||_m(f)===_m(h)?(t[d]=Math.max(ie(vm(f),vm(h),i),0),(Mt.test(h)||Mt.test(f))&&(t[d]+="%")):t[d]=h}(e.rotate||n.rotate)&&(t.rotate=ie(e.rotate||0,n.rotate||0,i))}function wm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ik=x_(0,.5,a0),Pk=x_(.5,.95,dt);function x_(t,e,n){return i=>i<t?0:i>e?1:n(_s(t,e,i))}function xm(t,e){t.min=e.min,t.max=e.max}function rt(t,e){xm(t.x,e.x),xm(t.y,e.y)}function Cm(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Sm(t,e,n,i,r){return t-=e,t=ga(t,1/n,i),r!==void 0&&(t=ga(t,1/r,i)),t}function Nk(t,e=0,n=1,i=.5,r,s=t,o=t){if(Mt.test(e)&&(e=parseFloat(e),e=ie(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ie(s.min,s.max,i);t===s&&(a-=e),t.min=Sm(t.min,e,n,a,r),t.max=Sm(t.max,e,n,a,r)}function Em(t,e,[n,i,r],s,o){Nk(t,e[n],e[i],e[r],e.scale,s,o)}const Dk=["x","scaleX","originX"],Ak=["y","scaleY","originY"];function Tm(t,e,n,i){Em(t.x,e,Dk,n?n.x:void 0,i?i.x:void 0),Em(t.y,e,Ak,n?n.y:void 0,i?i.y:void 0)}function km(t){return t.translate===0&&t.scale===1}function C_(t){return km(t.x)&&km(t.y)}function Im(t,e){return t.min===e.min&&t.max===e.max}function Rk(t,e){return Im(t.x,e.x)&&Im(t.y,e.y)}function Pm(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function S_(t,e){return Pm(t.x,e.x)&&Pm(t.y,e.y)}function Nm(t){return je(t.x)/je(t.y)}function Dm(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Mk{constructor(){this.members=[]}add(e){qd(this.members,e),e.scheduleRender()}remove(e){if(Xd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bk(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:h,skewY:m}=n;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),d&&(i+=`rotateX(${d}deg) `),f&&(i+=`rotateY(${f}deg) `),h&&(i+=`skewX(${h}deg) `),m&&(i+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Jl=["","X","Y","Z"],Lk=1e3;let Ok=0;function eu(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function E_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=u_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ee,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&E_(i)}function T_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Ok++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Vk),this.nodes.forEach(Wk),this.nodes.forEach($k),this.nodes.forEach(Bk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Sk)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new ef),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=B0(o)&&!PE(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;ee.read(()=>{d=window.innerWidth}),t(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,c&&c(),c=Ek(f,250),zo.hasAnimatedSinceResize&&(zo.hasAnimatedSinceResize=!1,this.nodes.forEach(Mm)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||Qk,{onLayoutAnimationStart:p,onLayoutAnimationComplete:w}=u.getProps(),g=!this.targetLayout||!S_(this.targetLayout,h),y=!d&&f;if(this.options.layoutRoot||this.resumeFrom||y||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v=F(P({},pf(m,"layout")),{onPlay:p,onComplete:w});(u.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(c,y)}else d||Mm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&E_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Am);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Rm);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Uk),this.nodes.forEach(Fk),this.nodes.forEach(jk)):this.nodes.forEach(Rm),this.clearAllSnapshots();const a=He.now();Ie.delta=Gt(0,1e3/60,a-Ie.timestamp),Ie.timestamp=a,Ie.isProcessing=!0,Ul.update.process(Ie),Ul.preRender.process(Ie),Ul.render.process(Ie),Ie.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zk),this.sharedNodes.forEach(Gk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!je(this.snapshot.measuredBox.x)&&!je(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=de(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!C_(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||On(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),qk(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return de();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Xk))){const{scroll:c}=this.root;c&&(ki(a.x,c.offset.x),ki(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=de();if(rt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&rt(a,o),ki(a.x,d.offset.x),ki(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=de();rt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ii(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),On(c.latestValues)&&Ii(l,c.latestValues)}return On(this.latestValues)&&Ii(l,this.latestValues),l}removeTransform(o){const a=de();rt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!On(u.latestValues))continue;Sc(u.latestValues)&&u.updateSnapshot();const c=de(),d=u.measurePageBox();rt(c,d),Tm(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return On(this.latestValues)&&Tm(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options=F(P(P({},this.options),o),{crossfade:o.crossfade!==void 0?o.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ie.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=Ie.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),qr(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=de(),this.targetWithTransforms=de()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ik(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rt(this.target,this.layout.layoutBox),i_(this.target,this.targetDelta)):rt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=de(),this.relativeTargetOrigin=de(),qr(this.relativeTargetOrigin,this.target,h.target),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sc(this.parent.latestValues)||n_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ie.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;rt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;mT(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=de());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cm(this.prevProjectionDelta.x,this.projectionDelta.x),Cm(this.prevProjectionDelta.y,this.projectionDelta.y)),Qr(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Dm(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dm(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pi(),this.projectionDelta=Pi(),this.projectionDeltaWithTransform=Pi()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c=P({},this.latestValues),d=Pi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=de(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,p=h!==m,w=this.getStack(),g=!w||w.members.length<=1,y=!!(p&&!g&&this.options.crossfade===!0&&!this.path.some(Yk));this.animationProgress=0;let v;this.mixTargetDelta=x=>{const C=x/1e3;bm(d.x,o.x,C),bm(d.y,o.y,C),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qr(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Kk(this.relativeTarget,this.relativeTargetOrigin,f,C),v&&Rk(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=de()),rt(v,this.relativeTarget)),p&&(this.animationValues=c,kk(c,u,this.latestValues,C,y,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Cn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ee.update(()=>{zo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qi(0)),this.currentAnimation=xk(this.motionValue,[0,1e3],F(P({},o),{velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&k_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||de();const d=je(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=je(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}rt(a,l),Ii(a,c),Qr(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mk),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&eu("z",o,u,this.animationValues);for(let c=0;c<Jl.length;c++)eu(`rotate${Jl[c]}`,o,u,this.animationValues),eu(`skew${Jl[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){var m,p;if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Bo(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Bo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!On(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=bk(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?o.opacity=u===this?(p=(m=c.opacity)!=null?m:this.latestValues.opacity)!=null?p:1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const w in Ss){if(c[w]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:v}=Ss[w],x=d==="none"?c[w]:g(c[w],u);if(y){const C=y.length;for(let E=0;E<C;E++)o[y[E]]=x}else v?this.options.visualElement.renderState.vars[w]=x:o[w]=x}this.options.layoutId&&(o.pointerEvents=u===this?Bo(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Am),this.root.sharedNodes.clear()}}}function Fk(t){t.updateLayout()}function jk(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?st(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],h=je(f);f.min=i[d].min,f.max=f.min+h}):k_(s,e.layoutBox,i)&&st(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],h=je(i[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const a=Pi();Qr(a,i,e.layoutBox);const l=Pi();o?Qr(l,t.applyTransform(r,!0),e.measuredBox):Qr(l,i,e.layoutBox);const u=!C_(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const m=de();qr(m,e.layoutBox,f.layoutBox);const p=de();qr(p,i,h.layoutBox),S_(m,p)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function Vk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Bk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zk(t){t.clearSnapshot()}function Am(t){t.clearMeasurements()}function Rm(t){t.isLayoutDirty=!1}function Uk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Mm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Wk(t){t.resolveTargetDelta()}function $k(t){t.calcProjection()}function Hk(t){t.resetSkewAndRotation()}function Gk(t){t.removeLeadSnapshot()}function bm(t,e,n){t.translate=ie(e.translate,0,n),t.scale=ie(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Lm(t,e,n,i){t.min=ie(e.min,n.min,i),t.max=ie(e.max,n.max,i)}function Kk(t,e,n,i){Lm(t.x,e.x,n.x,i),Lm(t.y,e.y,n.y,i)}function Yk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qk={duration:.45,ease:[.4,0,.1,1]},Om=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Fm=Om("applewebkit/")&&!Om("chrome/")?Math.round:dt;function jm(t){t.min=Fm(t.min),t.max=Fm(t.max)}function qk(t){jm(t.x),jm(t.y)}function k_(t,e,n){return t==="position"||t==="preserve-aspect"&&!nk(Nm(e),Nm(n),.2)}function Xk(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Zk=T_({attachResizeListener:(t,e)=>Es(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tu={current:void 0},I_=T_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!tu.current){const t=new Zk({});t.mount(window),t.setOptions({layoutScroll:!0}),tu.current=t}return tu.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Jk={pan:{Feature:yk},drag:{Feature:gk,ProjectionNode:I_,MeasureLayout:__}};function Vm(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ee.postRender(()=>s(e,$s(e)))}class eI extends Nn{mount(){const{current:e}=this.node;e&&(this.unmount=SE(e,(n,i)=>(Vm(this.node,i,"Start"),r=>Vm(this.node,r,"End"))))}unmount(){}}class tI extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zs(Es(this.node.current,"focus",()=>this.onFocus()),Es(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bm(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ee.postRender(()=>s(e,$s(e)))}class nI extends Nn{mount(){const{current:e}=this.node;e&&(this.unmount=IE(e,(n,i)=>(Bm(this.node,i,"Start"),(r,{success:s})=>Bm(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dc=new WeakMap,nu=new WeakMap,iI=t=>{const e=Dc.get(t.target);e&&e(t)},rI=t=>{t.forEach(iI)};function sI(n){var i=n,{root:t}=i,e=it(i,["root"]);const r=t||document;nu.has(r)||nu.set(r,{});const s=nu.get(r),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(rI,P({root:t},e))),s[o]}function oI(t,e,n){const i=sI(e);return Dc.set(t,n),i.observe(t),()=>{Dc.delete(t),i.unobserve(t)}}const aI={some:0,all:1};class lI extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:aI[r]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return oI(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uI(e,n))&&this.startObserver()}unmount(){}}function uI({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const cI={inView:{Feature:lI},tap:{Feature:nI},focus:{Feature:tI},hover:{Feature:eI}},dI={layout:{ProjectionNode:I_,MeasureLayout:__}},fI=P(P(P(P({},qT),cI),Jk),dI),Ts=fT(fI,TT),zm=["#5398cb","#6d3231","#48af55","#0b3d42","#caccad"],Um=["/family-hub/watermarks/Bowl.svg","/family-hub/watermarks/Cheese.svg","/family-hub/watermarks/Lemons.svg","/family-hub/watermarks/Lettuce.svg","/family-hub/watermarks/Strawberries.svg"];function hI({isOpen:t,onClose:e,onSave:n,currentItems:i=[]}){const[r,s]=S.useState(""),o=S.useRef(null);if(S.useEffect(()=>{t&&o.current&&setTimeout(()=>{var l;(l=o.current)==null||l.focus()},100)},[t]),!t)return null;function a(l){l.preventDefault();const u=r.trim();if(!u)return;const c=i;let d=c.length>0?c[0].special:!1,f=0;for(let g=0;g<Math.min(5,c.length)&&!c[g].special;g++)f++;let h=!1;d?h=!1:f>=5?h=!0:h=Math.random()<.25;let m=null,p=null;h&&(m=zm[Math.floor(Math.random()*zm.length)],p=Um[Math.floor(Math.random()*Um.length)],console.log("AddGroceryModal: Assigning pattern:",p,"to special item"));const w={id:Date.now(),name:u,text:u,addedAt:Date.now(),done:!1,checked:!1,special:h,bgColor:m,bgPattern:p};n==null||n(w),e(),s("")}return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-card rounded-xl shadow-modal p-6 w-full max-w-md",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-lg font-bold",children:"Add a New Grocery Item"}),_.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),_.jsxs("form",{className:"space-y-4",onSubmit:a,children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item"}),_.jsx("input",{ref:o,type:"text",className:"w-full border rounded p-2",placeholder:"e.g. Bananas",value:r,onChange:l=>s(l.target.value)})]}),_.jsxs("div",{className:"flex justify-between mt-6",children:[_.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:e,children:"Cancel"}),_.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})})}function Ac({isOpen:t,task:e,onClose:n,onSave:i,onDelete:r}){const[s,o]=S.useState(""),[a,l]=S.useState(""),[u,c]=S.useState(""),d=S.useRef(null);if(S.useEffect(()=>{e&&(o(e.description||""),l(e.frequency||""),c(e.recurring?"true":"false"))},[e]),S.useEffect(()=>{t&&d.current&&d.current.focus()},[t]),!t&&!e)return null;function f(h){if(h.preventDefault(),!s||!a||!u)return;const m={id:e?e.id:Date.now(),description:s,frequency:a,recurring:u==="true",done:e?e.done:!1,lastCompleted:e?e.lastCompleted:null};i==null||i(m),n()}return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-card rounded-xl shadow-modal p-6 w-full max-w-md",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-lg font-bold",children:e?"Edit Task":"Add a New To-Do"}),_.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),_.jsxs("form",{className:"space-y-4",onSubmit:f,children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),_.jsx("input",{ref:d,type:"text",className:"w-full border rounded p-2",value:s,onChange:h=>o(h.target.value)})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequency"}),_.jsxs("select",{className:"w-full border rounded p-2",value:a,onChange:h=>l(h.target.value),children:[_.jsx("option",{value:"",children:"Select..."}),_.jsx("option",{value:"daily",children:"Daily"}),_.jsx("option",{value:"weekly",children:"Weekly"}),_.jsx("option",{value:"monthly",children:"Monthly"}),_.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recurring"}),_.jsxs("select",{className:"w-full border rounded p-2",value:u,onChange:h=>c(h.target.value),children:[_.jsx("option",{value:"",children:"Select..."}),_.jsx("option",{value:"true",children:"Yes"}),_.jsx("option",{value:"false",children:"No"})]})]}),_.jsxs("div",{className:"flex justify-between mt-6",children:[_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:n,children:"Cancel"}),e&&r&&_.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:()=>{r(e),n()},children:"Delete"})]}),_.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})})}const Wm=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function pI({isOpen:t,initialData:e,onClose:n,onSave:i}){const[r,s]=S.useState(e||{}),o=S.useRef(null);if(S.useEffect(()=>{t&&o.current&&o.current.focus()},[t]),!t)return null;const a=(u,c)=>{s(F(P({},r),{[u]:c}))},l=u=>{u.preventDefault(),i==null||i(r),n()};return _.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:_.jsxs("form",{onSubmit:l,className:"bg-card rounded-xl shadow-modal p-6 w-full max-w-md",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-lg font-bold",children:"Edit Weekly Meals"}),_.jsx("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),_.jsx("div",{className:"flex flex-col gap-3 max-h-[60vh] overflow-y-auto scrollbar-hide",children:Wm.map(u=>_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u}),_.jsx("input",{ref:u===Wm[0]?o:null,type:"text",value:r[u]||"",onChange:c=>a(u,c.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1 text-sm"})]},u))}),_.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[_.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded text-sm bg-gray-100 hover:bg-gray-200",children:"Cancel"}),_.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})})}function mI({current:t,onNavigate:e,onSaveGrocery:n,onSaveTask:i,onSaveMeals:r,groceryItems:s}){const o=typeof window!="undefined"&&window.innerWidth<768,a=o?["ALERTS"]:["ALERTS","HOME","FAMILY"],[l,u]=S.useState(null),c=()=>u(null);return _.jsxs(_.Fragment,{children:[_.jsx("footer",{className:"fixed bottom-0 left-0 w-full z-30 bg-[#F7E4C3] h-[70px] sm:h-[111px] md:h-[108px]",children:_.jsxs("div",{className:"flex items-center justify-between max-w-screen-xl mx-auto px-4 sm:px-8 h-full",children:[_.jsx("div",{className:"flex gap-4 sm:gap-16 text-[#5A3210] text-lg sm:text-2xl md:text-3xl lg:text-4xl font-bold font-condensed uppercase tracking-wide ml-[10px] sm:ml-[25px]",children:a.map(d=>_.jsx("button",{onClick:()=>e(d),className:`transition-opacity duration-200 ${d===t?"opacity-100":"opacity-60"} font-condensed font-bold`,children:d},d))}),_.jsx("div",{className:"relative z-10",style:{right:o?"0px":"5px",position:"relative"},children:_.jsxs("div",{className:`flex ${o?"gap-0":"gap-8"} bg-[#F7E4C3] rounded-tl-[74px] rounded-tr-[74px] px-3 sm:px-5 pt-4 sm:pt-7 pb-2 sm:pb-4 -translate-y-3 sm:-translate-y-6`,style:{transform:o?"translateY(-12px) scale(0.8)":"translateY(-24px) scale(1.15)"},children:[_.jsx(gI,{onSelect:u}),!o&&_.jsx(yI,{})]})})]})}),_.jsx(hI,{isOpen:l==="grocery",onClose:c,onSave:n,currentItems:s}),_.jsx(Ac,{isOpen:l==="task",task:null,onClose:c,onSave:i}),_.jsx(pI,{isOpen:l==="meals",onClose:c,onSave:r})]})}function gI({onSelect:t}){const[e,n]=S.useState(!1),i=r=>{n(!1),t(r)};return _.jsxs("div",{className:"relative",children:[_.jsx("button",{onClick:()=>n(!e),className:"w-20 h-20 rounded-full flex items-center justify-center text-white transition-transform duration-300 ease-in-out active:scale-95",style:{backgroundColor:"#B75634"},children:_.jsx(Ts.div,{initial:!1,animate:{rotate:e?405:0},transition:{duration:.3},className:"w-10 h-10",children:_.jsx("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-black",children:_.jsx("path",{d:"M12 5V19M5 12H19",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),_.jsx(_f,{children:e&&_.jsxs(Ts.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:-50,scale:1.25,x:-75},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute bottom-20 left-0 w-56 bg-white rounded-xl shadow-lg p-6 text-left z-20",children:[_.jsx("div",{className:"text-sm text-gray-500 mb-1 text-left pl-2",children:"Create a new"}),_.jsxs("ul",{className:"space-y-2 text-left",children:[_.jsx("li",{children:_.jsx("button",{onClick:r=>{r.stopPropagation(),i("grocery")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"Grocery Item"})}),_.jsx("li",{children:_.jsx("button",{onClick:r=>{r.stopPropagation(),i("task")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"To-Do"})}),_.jsx("li",{children:_.jsx("button",{onClick:r=>{r.stopPropagation(),i("meals")},className:"w-full text-left pl-2 py-2 rounded-lg hover:bg-gray-100 text-gray-800 font-medium",children:"Weekly Meal Plan"})})]})]})})]})}function yI(){return _.jsx("button",{onClick:()=>{},className:"w-20 h-20 rounded-full flex items-center justify-center text-black transition-transform duration-100 ease-in-out active:scale-95",style:{backgroundColor:"#EFB643"},children:_.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-black",children:[_.jsx("path",{d:"M12 15C13.6569 15 15 13.6569 15 12V6C15 4.34315 13.6569 3 12 3C10.3431 3 9 4.34315 9 6V12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M19 10V12C19 15.3137 16.3137 18 13 18H11C7.68629 18 5 15.3137 5 12V10",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M12 18V22",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),_.jsx("path",{d:"M8 22H16",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}function el({title:t,rightSlot:e=null,className:n=""}){return _.jsxs("div",{className:`flex justify-between items-center mb-block ${n}`,children:[_.jsx("h2",{className:"text-[36px] font-serif text-[#5A3210]",children:t}),e&&_.jsx("div",{children:e})]})}class vI{constructor(){this.apiKey=null,this.isInitialized=!1}initialize(e,n){return pe(this,null,function*(){try{if(!e)throw new Error("API key is required");return this.apiKey=e,this.isInitialized=!0,!0}catch(i){return console.error("Failed to initialize Google Calendar service:",i),!1}})}getEvents(e="primary",n=10){return pe(this,null,function*(){if(!this.isInitialized)throw new Error("Google Calendar service not initialized");try{const i=new Date,r=new Date(i);r.setDate(i.getDate()+7);const s=new URLSearchParams({key:this.apiKey,timeMin:i.toISOString(),timeMax:r.toISOString(),maxResults:n.toString(),singleEvents:"true",orderBy:"startTime"}),o=`https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(e)}/events?${s}`,a=yield fetch(o);if(!a.ok)throw new Error(`Google Calendar API error: ${a.status} ${a.statusText}`);const l=yield a.json();return this.formatEvents(l.items||[])}catch(i){throw console.error("Failed to fetch calendar events:",i),i}})}formatEvents(e){return e.map(n=>{var l,u,c,d;const i=((l=n.start)==null?void 0:l.dateTime)||((u=n.start)==null?void 0:u.date),r=((c=n.end)==null?void 0:c.dateTime)||((d=n.end)==null?void 0:d.date);let s="",o=60,a="1h";if(i){const f=new Date(i);if(s=f.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),r){const h=new Date(r);if(o=Math.round((h-f)/(1e3*60)),o>=60){const m=Math.floor(o/60),p=o%60;a=p>0?`${m}h${p}`:`${m}h`}else a=`${o} minutes`}}return{id:n.id,summary:n.summary||"No title",time:s,duration:o,formattedDuration:a,date:i?new Date(i):new Date,location:n.location,description:n.description}})}groupEventsByDay(e){const n=[[],[],[]];return e.forEach(i=>{if(!i.date)return;let r=new Date(i.date);const s=new Date;for(let o=0;o<3;o++){const a=new Date(s);if(a.setDate(s.getDate()+o),r.getDate()===a.getDate()&&r.getMonth()===a.getMonth()&&r.getFullYear()===a.getFullYear()){n[o].push(i);break}}}),n}}const iu=new vI,Or={API_KEY:"AIzaSyAYiobTSL1_Zn2ZZQXp140AM23U7wlELpk",CLIENT_ID:"your_client_id_here",CALENDAR_ID:"kyle.e.schultz@gmail.com",MAX_RESULTS:20},_I=()=>!!Or.API_KEY;function wI(){const[t,e]=S.useState([]),[n,i]=S.useState(!0),[r,s]=S.useState(null),[o,a]=S.useState(!1),l=new Date,u=[[{id:1,summary:"School Pickup",time:"2:30 pm",duration:30,formattedDuration:"30 minutes"},{id:2,summary:"Grocery Run",time:"3:30 pm",duration:45,formattedDuration:"45 minutes"},{id:3,summary:"Soccer Practice",time:"5:00 pm",duration:90,formattedDuration:"1h30"}],[{id:4,summary:"Therapy Session",time:"10:00 am",duration:60,formattedDuration:"1h"},{id:5,summary:"Zoom Meeting",time:"11:30 am",duration:30,formattedDuration:"30 minutes"},{id:6,summary:"Pizza Friday",time:"6:00 pm",duration:60,formattedDuration:"1h"}],[{id:7,summary:"Morning Run",time:"7:00 am",duration:45,formattedDuration:"45 minutes"},{id:8,summary:"Book Club with Really Long Name That Might Overflow",time:"4:00 pm",duration:90,formattedDuration:"1h30"},{id:9,summary:"Date Night",time:"7:30 pm",duration:120,formattedDuration:"2h"}]];return S.useEffect(()=>{(()=>pe(this,null,function*(){try{if(i(!0),s(null),!_I()){e(u),a(!0),i(!1);return}if(!(yield iu.initialize(Or.API_KEY,Or.CLIENT_ID)))throw new Error("Failed to initialize calendar service");const f=yield iu.getEvents(Or.CALENDAR_ID,Or.MAX_RESULTS),h=iu.groupEventsByDay(f);e(h),a(!1)}catch(d){console.error("Error fetching calendar events:",d),s(d.message),e(u),a(!0)}finally{i(!1)}}))()},[]),_.jsxs("section",{className:"w-full mb-8",children:[_.jsx(el,{title:`Calendar ${o?"(Demo)":""}`,className:"mb-4"}),r&&_.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:_.jsxs("p",{className:"text-sm text-yellow-800",children:["Calendar sync issue: ",r,". Showing demo data."]})}),_.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-xl px-6 pt-6 pb-6 overflow-x-auto h-[350px]",children:n?_.jsx("div",{className:"flex items-center justify-center h-full",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#48AF55] mx-auto mb-2"}),_.jsx("p",{className:"text-gray-500",children:"Loading calendar events..."})]})}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-x divide-gray-300 h-full",children:t.map((c,d)=>{const f=new Date(l);f.setDate(l.getDate()+d);const h=f.toLocaleDateString(void 0,{month:"long",day:"numeric"}),m=f.toLocaleDateString(void 0,{weekday:"long"});return _.jsxs("div",{className:`${d===2?"pl-6 pr-2":"px-6"} flex flex-col h-full`,children:[_.jsx("div",{className:"text-base text-gray-500 font-medium leading-none",children:m}),_.jsx("div",{className:"text-xl font-serif font-bold text-black mb-3",children:h}),_.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide",children:_.jsx("div",{className:"flex flex-col gap-2 pb-6",children:c.length===0?_.jsx("p",{className:"text-base text-gray-500 italic",children:"No events"}):c.map(p=>{const w=new Date(`${f.toDateString()} ${p.time}`),g=new Date(w);g.setMinutes(g.getMinutes()+p.duration);const y=g<new Date;return _.jsxs("div",{className:`w-full bg-[#0B3D42] rounded-md px-2 py-4 text-base text-white ${y?"opacity-70":""}`,children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-10 bg-gradient-to-l from-[#0B3D42] to-transparent pointer-events-none z-10"}),_.jsx("div",{className:"font-semibold text-lg truncate whitespace-nowrap overflow-hidden pr-10",children:p.summary})]}),_.jsxs("div",{className:"text-sm",children:[p.time," | ",p.formattedDuration]})]},p.id)})})})]},d)})})})]})}function xI(t,e){function n(l){l=l.replace("#",""),l.length===3&&(l=l.split("").map(c=>c+c).join(""));const u=parseInt(l,16);return[u>>16,u>>8&255,u&255]}function i([l,u,c]){const d=[l,u,c].map(f=>(f/=255,f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)));return .2126*d[0]+.7152*d[1]+.0722*d[2]}const r=i(n(t)),s=i(n(e)),o=Math.max(r,s),a=Math.min(r,s);return(o+.05)/(a+.05)}const $m=["#5398cb","#6d3231","#48af55","#0b3d42","#caccad"],ru=["/family-hub/watermarks/Bowl.svg","/family-hub/watermarks/Cheese.svg","/family-hub/watermarks/Lemons.svg","/family-hub/watermarks/Lettuce.svg","/family-hub/watermarks/Strawberries.svg"],$n={"/family-hub/watermarks/Bowl.svg":{size:"213px 106px",position:"calc(100% + 25px) calc(50% - 5px)",opacity:.6},"/family-hub/watermarks/Cheese.svg":{size:"238px 119px",position:"calc(100% + 35px) center",opacity:.6},"/family-hub/watermarks/Lemons.svg":{size:"250px 125px",position:"calc(100% + 25px) center",opacity:.6},"/family-hub/watermarks/Lettuce.svg":{size:"280px 140px",position:"calc(100% + 55px) calc(50% - 10px)",opacity:.6,transform:"rotate(15deg)"},"/family-hub/watermarks/Strawberries.svg":{size:"250px 125px",position:"calc(100% + 25px) center",opacity:.6}};function CI({text:t,isSpecial:e,bgColor:n,bgPattern:i,className:r,textColor:s}){var u,c,d,f;const o=S.useRef(null),[a,l]=S.useState(!1);return S.useEffect(()=>{const h=()=>{if(o.current){const m=o.current;l(m.scrollWidth>m.clientWidth)}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[t]),_.jsxs("span",{ref:o,className:`${r} whitespace-nowrap overflow-hidden relative`,children:[t,a&&_.jsx("div",{className:"absolute top-0 right-0 w-8 h-full pointer-events-none",style:{background:e?`linear-gradient(to right, transparent 0%, ${n||"#ffffff"} 100%)`:"linear-gradient(to right, transparent 0%, rgb(249, 250, 251) 100%)",backgroundImage:e&&i?`url('${i}')`:void 0,backgroundRepeat:"no-repeat",backgroundSize:e&&i&&((c=(u=$n[i])==null?void 0:u.size)==null?void 0:c.replace("250px","125px").replace("125px","62px"))||"125px 62px",backgroundPosition:e&&i&&((d=$n[i])==null?void 0:d.position)||"calc(100% + 25px) center",backgroundBlendMode:"normal",opacity:e&&i?((f=$n[i])==null?void 0:f.opacity)||.6:1,filter:e&&i&&s?s==="#000000"?"brightness(0) invert(0)":"brightness(0) invert(1)":"none"}})]})}function SI({items:t=[],setItems:e,addGroceryItem:n,updateGroceryItem:i}){const r=typeof window!="undefined"&&window.innerWidth<768;console.log("ShoppingList render - items:",t),console.log("ShoppingList render - unchecked items:",t.filter(p=>!p.checked));function s(p){return p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():""}const[o,a]=S.useState(!1),[l,u]=S.useState(null),[c,d]=S.useState(""),f=S.useRef(null);t=t||[],S.useEffect(()=>{o&&f.current&&setTimeout(()=>{var p;(p=f.current)==null||p.focus()},100)},[o]);function h(){if(c.trim()){if(console.log("handleSave called. editItem:",l,"input:",c),l)if(i)i(l.id,{text:c});else{const p=t.map(w=>w.id===l.id?F(P({},w),{text:c}):w);console.log("Updated items after edit:",p),e(p)}else{let p=!r&&Math.random()<.75;console.log("Random special decision:",p,"isMobile:",r);let w=null,g=null;if(p){w=$m[Math.floor(Math.random()*$m.length)],console.log("Current items array:",t.slice(0,5).map(C=>({text:C.text,special:C.special,pattern:C.bgPattern})));let v=null;for(let C=0;C<Math.min(10,t.length);C++)if(t[C].special&&t[C].bgPattern){v=t[C].bgPattern,console.log("Found last special pattern at index",C,":",v);break}let x=ru.filter(C=>C!==v);x.length===0&&(x=ru),g=x[Math.floor(Math.random()*x.length)],console.log("Assigning pattern:",g,"to special item (avoiding:",v,")"),console.log("Available patterns were:",x),console.log("All patterns:",ru)}const y={id:Date.now(),text:c,checked:!1,special:p,bgColor:w,bgPattern:g};if(console.log("Adding new item with pattern:",y),n)n(y);else{const v=[y,...t];console.log("Updated items after add:",v),e(v)}}a(!1),d(""),u(null)}}function m(p){if(i){const w=t.find(g=>g.id===p);w&&i(p,{checked:!w.checked})}else{const w=t.map(g=>g.id===p?F(P({},g),{checked:!g.checked}):g);e(w)}}return _.jsxs("div",{className:"h-full",children:[_.jsx(el,{title:"Shopping List",className:"mb-4",rightSlot:_.jsx("button",{onClick:()=>{e([])},className:"text-gray-500 hover:text-red-500 text-sm font-medium transition-all duration-200 active:scale-95",style:{marginRight:r?"0px":"50px"},children:"Delete All"})}),_.jsx("div",{className:`bg-white border border-gray-200 rounded-3xl shadow-xl ${r?"p-4 h-[400px]":"p-8 h-[500px]"} flex flex-col`,children:t.filter(p=>!p.checked).length===0?_.jsx("div",{className:"flex-1"}):_.jsx("ul",{className:`${r?"space-y-2":"space-y-3"} overflow-y-auto pr-2 scrollbar-hide`,children:_.jsx(_f,{children:t.filter(p=>!p.checked).map(p=>{var x,C,E,k;let w={},g="#ffffff",y=r?"1rem":"1.5rem",v=r?"3rem":"4.5rem";return p.special&&!r&&(v="7.875rem",y="1.75rem",p.bgColor&&xI(p.bgColor,g)<4.5&&(g="#000000"),console.log("Special item - bgColor:",p.bgColor,"bgPattern:",p.bgPattern,"textColor:",g),w={background:p.bgColor,backgroundImage:"none",backgroundRepeat:"no-repeat",backgroundSize:"250px 125px",backgroundPosition:"calc(100% + 25px) center",backgroundBlendMode:"normal",position:"relative",color:g,fontSize:y,height:v,borderRadius:"1rem",display:"flex",alignItems:"center",boxShadow:"0 2px 8px 0 rgba(0,0,0,0.10)",border:"2px solid #e5e7eb",padding:"0 1.5rem",fontWeight:700}),_.jsxs(Ts.li,{className:"flex items-center gap-[43px]",initial:{opacity:0,scale:.8,x:40},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.8,x:40},transition:{duration:.4,ease:"easeInOut"},children:[_.jsx("input",{type:"checkbox",className:`${r?"w-4 h-4":"w-5 h-5"} accent-primary flex-shrink-0`,checked:p.checked,onChange:()=>m(p.id)}),_.jsxs("div",{className:p.special&&!r?"flex-1 flex items-center justify-between overflow-hidden relative":`bg-gray-50 rounded-xl ${r?"px-3 py-2 text-sm":"px-4 py-3 text-base"} text-gray-800 flex-1 flex items-center shadow-sm border border-gray-100 hover:shadow-md transition overflow-hidden`,style:p.special&&!r?w:{},children:[p.special&&!r&&p.bgPattern&&_.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{backgroundImage:`url('${p.bgPattern}')`,backgroundRepeat:"no-repeat",backgroundSize:((x=$n[p.bgPattern])==null?void 0:x.size)||"250px 125px",backgroundPosition:((C=$n[p.bgPattern])==null?void 0:C.position)||"calc(100% + 25px) center",opacity:((E=$n[p.bgPattern])==null?void 0:E.opacity)||.6,transform:((k=$n[p.bgPattern])==null?void 0:k.transform)||"none",filter:g==="#000000"?"brightness(0) invert(0)":"brightness(0) invert(1)"}}),_.jsx(CI,{text:s(p.text||p.name||""),isSpecial:p.special&&!r,bgColor:p.bgColor,bgPattern:p.bgPattern,textColor:g,className:p.special&&!r?"tracking-wide":"font-medium tracking-wide"})]})]},p.id)})})})}),o&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:_.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md border border-gray-100",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-2xl font-serif text-[#5A3210]",children:l?"Edit Item":"Add New Item"}),_.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600 text-2xl font-light w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors",children:"✕"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item Name"}),_.jsx("input",{ref:f,type:"text",value:c,onChange:p=>d(p.target.value),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:border-primary focus:outline-none transition-colors text-base",placeholder:"e.g., Bananas, Milk, Bread...",onKeyDown:p=>p.key==="Enter"&&h()})]}),_.jsxs("div",{className:"flex justify-between gap-3",children:[_.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),_.jsx("button",{onClick:h,className:"flex-1 px-6 py-3 bg-primary text-white rounded-xl font-medium hover:bg-indigo-700 transition-colors shadow-md",children:l?"Update":"Add Item"})]})]})})]})}function EI({task:t,onToggle:e,onLongPress:n,isDeleting:i,frequencyColor:r}){const s=S.useRef(null),[o,a]=S.useState([]),l=d=>{const f=d.currentTarget.getBoundingClientRect(),h=d.clientX-f.left,m=d.clientY-f.top;s.current=setTimeout(()=>{a(p=>[...p,{id:Date.now(),x:h,y:m}]),n(t)},600)},u=()=>{clearTimeout(s.current)},c=d=>{a(f=>f.filter(h=>h.id!==d))};return _.jsxs("li",{onPointerDown:l,onPointerUp:u,onPointerLeave:u,className:`
        relative overflow-hidden flex items-center justify-between
        rounded-md px-4 py-4 text-base text-white transition-all duration-300
        ${i?"opacity-0 translate-x-4":""}
      `,style:{backgroundColor:r},children:[o.map(d=>_.jsx("span",{onAnimationEnd:()=>c(d.id),className:"absolute pointer-events-none animate-ripple bg-black/10 rounded-full",style:{left:d.x,top:d.y,width:100,height:100,marginLeft:-50,marginTop:-50}},d.id)),_.jsxs("div",{className:"flex items-center gap-3 w-full",children:[_.jsx("input",{type:"checkbox",className:"w-5 h-5",checked:t.done,onChange:()=>e(t.id)}),_.jsx("span",{className:"w-full cursor-pointer",children:t.description})]})]})}const TI=["daily","weekly","monthly","quarterly"],Hm={daily:"#69A5D1",weekly:"#B75634",monthly:"#EFB643",quarterly:"#6AA968"};function kI({tasks:t=[],setTasks:e,addTask:n,updateTask:i,removeTask:r}){const s=[{id:1,description:"Feed Coltrane",frequency:"daily",recurring:!0,done:!1},{id:2,description:"Unload dishwasher",frequency:"daily",recurring:!1,done:!1},{id:3,description:"Take out trash",frequency:"weekly",recurring:!0,done:!1},{id:4,description:"Change air filter",frequency:"monthly",recurring:!0,done:!1},{id:5,description:"Clean gutters",frequency:"quarterly",recurring:!0,done:!1}],[o,a]=S.useState(!1),[l,u]=S.useState(null),[c,d]=S.useState([]);S.useEffect(()=>{t.length===0&&e&&e(s)},[t.length,e,s]),S.useEffect(()=>{if(e&&t.length>0){const m=t.map(p=>{if(!p.recurring||!p.lastCompleted||!p.done)return p;const w=new Date(p.lastCompleted),y=Math.floor((new Date-w)/(1e3*60*60*24)),v={daily:1,weekly:7,monthly:30,quarterly:120}[p.frequency];return y>=v?F(P({},p),{done:!1,lastCompleted:null}):p});JSON.stringify(m)!==JSON.stringify(t)&&e(m)}},[e,t]);function f(m){d(p=>[...p,m]),setTimeout(()=>{const p=t.find(g=>g.id===m);if(!p)return;const w=F(P({},p),{done:!p.done,lastCompleted:p.done?null:new Date().toISOString()});if(!p.recurring&&!p.done){if(r)r(m);else if(e){const g=t.filter(y=>y.id!==m);e(g)}}else if(i)i(m,w);else if(e){const g=t.map(y=>y.id===m?w:y);e(g)}d(g=>g.filter(y=>y!==m))},300)}function h(m){u(m)}return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"h-full",children:[_.jsx(el,{title:"Our Tasks",className:"mb-4"}),_.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl shadow-xl p-6 h-[500px] overflow-y-auto flex flex-col scrollbar-hide",children:TI.map(m=>{const p=t.filter(w=>w.frequency===m&&!w.done);return p.length===0?null:_.jsxs("div",{className:"mb-block",children:[_.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide mb-2",style:{color:Hm[m]},children:m}),_.jsx("ul",{className:"space-y-2",children:p.map(w=>_.jsx(EI,{task:w,onToggle:f,onLongPress:h,isDeleting:c.includes(w.id),frequencyColor:Hm[w.frequency]},w.id))})]},m)})})]}),o&&_.jsx(Ac,{onClose:()=>a(!1),onSave:m=>{n?n(m):e&&e([...t,m]),a(!1)}}),l&&_.jsx(Ac,{isOpen:!0,task:l,onClose:()=>u(null),onSave:m=>{if(i)i(m.id,m);else if(e){const p=t.map(w=>w.id===m.id?m:w);e(p)}u(null)},onDelete:m=>{if(r)r(m.id);else if(e){const p=t.filter(w=>w.id!==m.id);e(p)}u(null)}})]})}function II({meals:t={}}){console.log("WeeklyMeals: received meals prop:",t);const e=["Chicken Alfredo","Taco Tuesday","Beef Stir Fry","Lemon Herb Salmon","Pizza Night","BBQ Ribs","Roast Chicken"],n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],i=n.map((l,u)=>t[l]||e[u]);console.log("WeeklyMeals: final mealNames:",i);const r=["https://images.unsplash.com/photo-1578515637272-e4afe0b8ec82?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1526213174737-acd9757c6bf3?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1482275548304-a58859dc31b7?q=80&w=2076&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1547573854-74d2a71d0826?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1630443876697-e0d2faac7b51?q=80&w=2072&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1471193945509-9ad0617afabf?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1519671482749-fd09be7ccebf?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?q=80&w=2081&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=2174&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D","https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"],s=(new Date().getDay()+6)%7,[o,a]=S.useState(()=>{const l=r[s],u=r.filter(d=>d!==l),c=u.length>0?u[Math.floor(Math.random()*u.length)]:r[0];return console.log("Initial small card photo selected:",c),c});return S.useEffect(()=>{const u=setInterval(()=>{const c=r[s],d=r.filter(f=>f!==c&&f!==o);if(d.length>0){const f=d[Math.floor(Math.random()*d.length)];console.log("Rotating small card to new photo:",f),a(f)}else{const f=r.find(h=>h!==o)||r[0];console.log("Using fallback photo for small card:",f),a(f)}},72e5);return()=>clearInterval(u)},[o,s]),_.jsxs("div",{className:"w-full mb-8 pt-8",children:[_.jsx(el,{title:"Weekly Meal Plan",className:"mb-6"}),_.jsxs("div",{style:{width:"100%",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"stretch",gap:"12px",position:"relative"},children:[_.jsxs("div",{className:"parallax-bg",style:{flex:"2 1 0",height:"380px",borderRadius:"16px",backgroundImage:`linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.0) 66%, rgba(0,0,0,0.0) 100%), url('${r[s]}')`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(229, 231, 235, 1)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",position:"relative",overflow:"hidden",paddingLeft:"40px",minWidth:0},children:[_.jsx("div",{style:{fontWeight:"700",fontSize:"1rem",color:"#48AF55",marginBottom:"6px",letterSpacing:"0.5px",textTransform:"uppercase",textAlign:"left"},children:"Today"}),_.jsx("div",{style:{fontWeight:"200",fontSize:"2.75rem",color:"#ffffff",textAlign:"left"},children:i[s]})]}),_.jsx(Ts.div,{className:"relative overflow-hidden bg-cover bg-center bg-no-repeat",style:{flex:"1 1 0",height:"380px",borderRadius:"16px",backgroundImage:`url('${o}')`,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",border:"1px solid rgba(229, 231, 235, 1)",minWidth:0,marginRight:0},initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:_.jsx("div",{className:"absolute inset-0 flex flex-col",style:{background:"linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.4) 100%)",display:"flex",flexDirection:"column"},children:_.jsx("div",{style:{flex:"1 1 0",overflowY:"auto",paddingLeft:"32px",paddingRight:"16px",paddingTop:"24px",paddingBottom:"24px"},className:"scrollbar-hide",children:_.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:n.map((l,u)=>{const d=u<s?.6:1;return _.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",opacity:d},children:[_.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:u===s?"#48AF55":"#93C5FD",textTransform:"uppercase",letterSpacing:"0.5px"},children:u===s?"Today":l}),_.jsx("div",{style:{fontSize:"1.375rem",fontWeight:"300",color:"#ffffff",lineHeight:"1.3"},children:i[u]})]},l)})})})})},o)]})]})}function PI({groceryItems:t,setGroceryItems:e,addGroceryItem:n,updateGroceryItem:i,removeGroceryItem:r,tasks:s,setTasks:o,addTask:a,updateTask:l,removeTask:u,meals:c,setMeals:d}){const f=typeof window!="undefined"&&window.innerWidth<768;return _.jsxs("div",{className:`p-2 sm:p-4 flex flex-col ${f?"gap-3":"gap-4"}`,children:[!f&&_.jsx(wI,{}),_.jsxs("section",{className:`grid grid-cols-1 ${f?"":"md:grid-cols-2"} gap-3 sm:gap-4`,children:[_.jsx(SI,{items:t,setItems:e,addGroceryItem:n,updateGroceryItem:i}),_.jsx(kI,{tasks:s,setTasks:o,addTask:a,updateTask:l,removeTask:u})]}),!f&&_.jsx(II,{meals:c,setMeals:d})]})}function NI(){return _.jsx("div",{className:"text-center p-10 text-xl",children:"Coming soon: Home Dashboard"})}function DI(){return _.jsx("div",{className:"text-center p-10 text-xl",children:"Coming soon: Family Dashboard"})}const AI={ALERTS:PI,HOME:NI,FAMILY:DI};function RI({currentTab:t,groceryItems:e,setGroceryItems:n,addGroceryItem:i,updateGroceryItem:r,removeGroceryItem:s,tasks:o,setTasks:a,addTask:l,updateTask:u,removeTask:c,meals:d,setMeals:f}){const h=AI[t];return _.jsx("div",{className:"relative w-full",children:_.jsx(_f,{mode:"wait",children:_.jsx(Ts.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},children:_.jsx(h,{groceryItems:e,setGroceryItems:n,addGroceryItem:i,updateGroceryItem:r,removeGroceryItem:s,tasks:o,setTasks:a,addTask:l,updateTask:u,removeTask:c,meals:d,setMeals:f})},t)})})}function MI({children:t}){return _.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(ellipse_at_center,_#FDF6E7,_#FBEED4)]"}),_.jsx("div",{className:"absolute inset-0 z-10 grid grid-cols-3 grid-rows-3 w-full h-full pointer-events-none",children:[...Array(9)].map((e,n)=>_.jsx("img",{src:"/family-hub/PatternBG.svg",alt:"",className:"w-full h-full object-cover",draggable:"false"},n))}),_.jsx("div",{className:"absolute inset-0 z-15 overflow-hidden pointer-events-none",children:_.jsx("div",{className:"glint-mask"})}),_.jsx("div",{className:"relative z-20",children:t})]})}const bI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw cr(e)},cr=function(t){return new Error("Firebase Database ("+P_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},LI=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,o||(f=64)),i.push(n[c],n[d],n[f],n[h])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(N_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new OI;const f=s<<2|a>>4;if(i.push(f),u!==64){const h=a<<4&240|u>>2;if(i.push(h),d!==64){const m=u<<6&192|d;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D_=function(t){const e=N_(t);return Nf.encodeByteArray(e,!0)},ya=function(t){return D_(t).replace(/\./g,"")},Rc=function(t){try{return Nf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){return A_(void 0,t)}function A_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!jI(n)||(t[n]=A_(t[n],e[n]));return t}function jI(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=()=>VI().__FIREBASE_DEFAULTS__,zI=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UI=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Rc(t[1]);return e&&JSON.parse(e)},R_=()=>{try{return bI()||BI()||zI()||UI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WI=t=>{var e,n;return(n=(e=R_())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$I=t=>{const e=WI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},M_=()=>{var t;return(t=R_())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function HI(t){return pe(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=P({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ya(JSON.stringify(n)),ya(JSON.stringify(o)),a].join(".")}const Xr={};function KI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xr))Xr[e]?t.emulator.push(e):t.prod.push(e);return t}function YI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Gm=!1;function QI(t,e){if(typeof window=="undefined"||typeof document=="undefined"||!Df(window.location.host)||Xr[t]===e||Xr[t]||Gm)return;Xr[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",s=KI().prod.length>0;function o(){const f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Gm=!0,o()},f}function c(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=YI(i),h=n("text"),m=document.getElementById(h)||document.createElement("span"),p=n("learnmore"),w=document.getElementById(p)||document.createElement("a"),g=n("preprendIcon"),y=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const v=f.element;a(v),c(w,p);const x=u();l(y,g),v.append(y,m,w,x),document.body.appendChild(v)}s?(m.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b_(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qI())}function XI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function L_(){return P_.NODE_ADMIN===!0}function ZI(){try{return typeof indexedDB=="object"}catch(t){return!1}}function JI(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="FirebaseError";class Gs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=eP,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O_.prototype.create)}}class O_{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?tP(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Gs(r,a,i)}}function tP(t,e){return t.replace(nP,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const nP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){return JSON.parse(t)}function Ee(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=ks(Rc(s[0])||""),n=ks(Rc(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},iP=function(t){const e=F_(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},rP=function(t){const e=F_(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Km(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function va(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function _a(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Ym(s)&&Ym(o)){if(!_a(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Ym(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(r<<5|r>>>27)+u+l+c+i[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function tl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,N(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},nl=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Hs;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!=null?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cP(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch(n){}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=Fn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return pe(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fn){return this.instances.has(e)}getOptions(e=Fn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var o;const i=this.normalizeInstanceIdentifier(n),r=(o=this.onInitCallbacks.get(i))!=null?o:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}return i||null}normalizeInstanceIdentifier(e=Fn){return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uP(t){return t===Fn?void 0:t}function cP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Y||(Y={}));const fP={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},hP=Y.INFO,pP={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},mP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=pP[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j_{constructor(e){this.name=e,this._logLevel=hP,this._logHandler=mP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const gP=(t,e)=>e.some(n=>t instanceof n);let Qm,qm;function yP(){return Qm||(Qm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vP(){return qm||(qm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V_=new WeakMap,Mc=new WeakMap,B_=new WeakMap,su=new WeakMap,Af=new WeakMap;function _P(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yn(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&V_.set(n,t)}).catch(()=>{}),Af.set(e,t),e}function wP(t){if(Mc.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mc.set(t,e)}let bc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xP(t){bc=t(bc)}function CP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(ou(this),e,...n);return B_.set(i,e.sort?e.sort():[e]),yn(i)}:vP().includes(t)?function(...e){return t.apply(ou(this),e),yn(V_.get(this))}:function(...e){return yn(t.apply(ou(this),e))}}function SP(t){return typeof t=="function"?CP(t):(t instanceof IDBTransaction&&wP(t),gP(t,yP())?new Proxy(t,bc):t)}function yn(t){if(t instanceof IDBRequest)return _P(t);if(su.has(t))return su.get(t);const e=SP(t);return e!==t&&(su.set(t,e),Af.set(e,t)),e}const ou=t=>Af.get(t);function EP(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=yn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(yn(o.result),l.oldVersion,l.newVersion,yn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const TP=["get","getKey","getAll","getAllKeys","count"],kP=["put","add","delete","clear"],au=new Map;function Xm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(au.get(e))return au.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=kP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||TP.includes(n)))return;const s=function(o,...a){return pe(this,null,function*(){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),r&&l.done]))[0]})};return au.set(e,s),s}xP(t=>F(P({},t),{get:(e,n,i)=>Xm(e,n)||t.get(e,n,i),has:(e,n)=>!!Xm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function PP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lc="@firebase/app",Zm="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt=new j_("@firebase/app"),NP="@firebase/app-compat",DP="@firebase/analytics-compat",AP="@firebase/analytics",RP="@firebase/app-check-compat",MP="@firebase/app-check",bP="@firebase/auth",LP="@firebase/auth-compat",OP="@firebase/database",FP="@firebase/data-connect",jP="@firebase/database-compat",VP="@firebase/functions",BP="@firebase/functions-compat",zP="@firebase/installations",UP="@firebase/installations-compat",WP="@firebase/messaging",$P="@firebase/messaging-compat",HP="@firebase/performance",GP="@firebase/performance-compat",KP="@firebase/remote-config",YP="@firebase/remote-config-compat",QP="@firebase/storage",qP="@firebase/storage-compat",XP="@firebase/firestore",ZP="@firebase/ai",JP="@firebase/firestore-compat",eN="firebase",tN="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc="[DEFAULT]",nN={[Lc]:"fire-core",[NP]:"fire-core-compat",[AP]:"fire-analytics",[DP]:"fire-analytics-compat",[MP]:"fire-app-check",[RP]:"fire-app-check-compat",[bP]:"fire-auth",[LP]:"fire-auth-compat",[OP]:"fire-rtdb",[FP]:"fire-data-connect",[jP]:"fire-rtdb-compat",[VP]:"fire-fn",[BP]:"fire-fn-compat",[zP]:"fire-iid",[UP]:"fire-iid-compat",[WP]:"fire-fcm",[$P]:"fire-fcm-compat",[HP]:"fire-perf",[GP]:"fire-perf-compat",[KP]:"fire-rc",[YP]:"fire-rc-compat",[QP]:"fire-gcs",[qP]:"fire-gcs-compat",[XP]:"fire-fst",[JP]:"fire-fst-compat",[ZP]:"fire-vertex","fire-js":"fire-js",[eN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Map,iN=new Map,Fc=new Map;function Jm(t,e){try{t.container.addComponent(e)}catch(n){Yt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xa(t){const e=t.name;if(Fc.has(e))return Yt.debug(`There were multiple attempts to register component ${e}.`),!1;Fc.set(e,t);for(const n of wa.values())Jm(n,t);for(const n of iN.values())Jm(n,t);return!0}function rN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vn=new O_("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,i){this._isDeleted=!1,this._options=P({},e),this._config=P({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=tN;function z_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=P({name:Oc,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw vn.create("bad-app-name",{appName:String(r)});if(n||(n=M_()),!n)throw vn.create("no-options");const s=wa.get(r);if(s){if(_a(n,s.options)&&_a(i,s.config))return s;throw vn.create("duplicate-app",{appName:r})}const o=new dP(r);for(const l of Fc.values())o.addComponent(l);const a=new aN(n,i,o);return wa.set(r,a),a}function uN(t=Oc){const e=wa.get(t);if(!e&&t===Oc&&M_())return z_();if(!e)throw vn.create("no-app",{appName:t});return e}function Fi(t,e,n){var o;let i=(o=nN[t])!=null?o:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yt.warn(a.join(" "));return}xa(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firebase-heartbeat-database",dN=1,Ps="firebase-heartbeat-store";let lu=null;function U_(){return lu||(lu=EP(cN,dN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ps)}catch(n){console.warn(n)}}}}).catch(t=>{throw vn.create("idb-open",{originalErrorMessage:t.message})})),lu}function fN(t){return pe(this,null,function*(){try{const n=(yield U_()).transaction(Ps),i=yield n.objectStore(Ps).get(W_(t));return yield n.done,i}catch(e){if(e instanceof Gs)Yt.warn(e.message);else{const n=vn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yt.warn(n.message)}}})}function eg(t,e){return pe(this,null,function*(){try{const i=(yield U_()).transaction(Ps,"readwrite");yield i.objectStore(Ps).put(e,W_(t)),yield i.done}catch(n){if(n instanceof Gs)Yt.warn(n.message);else{const i=vn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yt.warn(i.message)}}})}function W_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=1024,pN=30;class mN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return pe(this,null,function*(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tg();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>pN){const o=vN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Yt.warn(i)}})}getHeartbeatsHeader(){return pe(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tg(),{heartbeatsToSend:i,unsentEntries:r}=gN(this._heartbeatsCache.heartbeats),s=ya(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yt.warn(n),""}})}}function tg(){return new Date().toISOString().substring(0,10)}function gN(t,e=hN){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),ng(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ng(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return pe(this,null,function*(){return ZI()?JI().then(()=>!0).catch(()=>!1):!1})}read(){return pe(this,null,function*(){if(yield this._canUseIndexedDBPromise){const n=yield fN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return pe(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){const r=yield this.read();return eg(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!=null?i:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return pe(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){const r=yield this.read();return eg(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!=null?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}}function ng(t){return ya(JSON.stringify({version:2,heartbeats:t})).length}function vN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t){xa(new Is("platform-logger",e=>new IP(e),"PRIVATE")),xa(new Is("heartbeat",e=>new mN(e),"PRIVATE")),Fi(Lc,Zm,t),Fi(Lc,Zm,"esm2020"),Fi("fire-js","")}_N("");const ig="@firebase/database",rg="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $_="";function wN(t){$_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ee(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ks(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return bt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xN(e)}}catch(e){}return new CN},Hn=H_("localStorage"),jc=H_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new j_("@firebase/database"),SN=function(){let t=1;return function(){return t++}}(),G_=function(t){const e=aP(t),n=new oP;n.update(e);const i=n.digest();return Nf.encodeByteArray(i)},Ks=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ks.apply(null,i):typeof i=="object"?e+=Ee(i):e+=i,e+=" "}return e};let qn=null,sg=!0;const EN=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ji.logLevel=Y.VERBOSE,qn=ji.log.bind(ji),e&&jc.set("logging_enabled",!0)):typeof t=="function"?qn=t:(qn=null,jc.remove("logging_enabled"))},Pe=function(...t){if(sg===!0&&(sg=!1,qn===null&&jc.get("logging_enabled")===!0&&EN(!0)),qn){const e=Ks.apply(null,t);qn(e)}},Ys=function(t){return function(...e){Pe(t,...e)}},Vc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ks(...t);ji.error(e)},Qt=function(...t){const e=`FIREBASE FATAL ERROR: ${Ks(...t)}`;throw ji.error(e),new Error(e)},Be=function(...t){const e="FIREBASE WARNING: "+Ks(...t);ji.warn(e)},TN=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Be("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},kN=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zi="[MIN_NAME]",ni="[MAX_NAME]",li=function(t,e){if(t===e)return 0;if(t===Zi||e===ni)return-1;if(e===Zi||t===ni)return 1;{const n=og(t),i=og(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},IN=function(t,e){return t===e?0:t<e?-1:1},Tr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ee(e))},Mf=function(t){if(typeof t!="object"||t===null)return Ee(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ee(e[i]),n+=":",n+=Mf(t[e[i]]);return n+="}",n},K_=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function Ae(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Y_=function(t){N(!Rf(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(r?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},PN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},NN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function DN(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const AN=new RegExp("^-?(0*)\\d{1,10}$"),RN=-2147483648,MN=2147483647,og=function(t){if(AN.test(t)){const e=Number(t);if(e>=RN&&e<=MN)return e}return null},fr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Be("Exception was thrown by user callback.",n),e},Math.floor(0))}},bN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zr=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno!="undefined"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,sN(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Be(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Be(e)}}class Vi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="5",Q_="v",q_="s",X_="r",Z_="f",J_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,e1="ls",t1="p",Bc="ac",n1="websocket",i1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1,u=null){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function FN(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function s1(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let i;if(e===n1)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===i1)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);FN(t)&&(n.ns=t.namespace);const r=[];return Ae(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.counters_={}}incrementCounter(e,n=1){bt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return FI(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu={},cu={};function Lf(t){const e=t.toString();return uu[e]||(uu[e]=new jN),uu[e]}function VN(t,e){const n=t.toString();return cu[n]||(cu[n]=e()),cu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&fr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="start",zN="close",UN="pLPCommand",WN="pRTLPCB",o1="id",a1="pw",l1="ser",$N="cb",HN="seg",GN="ts",KN="d",YN="dframe",u1=1870,c1=30,QN=u1-c1,qN=25e3,XN=3e4;class Ni{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ys(e),this.stats_=Lf(n),this.urlFn=l=>(this.appCheckToken&&(l[Bc]=this.appCheckToken),s1(n,i1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new BN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(XN)),kN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Of((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ag)this.id=a,this.password=l;else if(o===zN)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[ag]="t",i[l1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[$N]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Q_]=bf,this.transportSessionId&&(i[q_]=this.transportSessionId),this.lastSessionId&&(i[e1]=this.lastSessionId),this.applicationId&&(i[t1]=this.applicationId),this.appCheckToken&&(i[Bc]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&J_.test(location.hostname)&&(i[X_]=Z_);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ni.forceAllow_=!0}static forceDisallow(){Ni.forceDisallow_=!0}static isAvailable(){return Ni.forceAllow_?!0:!Ni.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!PN()&&!NN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ee(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=D_(n),r=K_(i,QN);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[YN]="t",i[o1]=e,i[a1]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ee(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Of{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=SN(),window[UN+this.uniqueCallbackIdentifier]=e,window[WN+this.uniqueCallbackIdentifier]=n,this.myIFrame=Of.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Pe("frame writing exception"),a.stack&&Pe(a.stack),Pe(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pe("No IE domain setting required")}catch(n){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[o1]=this.myID,e[a1]=this.myPW,e[l1]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+c1+i.length<=u1;){const o=this.pendingSegs.shift();i=i+"&"+HN+r+"="+o.seg+"&"+GN+r+"="+o.ts+"&"+KN+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(qN)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Pe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=16384,JN=45e3;let Ca=null;typeof MozWebSocket!="undefined"?Ca=MozWebSocket:typeof WebSocket!="undefined"&&(Ca=WebSocket);class _t{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ys(this.connId),this.stats_=Lf(n),this.connURL=_t.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[Q_]=bf,typeof location!="undefined"&&location.hostname&&J_.test(location.hostname)&&(o[X_]=Z_),n&&(o[q_]=n),i&&(o[e1]=i),r&&(o[Bc]=r),s&&(o[t1]=s),s1(e,n1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hn.set("previous_websocket_failure",!0);try{let i;L_(),this.mySock=new Ca(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){_t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ca!==null&&!_t.forceDisallow_}static previouslyFailed(){return Hn.isInMemoryStorage||Hn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ks(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ee(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=K_(n,ZN);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_t.responsesRequiredToBeHealthy=2;_t.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{static get ALL_TRANSPORTS(){return[Ni,_t]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=_t&&_t.isAvailable();let i=n&&!_t.previouslyFailed();if(e.webSocketOnly&&(n||Be("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[_t];else{const r=this.transports_=[];for(const s of Ns.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Ns.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ns.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=6e4,tD=5e3,nD=10*1024,iD=100*1024,du="t",lg="d",rD="s",ug="r",sD="e",cg="o",dg="a",fg="n",hg="p",oD="h";class aD{constructor(e,n,i,r,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ys("c:"+this.id+":"),this.transportManager_=new Ns(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Zr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(du in e){const n=e[du];n===dg?this.upgradeIfSecondaryHealthy_():n===ug?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Tr("t",e),i=Tr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:hg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:dg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:fg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Tr("t",e),i=Tr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Tr(du,e);if(lg in e){const i=e[lg];if(n===oD){const r=P({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===fg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rD?this.onConnectionShutdown_(i):n===ug?this.onReset_(i):n===sD?Vc("Server Error: "+i):n===cg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),bf!==i&&Be("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Zr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:hg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends f1{static getInstance(){return new Sa}constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!b_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=32,mg=768;class G{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $(){return new G("")}function V(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function En(t){return t.pieces_.length-t.pieceNum_}function Q(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new G(t.pieces_,e)}function Ff(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function lD(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ds(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function h1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new G(e,0)}function le(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof G)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new G(n,0)}function z(t){return t.pieceNum_>=t.pieces_.length}function Ge(t,e){const n=V(t),i=V(e);if(n===null)return e;if(n===i)return Ge(Q(t),Q(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uD(t,e){const n=Ds(t,0),i=Ds(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=li(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function jf(t,e){if(En(t)!==En(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ut(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(En(t)>En(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class cD{constructor(e,n){this.errorPrefix_=n,this.parts_=Ds(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=nl(this.parts_[i]);p1(this)}}function dD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nl(e),p1(t)}function fD(t){const e=t.parts_.pop();t.byteLength_-=nl(e),t.parts_.length>0&&(t.byteLength_-=1)}function p1(t){if(t.byteLength_>mg)throw new Error(t.errorPrefix_+"has a key path longer than "+mg+" bytes ("+t.byteLength_+").");if(t.parts_.length>pg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+pg+") or object contains a cycle "+jn(t))}function jn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends f1{static getInstance(){return new Vf}constructor(){super(["visible"]);let e,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=1e3,hD=60*5*1e3,gg=30*1e3,pD=1.3,mD=3e4,gD="server_kill",yg=3;class zt extends d1{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=zt.nextPersistentConnectionId_++,this.log_=Ys("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kr,this.maxReconnectDelay_=hD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!L_())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(Ee(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Hs,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;zt.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&bt(e,"w")){const i=Xi(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Be(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||rP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=gg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=iP(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ee(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Vc("Unrecognized action received from server: "+Ee(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mD&&(this.reconnectDelay_=kr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*pD)}this.onConnectStatus_(!1)}establishConnection_(){return pe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+zt.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},u=function(d){N(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=yield Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new aD(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,h=>{Be(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(gD)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Be(d),l())}}})}interrupt(e){Pe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Km(this.interruptReasons_)&&(this.reconnectDelay_=kr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>Mf(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new G(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){Pe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=yg&&(this.reconnectDelay_=gg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=yg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+$_.replace(/\./g,"-")]=1,b_()?e["framework.cordova"]=1:XI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sa.getInstance().currentlyOnline();return Km(this.interruptReasons_)&&e}}zt.nextPersistentConnectionId_=0;zt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new B(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new B(Zi,e),r=new B(Zi,n);return this.compare(i,r)!==0}minPost(){return B.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo;class m1 extends il{static get __EMPTY_NODE(){return Eo}static set __EMPTY_NODE(e){Eo=e}compare(e,n){return li(e.name,n.name)}isDefinedOn(e){throw cr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return B.MIN}maxPost(){return new B(ni,Eo)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new B(e,Eo)}toString(){return".key"}}const Bi=new m1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ce{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i!=null?i:Ce.RED,this.left=r!=null?r:Ke.EMPTY_NODE,this.right=s!=null?s:Ke.EMPTY_NODE}copy(e,n,i,r,s){return new Ce(e!=null?e:this.key,n!=null?n:this.value,i!=null?i:this.color,r!=null?r:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ke.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ke.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ce.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ce.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ce.RED=!0;Ce.BLACK=!1;class yD{copy(e,n,i,r,s){return this}insert(e,n,i){return new Ce(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ke{constructor(e,n=Ke.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ke(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ce.BLACK,null,null))}remove(e){return new Ke(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ce.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new To(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new To(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new To(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new To(this.root_,null,this.comparator_,!0,e)}}Ke.EMPTY_NODE=new yD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){return li(t.name,e.name)}function Bf(t,e){return li(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;function _D(t){zc=t}const g1=function(t){return typeof t=="number"?"number:"+Y_(t):"string:"+t},y1=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&bt(e,".sv"),"Priority must be a string or number.")}else N(t===zc||t.isEmpty(),"priority of unexpected type.");N(t===zc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg;class we{static set __childrenNodeConstructor(e){vg=e}static get __childrenNodeConstructor(){return vg}constructor(e,n=we.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),y1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new we(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:we.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return z(e)?this:V(e)===".priority"?this.priorityNode_:we.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:we.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=V(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(N(i!==".priority"||En(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,we.__childrenNodeConstructor.EMPTY_NODE.updateChild(Q(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+g1(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Y_(this.value_):e+=this.value_,this.lazyHash_=G_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===we.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof we.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=we.VALUE_TYPE_ORDER.indexOf(n),s=we.VALUE_TYPE_ORDER.indexOf(i);return N(r>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}we.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v1,_1;function wD(t){v1=t}function xD(t){_1=t}class CD extends il{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?li(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return B.MIN}maxPost(){return new B(ni,new we("[PRIORITY-POST]",_1))}makePost(e,n){const i=v1(e);return new B(n,new we("[PRIORITY-POST]",i))}toString(){return".priority"}}const ue=new CD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=Math.log(2);class ED{constructor(e){const n=s=>parseInt(Math.log(s)/SD,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ea=function(t,e,n,i){t.sort(e);const r=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new Ce(f,d.node,Ce.BLACK,null,null);{const h=parseInt(c/2,10)+l,m=r(l,h),p=r(h+1,u);return d=t[h],f=n?n(d):d,new Ce(f,d.node,Ce.BLACK,m,p)}},s=function(l){let u=null,c=null,d=t.length;const f=function(m,p){const w=d-m,g=d;d-=m;const y=r(w+1,g),v=t[w],x=n?n(v):v;h(new Ce(x,v.node,p,null,y))},h=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const p=l.nextBitIsOne(),w=Math.pow(2,l.count-(m+1));p?f(w,Ce.BLACK):(f(w,Ce.BLACK),f(w,Ce.RED))}return c},o=new ED(t.length),a=s(o);return new Ke(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu;const di={};class Vt{static get Default(){return N(di&&ue,"ChildrenNode.ts has not been loaded"),fu=fu||new Vt({".priority":di},{".priority":ue}),fu}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Xi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ke?n:null}hasIndex(e){return bt(this.indexSet_,e.toString())}addIndex(e,n){N(e!==Bi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(B.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Ea(i,e.getCompare()):a=di;const l=e.toString(),u=P({},this.indexSet_);u[l]=e;const c=P({},this.indexes_);return c[l]=a,new Vt(c,u)}addToIndexes(e,n){const i=va(this.indexes_,(r,s)=>{const o=Xi(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),r===di)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(B.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Ea(a,o.getCompare())}else return di;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new B(e.name,a))),l.insert(e,e.node)}});return new Vt(i,this.indexSet_)}removeFromIndexes(e,n){const i=va(this.indexes_,r=>{if(r===di)return r;{const s=n.get(e.name);return s?r.remove(new B(e.name,s)):r}});return new Vt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir;class L{static get EMPTY_NODE(){return Ir||(Ir=new L(new Ke(Bf),null,Vt.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&y1(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ir}updatePriority(e){return this.children_.isEmpty()?this:new L(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ir:n}}getChild(e){const n=V(e);return n===null?this:this.getImmediateChild(n).getChild(Q(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new B(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Ir:this.priorityNode_;return new L(r,o,s)}}updateChild(e,n){const i=V(e);if(i===null)return n;{N(V(e)!==".priority"||En(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Q(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(ue,(o,a)=>{n[o]=a.val(e),i++,s&&L.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+g1(this.getPriority().val())+":"),this.forEachChild(ue,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":G_(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new B(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new B(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new B(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,B.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,B.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qs?-1:0}withIndex(e){if(e===Bi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new L(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Bi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ue),r=n.getIterator(ue);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Bi?null:this.indexMap_.get(e.toString())}}L.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class TD extends L{constructor(){super(new Ke(Bf),L.EMPTY_NODE,Vt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}}const Qs=new TD;Object.defineProperties(B,{MIN:{value:new B(Zi,L.EMPTY_NODE)},MAX:{value:new B(ni,Qs)}});m1.__EMPTY_NODE=L.EMPTY_NODE;we.__childrenNodeConstructor=L;_D(Qs);xD(Qs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=!0;function Se(t,e=null){if(t===null)return L.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new we(n,Se(e))}if(!(t instanceof Array)&&kD){const n=[];let i=!1;if(Ae(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Se(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new B(o,l)))}}),n.length===0)return L.EMPTY_NODE;const s=Ea(n,vD,o=>o.name,Bf);if(i){const o=Ea(n,ue.getCompare());return new L(s,Se(e),new Vt({".priority":o},{".priority":ue}))}else return new L(s,Se(e),Vt.Default)}else{let n=L.EMPTY_NODE;return Ae(t,(i,r)=>{if(bt(t,i)&&i.substring(0,1)!=="."){const s=Se(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Se(e))}}wD(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID extends il{constructor(e){super(),this.indexPath_=e,N(!z(e)&&V(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?li(e.name,n.name):s}makePost(e,n){const i=Se(e),r=L.EMPTY_NODE.updateChild(this.indexPath_,i);return new B(n,r)}maxPost(){const e=L.EMPTY_NODE.updateChild(this.indexPath_,Qs);return new B(ni,e)}toString(){return Ds(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD extends il{compare(e,n){const i=e.node.compareTo(n.node);return i===0?li(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(e,n){const i=Se(e);return new B(n,i)}toString(){return".value"}}const ND=new PD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){return{type:"value",snapshotNode:t}}function Ji(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function As(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Rs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function DD(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(As(n,a)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ji(n,i)):o.trackChildChange(Rs(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ue,(r,s)=>{n.hasChild(r)||i.trackChildChange(As(r,s))}),n.isLeafNode()||n.forEachChild(ue,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Rs(r,s,o))}else i.trackChildChange(Ji(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.indexedFilter_=new zf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ms.getStartPost_(e),this.endPost_=Ms.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new B(n,i))||(i=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=L.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(L.EMPTY_NODE);const s=this;return n.forEachChild(ue,(o,a)=>{s.matches(new B(o,a))||(r=r.updateImmediateChild(o,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ms(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new B(n,i))||(i=L.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=L.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(L.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();const a=e;N(a.numChildren()===this.limit_,"");const l=new B(n,i),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=r.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);const h=f==null?1:o(f,l);if(c&&!i.isEmpty()&&h>=0)return s!=null&&s.trackChildChange(Rs(n,i,d)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(As(n,d));const p=a.updateImmediateChild(n,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Ji(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}}else return i.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(As(u.name,u.node)),s.trackChildChange(Ji(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(u.name,L.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zi}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ni}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ue}copy(){const e=new Uf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function RD(t){return t.loadsAllData()?new zf(t.getIndex()):t.hasLimit()?new AD(t):new Ms(t)}function _g(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ue?n="$priority":t.index_===ND?n="$value":t.index_===Bi?n="$key":(N(t.index_ instanceof ID,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ee(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ee(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ee(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ee(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ee(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function wg(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends d1{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ys("p:rest:"),this.listens_={}}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ta.getListenId_(e,i),a={};this.listens_[o]=a;const l=_g(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,i),Xi(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",r(f,null)}})}unlisten(e,n){const i=Ta.getListenId_(e,n);delete this.listens_[i]}get(e){const n=_g(e._queryParams),i=e._path.toString(),r=new Hs;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+sP(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ks(a.responseText)}catch(u){Be("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Be("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(){return{value:null,children:new Map}}function x1(t,e,n){if(z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=V(e);t.children.has(i)||t.children.set(i,ka());const r=t.children.get(i);e=Q(e),x1(r,e,n)}}function Uc(t,e,n){t.value!==null?n(e,t.value):bD(t,(i,r)=>{const s=new G(e.toString()+"/"+i);Uc(r,s,n)})}function bD(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=P({},e);return this.last_&&Ae(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=10*1e3,OD=30*1e3,FD=5*60*1e3;class jD{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new LD(e);const i=xg+(OD-xg)*Math.random();Zr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ae(e,(r,s)=>{s>0&&bt(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Zr(this.reportStats_.bind(this),Math.floor(Math.random()*2*FD))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wt||(wt={}));function Wf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $f(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=wt.ACK_USER_WRITE,this.source=Wf()}operationForChild(e){if(z(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new G(e));return new Ia($(),n,this.revert)}}else return N(V(this.path)===e,"operationForChild called for unrelated child."),new Ia(Q(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.source=e,this.path=n,this.type=wt.LISTEN_COMPLETE}operationForChild(e){return z(this.path)?new bs(this.source,$()):new bs(this.source,Q(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=wt.OVERWRITE}operationForChild(e){return z(this.path)?new ii(this.source,$(),this.snap.getImmediateChild(e)):new ii(this.source,Q(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=wt.MERGE}operationForChild(e){if(z(this.path)){const n=this.children.subtree(new G(e));return n.isEmpty()?null:n.value?new ii(this.source,$(),n.value):new er(this.source,$(),n)}else return N(V(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new er(this.source,Q(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(z(e))return this.isFullyInitialized()&&!this.filtered_;const n=V(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function BD(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(DD(o.childName,o.snapshotNode))}),Pr(t,r,"child_removed",e,i,n),Pr(t,r,"child_added",e,i,n),Pr(t,r,"child_moved",s,i,n),Pr(t,r,"child_changed",e,i,n),Pr(t,r,"value",e,i,n),r}function Pr(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>UD(t,a,l)),o.forEach(a=>{const l=zD(t,a,s);r.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function zD(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function UD(t,e,n){if(e.childName==null||n.childName==null)throw cr("Should only compare child_ events.");const i=new B(e.childName,e.snapshotNode),r=new B(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t,e){return{eventCache:t,serverCache:e}}function Jr(t,e,n,i){return rl(new ri(e,n,i),t.serverCache)}function C1(t,e,n,i){return rl(t.eventCache,new ri(e,n,i))}function Wc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function si(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu;const WD=()=>(hu||(hu=new Ke(IN)),hu);class K{static fromObject(e){let n=new K(null);return Ae(e,(i,r)=>{n=n.set(new G(i),r)}),n}constructor(e,n=WD()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$(),value:this.value};if(z(e))return null;{const i=V(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Q(e),n);return s!=null?{path:le(new G(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(z(e))return this;{const n=V(e),i=this.children.get(n);return i!==null?i.subtree(Q(e)):new K(null)}}set(e,n){if(z(e))return new K(n,this.children);{const i=V(e),s=(this.children.get(i)||new K(null)).set(Q(e),n),o=this.children.insert(i,s);return new K(this.value,o)}}remove(e){if(z(e))return this.children.isEmpty()?new K(null):new K(null,this.children);{const n=V(e),i=this.children.get(n);if(i){const r=i.remove(Q(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new K(null):new K(this.value,s)}else return this}}get(e){if(z(e))return this.value;{const n=V(e),i=this.children.get(n);return i?i.get(Q(e)):null}}setTree(e,n){if(z(e))return n;{const i=V(e),s=(this.children.get(i)||new K(null)).setTree(Q(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new K(this.value,o)}}fold(e){return this.fold_($(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(le(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,$(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(z(e))return null;{const s=V(e),o=this.children.get(s);return o?o.findOnPath_(Q(e),le(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$(),n)}foreachOnPath_(e,n,i){if(z(e))return this;{this.value&&i(n,this.value);const r=V(e),s=this.children.get(r);return s?s.foreachOnPath_(Q(e),le(n,r),i):new K(null)}}foreach(e){this.foreach_($(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(le(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.writeTree_=e}static empty(){return new St(new K(null))}}function es(t,e,n){if(z(e))return new St(new K(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Ge(r,e);return s=s.updateChild(o,n),new St(t.writeTree_.set(r,s))}else{const r=new K(n),s=t.writeTree_.setTree(e,r);return new St(s)}}}function $c(t,e,n){let i=t;return Ae(n,(r,s)=>{i=es(i,le(e,r),s)}),i}function Cg(t,e){if(z(e))return St.empty();{const n=t.writeTree_.setTree(e,new K(null));return new St(n)}}function Hc(t,e){return ui(t,e)!=null}function ui(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ge(n.path,e)):null}function Sg(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ue,(i,r)=>{e.push(new B(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new B(i,r.value))}),e}function _n(t,e){if(z(e))return t;{const n=ui(t,e);return n!=null?new St(new K(n)):new St(t.writeTree_.subtree(e))}}function Gc(t){return t.writeTree_.isEmpty()}function tr(t,e){return S1($(),t.writeTree_,e)}function S1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=S1(le(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(le(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t,e){return I1(e,t)}function $D(t,e,n,i,r){N(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=es(t.visibleWrites,e,n)),t.lastWriteId=i}function HD(t,e,n,i){N(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=$c(t.visibleWrites,e,n),t.lastWriteId=i}function GD(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function KD(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&YD(a,i.path)?r=!1:ut(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return QD(t),!0;if(i.snap)t.visibleWrites=Cg(t.visibleWrites,i.path);else{const a=i.children;Ae(a,l=>{t.visibleWrites=Cg(t.visibleWrites,le(i.path,l))})}return!0}else return!1}function YD(t,e){if(t.snap)return ut(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ut(le(t.path,n),e))return!0;return!1}function QD(t){t.visibleWrites=E1(t.allWrites,qD,$()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qD(t){return t.visible}function E1(t,e,n){let i=St.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)ut(n,o)?(a=Ge(n,o),i=es(i,a,s.snap)):ut(o,n)&&(a=Ge(o,n),i=es(i,$(),s.snap.getChild(a)));else if(s.children){if(ut(n,o))a=Ge(n,o),i=$c(i,a,s.children);else if(ut(o,n))if(a=Ge(o,n),z(a))i=$c(i,$(),s.children);else{const l=Xi(s.children,V(a));if(l){const u=l.getChild(Q(a));i=es(i,$(),u)}}}else throw cr("WriteRecord should have .snap or .children")}}return i}function T1(t,e,n,i,r){if(!i&&!r){const s=ui(t.visibleWrites,e);if(s!=null)return s;{const o=_n(t.visibleWrites,e);if(Gc(o))return n;if(n==null&&!Hc(o,$()))return null;{const a=n||L.EMPTY_NODE;return tr(o,a)}}}else{const s=_n(t.visibleWrites,e);if(!r&&Gc(s))return n;if(!r&&n==null&&!Hc(s,$()))return null;{const o=function(u){return(u.visible||r)&&(!i||!~i.indexOf(u.writeId))&&(ut(u.path,e)||ut(e,u.path))},a=E1(t.allWrites,o,e),l=n||L.EMPTY_NODE;return tr(a,l)}}}function XD(t,e,n){let i=L.EMPTY_NODE;const r=ui(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(ue,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=_n(t.visibleWrites,e);return n.forEachChild(ue,(o,a)=>{const l=tr(_n(s,new G(o)),a);i=i.updateImmediateChild(o,l)}),Sg(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=_n(t.visibleWrites,e);return Sg(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function ZD(t,e,n,i,r){N(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=le(e,n);if(Hc(t.visibleWrites,s))return null;{const o=_n(t.visibleWrites,s);return Gc(o)?r.getChild(n):tr(o,r.getChild(n))}}function JD(t,e,n,i){const r=le(e,n),s=ui(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=_n(t.visibleWrites,r);return tr(o,i.getNode().getImmediateChild(n))}else return null}function eA(t,e){return ui(t.visibleWrites,e)}function tA(t,e,n,i,r,s,o){let a;const l=_n(t.visibleWrites,e),u=ui(l,$());if(u!=null)a=u;else if(n!=null)a=tr(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let h=f.getNext();for(;h&&c.length<r;)d(h,i)!==0&&c.push(h),h=f.getNext();return c}else return[]}function nA(){return{visibleWrites:St.empty(),allWrites:[],lastWriteId:-1}}function Pa(t,e,n,i){return T1(t.writeTree,t.treePath,e,n,i)}function Kf(t,e){return XD(t.writeTree,t.treePath,e)}function Eg(t,e,n,i){return ZD(t.writeTree,t.treePath,e,n,i)}function Na(t,e){return eA(t.writeTree,le(t.treePath,e))}function iA(t,e,n,i,r,s){return tA(t.writeTree,t.treePath,e,n,i,r,s)}function Yf(t,e,n){return JD(t.writeTree,t.treePath,e,n)}function k1(t,e){return I1(le(t.treePath,e),t.writeTree)}function I1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Rs(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,As(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,Ji(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Rs(i,e.snapshotNode,r.oldSnap));else throw cr("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const P1=new sA;class Qf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ri(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Yf(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:si(this.viewCache_),s=iA(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){return{filter:t}}function aA(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function lA(t,e,n,i,r){const s=new rA;let o,a;if(n.type===wt.OVERWRITE){const u=n;u.source.fromUser?o=Kc(t,e,u.path,u.snap,i,r,s):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!z(u.path),o=Da(t,e,u.path,u.snap,i,r,a,s))}else if(n.type===wt.MERGE){const u=n;u.source.fromUser?o=cA(t,e,u.path,u.children,i,r,s):(N(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=Yc(t,e,u.path,u.children,i,r,a,s))}else if(n.type===wt.ACK_USER_WRITE){const u=n;u.revert?o=hA(t,e,u.path,i,r,s):o=dA(t,e,u.path,u.affectedTree,i,r,s)}else if(n.type===wt.LISTEN_COMPLETE)o=fA(t,e,n.path,i,s);else throw cr("Unknown operation type: "+n.type);const l=s.getChanges();return uA(e,o,l),{viewCache:o,changes:l}}function uA(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Wc(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(w1(Wc(e)))}}function N1(t,e,n,i,r,s){const o=e.eventCache;if(Na(i,n)!=null)return e;{let a,l;if(z(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=si(e),c=u instanceof L?u:L.EMPTY_NODE,d=Kf(i,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Pa(i,si(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=V(n);if(u===".priority"){N(En(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=Eg(i,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=Q(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=Eg(i,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Yf(i,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,r,s):a=o.getNode()}}return Jr(e,a,o.isFullyInitialized()||z(n),t.filter.filtersNodes())}}function Da(t,e,n,i,r,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(z(n))u=c.updateFullNode(l.getNode(),i,null);else if(c.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,i);u=c.updateFullNode(l.getNode(),h,null)}else{const h=V(n);if(!l.isCompleteForPath(n)&&En(n)>1)return e;const m=Q(n),w=l.getNode().getImmediateChild(h).updateChild(m,i);h===".priority"?u=c.updatePriority(l.getNode(),w):u=c.updateChild(l.getNode(),h,w,m,P1,null)}const d=C1(e,u,l.isFullyInitialized()||z(n),c.filtersNodes()),f=new Qf(r,d,s);return N1(t,d,n,r,f,a)}function Kc(t,e,n,i,r,s,o){const a=e.eventCache;let l,u;const c=new Qf(r,e,s);if(z(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Jr(e,u,!0,t.filter.filtersNodes());else{const d=V(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),l=Jr(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=Q(n),h=a.getNode().getImmediateChild(d);let m;if(z(f))m=i;else{const p=c.getCompleteChild(d);p!=null?Ff(f)===".priority"&&p.getChild(h1(f)).isEmpty()?m=p:m=p.updateChild(f,i):m=L.EMPTY_NODE}if(h.equals(m))l=e;else{const p=t.filter.updateChild(a.getNode(),d,m,f,c,o);l=Jr(e,p,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function Tg(t,e){return t.eventCache.isCompleteForChild(e)}function cA(t,e,n,i,r,s,o){let a=e;return i.foreach((l,u)=>{const c=le(n,l);Tg(e,V(c))&&(a=Kc(t,a,c,u,r,s,o))}),i.foreach((l,u)=>{const c=le(n,l);Tg(e,V(c))||(a=Kc(t,a,c,u,r,s,o))}),a}function kg(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Yc(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;z(n)?u=i:u=new K(null).setTree(n,i);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const h=e.serverCache.getNode().getImmediateChild(d),m=kg(t,h,f);l=Da(t,l,new G(d),m,r,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!h){const m=e.serverCache.getNode().getImmediateChild(d),p=kg(t,m,f);l=Da(t,l,new G(d),p,r,s,o,a)}}),l}function dA(t,e,n,i,r,s,o){if(Na(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Da(t,e,n,l.getNode().getChild(n),r,s,a,o);if(z(n)){let u=new K(null);return l.getNode().forEachChild(Bi,(c,d)=>{u=u.set(new G(c),d)}),Yc(t,e,n,u,r,s,a,o)}else return e}else{let u=new K(null);return i.foreach((c,d)=>{const f=le(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Yc(t,e,n,u,r,s,a,o)}}function fA(t,e,n,i,r){const s=e.serverCache,o=C1(e,s.getNode(),s.isFullyInitialized()||z(n),s.isFiltered());return N1(t,o,n,i,P1,r)}function hA(t,e,n,i,r,s){let o;if(Na(i,n)!=null)return e;{const a=new Qf(i,e,r),l=e.eventCache.getNode();let u;if(z(n)||V(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Pa(i,si(e));else{const d=e.serverCache.getNode();N(d instanceof L,"serverChildren would be complete if leaf node"),c=Kf(i,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=V(n);let d=Yf(i,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Q(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,L.EMPTY_NODE,Q(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Pa(i,si(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Na(i,$())!=null,Jr(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new zf(i.getIndex()),s=RD(i);this.processor_=oA(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(L.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(L.EMPTY_NODE,a.getNode(),null),c=new ri(l,o.isFullyInitialized(),r.filtersNodes()),d=new ri(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=rl(d,c),this.eventGenerator_=new VD(this.query_)}get query(){return this.query_}}function mA(t){return t.viewCache_.serverCache.getNode()}function gA(t,e){const n=si(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!z(e)&&!n.getImmediateChild(V(e)).isEmpty())?n.getChild(e):null}function Ig(t){return t.eventRegistrations_.length===0}function yA(t,e){t.eventRegistrations_.push(e)}function Pg(t,e,n){const i=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function Ng(t,e,n,i){e.type===wt.MERGE&&e.source.queryId!==null&&(N(si(t.viewCache_),"We should always have a full cache before handling merges"),N(Wc(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=lA(t.processor_,r,e,n,i);return aA(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,D1(t,s.changes,s.viewCache.eventCache.getNode(),null)}function vA(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ue,(s,o)=>{i.push(Ji(s,o))}),n.isFullyInitialized()&&i.push(w1(n.getNode())),D1(t,i,n.getNode(),e)}function D1(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return BD(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa;class _A{constructor(){this.views=new Map}}function wA(t){N(!Aa,"__referenceConstructor has already been defined"),Aa=t}function xA(){return N(Aa,"Reference.ts has not been loaded"),Aa}function CA(t){return t.views.size===0}function qf(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return N(s!=null,"SyncTree gave us an op for an invalid query."),Ng(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(Ng(o,e,n,i));return s}}function SA(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Pa(n,r?i:null),l=!1;a?l=!0:i instanceof L?(a=Kf(n,i),l=!1):(a=L.EMPTY_NODE,l=!1);const u=rl(new ri(a,l,!1),new ri(i,r,!1));return new pA(e,u)}return o}function EA(t,e,n,i,r,s){const o=SA(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),yA(o,n),vA(o,n)}function TA(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=Tn(t);if(r==="default")for(const[l,u]of t.views.entries())o=o.concat(Pg(u,n,i)),Ig(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(r);l&&(o=o.concat(Pg(l,n,i)),Ig(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Tn(t)&&s.push(new(xA())(e._repo,e._path)),{removed:s,events:o}}function A1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function zi(t,e){let n=null;for(const i of t.views.values())n=n||gA(i,e);return n}function R1(t,e){if(e._queryParams.loadsAllData())return sl(t);{const i=e._queryIdentifier;return t.views.get(i)}}function M1(t,e){return R1(t,e)!=null}function Tn(t){return sl(t)!=null}function sl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;function kA(t){N(!Ra,"__referenceConstructor has already been defined"),Ra=t}function IA(){return N(Ra,"Reference.ts has not been loaded"),Ra}let PA=1;class Dg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new K(null),this.pendingWriteTree_=nA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function b1(t,e,n,i,r){return $D(t.pendingWriteTree_,e,n,i,r),r?hr(t,new ii(Wf(),e,n)):[]}function NA(t,e,n,i){HD(t.pendingWriteTree_,e,n,i);const r=K.fromObject(n);return hr(t,new er(Wf(),e,r))}function ln(t,e,n=!1){const i=GD(t.pendingWriteTree_,e);if(KD(t.pendingWriteTree_,e)){let s=new K(null);return i.snap!=null?s=s.set($(),!0):Ae(i.children,o=>{s=s.set(new G(o),!0)}),hr(t,new Ia(i.path,s,n))}else return[]}function ol(t,e,n){return hr(t,new ii($f(),e,n))}function DA(t,e,n){const i=K.fromObject(n);return hr(t,new er($f(),e,i))}function AA(t,e){return hr(t,new bs($f(),e))}function RA(t,e,n){const i=Zf(t,n);if(i){const r=Jf(i),s=r.path,o=r.queryId,a=Ge(s,e),l=new bs(Hf(o),a);return eh(t,s,l)}else return[]}function Qc(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||M1(o,e))){const l=TA(o,e,n,i);CA(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!r){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,h)=>Tn(h));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const h=LA(f);for(let m=0;m<h.length;++m){const p=h[m],w=p.query,g=F1(t,p);t.listenProvider_.startListening(ts(w),Ma(t,w),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!i&&(c?t.listenProvider_.stopListening(ts(e),null):u.forEach(f=>{const h=t.queryToTagMap.get(al(f));t.listenProvider_.stopListening(ts(f),h)}))}OA(t,u)}return a}function MA(t,e,n,i){const r=Zf(t,i);if(r!=null){const s=Jf(r),o=s.path,a=s.queryId,l=Ge(o,e),u=new ii(Hf(a),l,n);return eh(t,o,u)}else return[]}function bA(t,e,n,i){const r=Zf(t,i);if(r){const s=Jf(r),o=s.path,a=s.queryId,l=Ge(o,e),u=K.fromObject(n),c=new er(Hf(a),l,u);return eh(t,o,c)}else return[]}function Ag(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(f,h)=>{const m=Ge(f,r);s=s||zi(h,m),o=o||Tn(h)});let a=t.syncPointTree_.get(r);a?(o=o||Tn(a),s=s||zi(a,$())):(a=new _A,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=L.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((h,m)=>{const p=zi(m,$());p&&(s=s.updateImmediateChild(h,p))}));const u=M1(a,e);if(!u&&!e._queryParams.loadsAllData()){const f=al(e);N(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=FA();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}const c=Gf(t.pendingWriteTree_,r);let d=EA(a,e,n,c,s,l);if(!u&&!o&&!i){const f=R1(a,e);d=d.concat(jA(t,e,f))}return d}function Xf(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Ge(o,e),u=zi(a,l);if(u)return u});return T1(r,e,s,n,!0)}function hr(t,e){return L1(e,t.syncPointTree_,null,Gf(t.pendingWriteTree_,$()))}function L1(t,e,n,i){if(z(t.path))return O1(t,e,n,i);{const r=e.get($());n==null&&r!=null&&(n=zi(r,$()));let s=[];const o=V(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=k1(i,o);s=s.concat(L1(a,l,u,c))}return r&&(s=s.concat(qf(r,t,i,n))),s}}function O1(t,e,n,i){const r=e.get($());n==null&&r!=null&&(n=zi(r,$()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=k1(i,o),c=t.operationForChild(o);c&&(s=s.concat(O1(c,a,l,u)))}),r&&(s=s.concat(qf(r,t,i,n))),s}function F1(t,e){const n=e.query,i=Ma(t,n);return{hashFn:()=>(mA(e)||L.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?RA(t,n._path,i):AA(t,n._path);{const s=DN(r,n);return Qc(t,n,null,s)}}}}function Ma(t,e){const n=al(e);return t.queryToTagMap.get(n)}function al(t){return t._path.toString()+"$"+t._queryIdentifier}function Zf(t,e){return t.tagToQueryMap.get(e)}function Jf(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new G(t.substr(0,e))}}function eh(t,e,n){const i=t.syncPointTree_.get(e);N(i,"Missing sync point for query tag that we're tracking");const r=Gf(t.pendingWriteTree_,e);return qf(i,n,r,null)}function LA(t){return t.fold((e,n,i)=>{if(n&&Tn(n))return[sl(n)];{let r=[];return n&&(r=A1(n)),Ae(i,(s,o)=>{r=r.concat(o)}),r}})}function ts(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(IA())(t._repo,t._path):t}function OA(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=al(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function FA(){return PA++}function jA(t,e,n){const i=e._path,r=Ma(t,e),s=F1(t,n),o=t.listenProvider_.startListening(ts(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)N(!Tn(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!z(u)&&c&&Tn(c))return[sl(c).query];{let f=[];return c&&(f=f.concat(A1(c).map(h=>h.query))),Ae(d,(h,m)=>{f=f.concat(m)}),f}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(ts(c),Ma(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new th(n)}node(){return this.node_}}class nh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=le(this.path_,e);return new nh(this.syncTree_,n)}node(){return Xf(this.syncTree_,this.path_)}}const VA=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Rg=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return BA(t[".sv"],e,n);if(typeof t[".sv"]=="object")return zA(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},BA=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},zA=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&N(!1,"Unexpected increment value: "+i);const r=e.node();if(N(r!==null&&typeof r!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},j1=function(t,e,n,i){return ih(e,new nh(n,t),i)},V1=function(t,e,n){return ih(t,new th(e),n)};function ih(t,e,n){const i=t.getPriority().val(),r=Rg(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Rg(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new we(a,Se(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new we(r))),o.forEachChild(ue,(a,l)=>{const u=ih(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function sh(t,e){let n=e instanceof G?e:new G(e),i=t,r=V(n);for(;r!==null;){const s=Xi(i.node.children,r)||{children:{},childCount:0};i=new rh(r,i,s),n=Q(n),r=V(n)}return i}function pr(t){return t.node.value}function B1(t,e){t.node.value=e,qc(t)}function z1(t){return t.node.childCount>0}function UA(t){return pr(t)===void 0&&!z1(t)}function ll(t,e){Ae(t.node.children,(n,i)=>{e(new rh(n,t,i))})}function U1(t,e,n,i){n&&!i&&e(t),ll(t,r=>{U1(r,e,!0,i)}),n&&i&&e(t)}function WA(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function qs(t){return new G(t.parent===null?t.name:qs(t.parent)+"/"+t.name)}function qc(t){t.parent!==null&&$A(t.parent,t.name,t)}function $A(t,e,n){const i=UA(n),r=bt(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,qc(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,qc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=/[\[\].#$\/\u0000-\u001F\u007F]/,GA=/[\[\].#$\u0000-\u001F\u007F]/,pu=10*1024*1024,oh=function(t){return typeof t=="string"&&t.length!==0&&!HA.test(t)},W1=function(t){return typeof t=="string"&&t.length!==0&&!GA.test(t)},KA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),W1(t)},YA=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Rf(t)||t&&typeof t=="object"&&bt(t,".sv")},$1=function(t,e,n,i){i&&e===void 0||ul(tl(t,"value"),e,n)},ul=function(t,e,n){const i=n instanceof G?new cD(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jn(i));if(typeof e=="function")throw new Error(t+"contains a function "+jn(i)+" with contents = "+e.toString());if(Rf(e))throw new Error(t+"contains "+e.toString()+" "+jn(i));if(typeof e=="string"&&e.length>pu/3&&nl(e)>pu)throw new Error(t+"contains a string greater than "+pu+" utf8 bytes "+jn(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(Ae(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!oh(o)))throw new Error(t+" contains an invalid key ("+o+") "+jn(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dD(i,o),ul(t,a,i),fD(i)}),r&&s)throw new Error(t+' contains ".value" child '+jn(i)+" in addition to actual children.")}},QA=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=Ds(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!oh(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(uD);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&ut(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},qA=function(t,e,n,i){if(i&&e===void 0)return;const r=tl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Ae(e,(o,a)=>{const l=new G(o);if(ul(r,a,le(n,l)),Ff(l)===".priority"&&!YA(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),QA(r,s)},H1=function(t,e,n,i){if(!(i&&n===void 0)&&!W1(n))throw new Error(tl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},XA=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),H1(t,e,n,i)},ah=function(t,e){if(V(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},ZA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!oh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KA(n))throw new Error(tl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cl(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!jf(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function G1(t,e,n){cl(t,n),K1(t,i=>jf(i,e))}function Tt(t,e,n){cl(t,n),K1(t,i=>ut(i,e)||ut(e,i))}function K1(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(eR(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function eR(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();qn&&Pe("event: "+n.toString()),fr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="repo_interrupt",nR=25;class iR{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new JA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ka(),this.transactionQueueTree_=new rh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rR(t,e,n){if(t.stats_=Lf(t.repoInfo_),t.forceRestClient_||bN())t.server_=new Ta(t.repoInfo_,(i,r,s,o)=>{Mg(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>bg(t,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new zt(t.repoInfo_,e,(i,r,s,o)=>{Mg(t,i,r,s,o)},i=>{bg(t,i)},i=>{sR(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=VN(t.repoInfo_,()=>new jD(t.stats_,t.server_)),t.infoData_=new MD,t.infoSyncTree_=new Dg({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=ol(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),lh(t,"connected",!1),t.serverSyncTree_=new Dg({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const u=o(a,l);Tt(t.eventQueue_,i._path,u)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function Y1(t){const n=t.infoData_.getNode(new G(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dl(t){return VA({timestamp:Y1(t)})}function Mg(t,e,n,i,r){t.dataUpdateCount++;const s=new G(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=va(n,u=>Se(u));o=bA(t.serverSyncTree_,s,l,r)}else{const l=Se(n);o=MA(t.serverSyncTree_,s,l,r)}else if(i){const l=va(n,u=>Se(u));o=DA(t.serverSyncTree_,s,l)}else{const l=Se(n);o=ol(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=nr(t,s)),Tt(t.eventQueue_,a,o)}function bg(t,e){lh(t,"connected",e),e===!1&&lR(t)}function sR(t,e){Ae(e,(n,i)=>{lh(t,n,i)})}function lh(t,e,n){const i=new G("/.info/"+e),r=Se(n);t.infoData_.updateSnapshot(i,r);const s=ol(t.infoSyncTree_,i,r);Tt(t.eventQueue_,i,s)}function uh(t){return t.nextWriteId_++}function oR(t,e,n,i,r){fl(t,"set",{path:e.toString(),value:n,priority:i});const s=dl(t),o=Se(n,i),a=Xf(t.serverSyncTree_,e),l=V1(o,a,s),u=uh(t),c=b1(t.serverSyncTree_,e,l,u,!0);cl(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,h)=>{const m=f==="ok";m||Be("set at "+e+" failed: "+f);const p=ln(t.serverSyncTree_,u,!m);Tt(t.eventQueue_,e,p),Xc(t,r,f,h)});const d=dh(t,e);nr(t,d),Tt(t.eventQueue_,d,[])}function aR(t,e,n,i){fl(t,"update",{path:e.toString(),value:n});let r=!0;const s=dl(t),o={};if(Ae(n,(a,l)=>{r=!1,o[a]=j1(le(e,a),Se(l),t.serverSyncTree_,s)}),r)Pe("update() called with empty data.  Don't do anything."),Xc(t,i,"ok",void 0);else{const a=uh(t),l=NA(t.serverSyncTree_,e,o,a);cl(t.eventQueue_,l),t.server_.merge(e.toString(),n,(u,c)=>{const d=u==="ok";d||Be("update at "+e+" failed: "+u);const f=ln(t.serverSyncTree_,a,!d),h=f.length>0?nr(t,e):e;Tt(t.eventQueue_,h,f),Xc(t,i,u,c)}),Ae(n,u=>{const c=dh(t,le(e,u));nr(t,c)}),Tt(t.eventQueue_,e,[])}}function lR(t){fl(t,"onDisconnectEvents");const e=dl(t),n=ka();Uc(t.onDisconnect_,$(),(r,s)=>{const o=j1(r,s,t.serverSyncTree_,e);x1(n,r,o)});let i=[];Uc(n,$(),(r,s)=>{i=i.concat(ol(t.serverSyncTree_,r,s));const o=dh(t,r);nr(t,o)}),t.onDisconnect_=ka(),Tt(t.eventQueue_,$(),i)}function uR(t,e,n){let i;V(e._path)===".info"?i=Ag(t.infoSyncTree_,e,n):i=Ag(t.serverSyncTree_,e,n),G1(t.eventQueue_,e._path,i)}function Lg(t,e,n){let i;V(e._path)===".info"?i=Qc(t.infoSyncTree_,e,n):i=Qc(t.serverSyncTree_,e,n),G1(t.eventQueue_,e._path,i)}function cR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tR)}function fl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pe(n,...e)}function Xc(t,e,n,i){e&&fr(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function Q1(t,e,n){return Xf(t.serverSyncTree_,e,n)||L.EMPTY_NODE}function ch(t,e=t.transactionQueueTree_){if(e||hl(t,e),pr(e)){const n=X1(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&dR(t,qs(e),n)}else z1(e)&&ll(e,n=>{ch(t,n)})}function dR(t,e,n){const i=n.map(u=>u.currentWriteId),r=Q1(t,e,i);let s=r;const o=r.hash();for(let u=0;u<n.length;u++){const c=n[u];N(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ge(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{fl(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(ln(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();hl(t,sh(t.transactionQueueTree_,e)),ch(t,t.transactionQueueTree_),Tt(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)fr(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Be("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}nr(t,e)}},o)}function nr(t,e){const n=q1(t,e),i=qs(n),r=X1(t,n);return fR(t,r,i),i}function fR(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Ge(n,l.path);let c=!1,d;if(N(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,r=r.concat(ln(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=nR)c=!0,d="maxretry",r=r.concat(ln(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Q1(t,l.path,o);l.currentInputSnapshot=f;const h=e[a].update(f.val());if(h!==void 0){ul("transaction failed: Data returned ",h,l.path);let m=Se(h);typeof h=="object"&&h!=null&&bt(h,".priority")||(m=m.updatePriority(f.getPriority()));const w=l.currentWriteId,g=dl(t),y=V1(m,f,g);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=y,l.currentWriteId=uh(t),o.splice(o.indexOf(w),1),r=r.concat(b1(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),r=r.concat(ln(t.serverSyncTree_,w,!0))}else c=!0,d="nodata",r=r.concat(ln(t.serverSyncTree_,l.currentWriteId,!0))}Tt(t.eventQueue_,n,r),r=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}hl(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)fr(i[a]);ch(t,t.transactionQueueTree_)}function q1(t,e){let n,i=t.transactionQueueTree_;for(n=V(e);n!==null&&pr(i)===void 0;)i=sh(i,n),e=Q(e),n=V(e);return i}function X1(t,e){const n=[];return Z1(t,e,n),n.sort((i,r)=>i.order-r.order),n}function Z1(t,e,n){const i=pr(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);ll(e,r=>{Z1(t,r,n)})}function hl(t,e){const n=pr(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,B1(e,n.length>0?n:void 0)}ll(e,i=>{hl(t,i)})}function dh(t,e){const n=qs(q1(t,e)),i=sh(t.transactionQueueTree_,e);return WA(i,r=>{mu(t,r)}),mu(t,i),U1(i,r=>{mu(t,r)}),n}function mu(t,e){const n=pr(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(ln(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?B1(e,void 0):n.length=s+1,Tt(t.eventQueue_,qs(e),r);for(let o=0;o<i.length;o++)fr(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}function pR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Be(`Invalid query segment '${n}' in query '${t}'`)}return e}const Og=function(t,e){const n=mR(t),i=n.namespace;n.domain==="firebase.com"&&Qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||TN();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new r1(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new G(n.pathString)}},mR=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(r=hR(t.substring(c,d)));const f=pR(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const m=e.indexOf(".");i=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=i}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",gR=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Fg.charAt(n%64),n=Math.floor(n/64);N(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=Fg.charAt(e[r]);return N(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ee(this.snapshot.exportVal())}}class ew{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return z(this._path)?null:Ff(this._path)}get ref(){return new Xt(this._repo,this._path)}get _queryIdentifier(){const e=wg(this._queryParams),n=Mf(e);return n==="{}"?"default":n}get _queryObject(){return wg(this._queryParams)}isEqual(e){if(e=dr(e),!(e instanceof fh))return!1;const n=this._repo===e._repo,i=jf(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+lD(this._path)}}class Xt extends fh{constructor(e,n){super(e,n,new Uf,!1)}get parent(){const e=h1(this._path);return e===null?null:new Xt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ls{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new G(e),i=ir(this.ref,e);return new Ls(this._node.getChild(n),i,ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new Ls(r,ir(this.ref,i),ue)))}hasChild(e){const n=new G(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Nr(t,e){return t=dr(t),t._checkNotDeleted("ref"),e!==void 0?ir(t._root,e):t._root}function ir(t,e){return t=dr(t),V(t._path)===null?XA("child","path",e,!1):H1("child","path",e,!1),new Xt(t._repo,le(t._path,e))}function vR(t,e){t=dr(t),ah("push",t._path),$1("push",e,t._path,!0);const n=Y1(t._repo),i=gR(n),r=ir(t,i),s=ir(t,i);let o;return e!=null?o=hh(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function _R(t){return ah("remove",t._path),hh(t,null)}function hh(t,e){t=dr(t),ah("set",t._path),$1("set",e,t._path,!1);const n=new Hs;return oR(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function wR(t,e){qA("update",e,t._path,!1);const n=new Hs;return aR(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class ph{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new J1("value",this,new Ls(e.snapshotNode,new Xt(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ew(this,e,n):null}matches(e){return e instanceof ph?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class mh{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ew(this,e,n):null}createEvent(e,n){N(e.childName!=null,"Child events should have a childName.");const i=ir(new Xt(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new J1(e.type,this,new Ls(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof mh?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function xR(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){const l=n,u=(c,d)=>{Lg(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new yR(n,s||void 0),a=e==="value"?new ph(o):new mh(e,o);return uR(t._repo,t,a),()=>Lg(t._repo,t,a)}function CR(t,e,n,i){return xR(t,"value",e,n,i)}wA(Xt);kA(Xt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="FIREBASE_DATABASE_EMULATOR_HOST",Zc={};let ER=!1;function TR(t,e,n,i){const r=e.lastIndexOf(":"),s=e.substring(0,r),o=Df(s);t.repoInfo_=new r1(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function kR(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Og(s,r),a=o.repoInfo,l,u;typeof process!="undefined"&&process.env&&(u=process.env[SR]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=Og(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const c=r&&l?new Vi(Vi.OWNER):new ON(t.name,t.options,e);ZA("Invalid Firebase Database URL",o),z(o.path)||Qt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=PR(a,t,c,new LN(t,n));return new NR(d,t)}function IR(t,e){const n=Zc[e];(!n||n[t.key]!==t)&&Qt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),cR(t),delete n[t.key]}function PR(t,e,n,i){let r=Zc[e.name];r||(r={},Zc[e.name]=r);let s=r[t.toURLString()];return s&&Qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new iR(t,ER,n,i),r[t.toURLString()]=s,s}class NR{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xt(this._repo,$())),this._rootInternal}_delete(){return this._rootInternal!==null&&(IR(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qt("Cannot call "+e+" on a deleted database.")}}function DR(t=uN(),e){const n=rN(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=$I("database");i&&AR(n,...i)}return n}function AR(t,e,n,i={}){t=dr(t),t._checkNotDeleted("useEmulator");const r=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(r===t._repoInternal.repoInfo_.host&&_a(i,s.repoInfo_.emulatorOptions))return;Qt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&Qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Vi(Vi.OWNER);else if(i.mockUserToken){const a=typeof i.mockUserToken=="string"?i.mockUserToken:GI(i.mockUserToken,t.app.options.projectId);o=new Vi(a)}Df(e)&&(HI(e),QI("Database",!0)),TR(s,r,i,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){wN(lN),xa(new Is("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return kR(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),Fi(ig,rg,t),Fi(ig,rg,"esm2020")}zt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};RR();var MR="firebase",bR="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(MR,bR,"app");const LR={apiKey:"AIzaSyAgfhlVrNGwhdux6qbmMuSx4wotxMy0pGU",authDomain:"family-hub-dashboard.firebaseapp.com",databaseURL:"https://family-hub-dashboard-default-rtdb.firebaseio.com",projectId:"family-hub-dashboard",storageBucket:"family-hub-dashboard.firebasestorage.app",messagingSenderId:"237122444853",appId:"1:237122444853:web:8d2836b0aea34422d0db7c"},OR=z_(LR),Dr=DR(OR);function gu(t,e=[]){const[n,i]=S.useState(e),[r,s]=S.useState(!0),[o,a]=S.useState(null);return S.useEffect(()=>{const f=Nr(Dr,t),h=CR(f,m=>{try{const p=m.val();if(console.log(`Firebase onValue for ${t}:`,p),p){let w;Array.isArray(p)?w=p:w=Object.entries(p).map(([g,y])=>F(P({},y),{firebaseId:g,id:y.id||g})),console.log(`Converted to array for ${t}:`,w),i(w)}else console.log(`No data found for ${t}, using default:`,e),i(e);s(!1),a(null)}catch(p){console.error("Firebase sync error:",p),a(p),s(!1)}},m=>{console.error("Firebase listener error:",m),a(m),s(!1)});return()=>h()},[t,e]),{data:n,loading:r,error:o,updateData:f=>pe(this,null,function*(){try{console.log(`Updating data for ${t}:`,f);const h=Nr(Dr,t);yield hh(h,f),console.log(`Data updated successfully for ${t}`)}catch(h){console.error("Firebase update error:",h),a(h)}}),addItem:f=>pe(this,null,function*(){try{console.log(`Adding item to ${t}:`,f);const h=Nr(Dr,t),m=yield vR(h,f);console.log(`Item added successfully to ${t}, key:`,m.key)}catch(h){console.error("Firebase add error:",h),a(h)}}),updateItem:(f,h)=>pe(this,null,function*(){try{const m=n.find(g=>g.id===f),p=(m==null?void 0:m.firebaseId)||f;console.log(`Updating item ${f} using Firebase key ${p}:`,h);const w=Nr(Dr,`${t}/${p}`);yield wR(w,h),console.log(`Item updated successfully: ${p}`)}catch(m){console.error("Firebase item update error:",m),a(m)}}),removeItem:f=>pe(this,null,function*(){try{const h=n.find(w=>w.id===f),m=(h==null?void 0:h.firebaseId)||f;console.log(`Removing item ${f} using Firebase key ${m}`);const p=Nr(Dr,`${t}/${m}`);yield _R(p),console.log(`Item removed successfully: ${m}`)}catch(h){console.error("Firebase remove error:",h),a(h)}})}}function FR(){const[t,e]=S.useState("ALERTS"),{data:n,updateData:i,addItem:r,updateItem:s,removeItem:o,loading:a}=gu("groceryItems",[]),{data:l,updateData:u,addItem:c,updateItem:d,removeItem:f,loading:h}=gu("tasks",[]),{data:m,updateData:p,loading:w}=gu("meals",{}),g=C=>{r?r(C):i([C,...n])},y=C=>{c?c(C):u([C,...l])},v=C=>{console.log("App: saving meals data:",C),p(C)},x=typeof window!="undefined"&&window.innerWidth<768;return _.jsx(MI,{children:_.jsxs("div",{className:"flex flex-col min-h-screen px-2 sm:px-4 md:px-8 text-text font-sans",children:[!x&&_.jsx(bC,{}),_.jsx("div",{className:`flex-grow flex flex-col gap-3 sm:gap-6 overflow-auto ${x?"pb-[80px] pt-4":"pb-[96px]"}`,children:_.jsx(RI,{currentTab:t,groceryItems:n,setGroceryItems:i,addGroceryItem:r,updateGroceryItem:s,removeGroceryItem:o,tasks:l,setTasks:u,addTask:c,updateTask:d,removeTask:f,meals:m,setMeals:p})}),_.jsx(mI,{current:t,onNavigate:e,onSaveGrocery:g,onSaveTask:y,onSaveMeals:v,groceryItems:n})]})})}yu.createRoot(document.getElementById("root")).render(_.jsx(ww.StrictMode,{children:_.jsx(FR,{})}));
