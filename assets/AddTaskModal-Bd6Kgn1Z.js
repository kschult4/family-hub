import{r as l,j as e}from"./motion-DtcReM-G.js";import"./vendor-DBiAVD-u.js";function v({isOpen:s,task:n,onClose:d,onSave:a,onDelete:x}){const[c,t]=l.useState(""),[u,m]=l.useState(""),[p,b]=l.useState(""),[h,i]=l.useState(!1),f=l.useRef(null);if(l.useRef(null),l.useEffect(()=>{n&&(t(n.description||""),m(n.frequency||""),b(n.recurring?"true":"false"))},[n]),l.useEffect(()=>{s&&f.current&&f.current.focus()},[s]),!s&&!n)return null;function g(o){if(o.preventDefault(),!c||!u||!p)return;const r={id:n?n.id:Date.now(),description:c,frequency:u,recurring:p==="true",done:n?n.done:!1,lastCompleted:n?n.lastCompleted:null};a==null||a(r),d(),i(!1)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md border",style:{marginBottom:h?"300px":"0"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:n?"Edit Task":"Add a New To-Do"}),e.jsx("button",{onClick:()=>{d(),i(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl font-light",children:"✕"})]}),e.jsxs("form",{className:"space-y-4",onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("input",{ref:f,type:"text",className:"w-full border rounded p-2",value:c,onChange:o=>t(o.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequency"}),e.jsxs("select",{className:"w-full border rounded p-2",value:u,onChange:o=>m(o.target.value),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Recurring"}),e.jsxs("select",{className:"w-full border rounded p-2",value:p,onChange:o=>b(o.target.value),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"true",children:"Yes"}),e.jsx("option",{value:"false",children:"No"})]})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>{d(),i(!1)},children:"Cancel"}),n&&x&&e.jsx("button",{type:"button",className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",onClick:()=>{x(n),d(),i(!1)},children:"Delete"})]}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded hover:bg-indigo-700",children:"Save"})]})]})]})}),h?e.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,background:"#f5f5f5",padding:"12px",borderTop:"1px solid #d1d5db",zIndex:9999},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"2px",marginBottom:"2px"},children:["1","2","3","4","5","6","7","8","9","0"].map(o=>e.jsx("button",{onMouseDown:r=>r.preventDefault(),onClick:()=>t(r=>r+o),style:{padding:"14px 8px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"16px",fontWeight:"normal",touchAction:"manipulation",userSelect:"none",cursor:"pointer"},children:o},o))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"2px",marginBottom:"2px"},children:["q","w","e","r","t","y","u","i","o","p"].map(o=>e.jsx("button",{onMouseDown:r=>r.preventDefault(),onClick:()=>t(r=>r+o),style:{padding:"14px 8px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"16px",fontWeight:"normal",touchAction:"manipulation",userSelect:"none",cursor:"pointer"},children:o.toUpperCase()},o))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(9, 1fr)",gap:"2px",marginBottom:"2px"},children:["a","s","d","f","g","h","j","k","l"].map(o=>e.jsx("button",{onMouseDown:r=>r.preventDefault(),onClick:()=>t(r=>r+o),style:{padding:"14px 8px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"16px",fontWeight:"normal",touchAction:"manipulation",userSelect:"none",cursor:"pointer"},children:o.toUpperCase()},o))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"8px"},children:["z","x","c","v","b","n","m"].map(o=>e.jsx("button",{onMouseDown:r=>r.preventDefault(),onClick:()=>t(r=>r+o),style:{padding:"14px 8px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"16px",fontWeight:"normal",touchAction:"manipulation",userSelect:"none",cursor:"pointer"},children:o.toUpperCase()},o))}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr",gap:"2px"},children:[e.jsx("button",{onMouseDown:o=>o.preventDefault(),onClick:()=>t(o=>o+" "),style:{padding:"12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"14px",fontWeight:"normal",touchAction:"manipulation",cursor:"pointer"},children:"space"}),e.jsx("button",{onMouseDown:o=>o.preventDefault(),onClick:()=>t(o=>o.slice(0,-1)),style:{padding:"12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"14px",fontWeight:"normal",touchAction:"manipulation",cursor:"pointer"},children:"⌫"}),e.jsx("button",{onMouseDown:o=>o.preventDefault(),onClick:()=>t(""),style:{padding:"12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"14px",fontWeight:"normal",touchAction:"manipulation",cursor:"pointer"},children:"clear"}),e.jsx("button",{onMouseDown:o=>o.preventDefault(),onClick:()=>i(!1),style:{padding:"12px",backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"4px",color:"#374151",fontSize:"14px",fontWeight:"normal",touchAction:"manipulation",cursor:"pointer"},children:"✕"})]})]}):null]})}export{v as default};
